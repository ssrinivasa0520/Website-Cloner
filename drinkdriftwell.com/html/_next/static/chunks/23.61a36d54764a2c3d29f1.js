(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{oE0T:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return w}));var n=r("nKUr"),o=r("rePB"),c=r("ODXe"),i=r("Womt"),a=r("q1tI"),s=r("MHn+"),u=r("QA/Y"),O=r("2H6Y"),b=r("m0my"),f=r.n(b),l=r("fxWw");function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t){var e=Object(a.useRef)(),r=Object(a.useRef)(!1),o=Object(l.a)("/model/driftwell.glb","https://www.gstatic.com/draco/versioned/decoders/1.4.0/"),c=o.nodes,i=o.materials,u=.33;return Object(a.useEffect)((function(){var r,n;e.current.rotation.y=(null===(r=t.initRotation)||void 0===r?void 0:r.y)*u||0,e.current.rotation.z=(null===(n=t.initRotation)||void 0===n?void 0:n.z)||0}),[]),Object(s.f)((function(t){var n=t.clock;if(!r.current){var o=e.current.rotation.y,c=o+n.getElapsedTime()*u;c>=Math.PI+Math.PI*u?r.current=!0:e.current.rotation.y=f()(o,c,.025)}})),Object(s.f)((function(){if(!r.current)return!1;var n=e.current.rotation.y,o=e.current.rotation.z,c=e.current.rotation.x;if(window.pageYOffset>5){var i=Math.abs(t.scrollPercentage-.2);e.current.rotation.y=f()(n,Math.PI+2.5*i,.05),e.current.rotation.z=f()(o,.5*i,.05),e.current.rotation.x=f()(c,.5*i,.05)}else e.current.rotation.y=f()(n,Math.PI,.05),e.current.rotation.z=f()(o,0,.05),e.current.rotation.x=f()(c,0,.05)})),i.CAN_METAL_TOP.roughness=.6,i.CAN_METAL_OTHER.roughness=.6,i.CAN_LABEL.roughness=.6,Object(n.jsxs)("group",p(p({ref:e},t),{},{children:[Object(n.jsx)("mesh",{material:i.CAN_METAL_TOP,geometry:c.CAN_METAL_TOP.geometry,position:[0,1.76,0],rotation:[Math.PI/2,0,0]}),Object(n.jsx)("mesh",{material:i.CAN_LABEL,geometry:c.NEW_CAN_LABEL.geometry,position:[0,-1.98,0],rotation:[Math.PI/2,0,-Math.PI],scale:[.39,.39,.39]}),Object(n.jsx)("mesh",{material:i.CAN_METAL_OTHER,geometry:c.CAN_TAB.geometry,position:[0,1.92,0],rotation:[Math.PI/2,0,0]}),Object(n.jsx)("mesh",{material:i.CAN_METAL_OTHER,geometry:c.CAN_TAB_RIVET.geometry,position:[0,1.86,0],rotation:[Math.PI/2,0,0]}),Object(n.jsx)("mesh",{material:i.CAN_METAL_OTHER,geometry:c.NEW_CAN_METAL_BOTTOM.geometry,position:[0,-1.98,0],rotation:[Math.PI/2,0,-Math.PI],scale:[.39,.39,.39]})]}))}Math.radians=function(t){return t*Math.PI/180},l.a.preload("/model/driftwell.glb","https://www.gstatic.com/draco/versioned/decoders/1.4.0/");var h=r("57c0"),g=r("YKUD");function y(t){var e=Object(g.b)().setCanContext,r=Object(h.b)(),n=(r.progress,r.loaded),o=r.total;return Object(a.useEffect)((function(){o>1&&n===o&&e(!0)}),[n,o]),null}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){var e=t.background,r=void 0!==e&&e,n=Object(s.h)(),o=n.gl,O=n.scene,b=Object(s.g)(u.a,[["px.hdr","nx.hdr","py.hdr","ny.hdr","pz.hdr","nz.hdr"]],(function(t){t.setDataType(i.UnsignedByteType),t.setPath("/hdri/")})),f=Object(c.a)(b,1)[0];return Object(a.useEffect)((function(){var t=new i.PMREMGenerator(o);t.compileEquirectangularShader();var e=t.fromCubemap(f);return f.dispose(),t.dispose(),r&&(O.background=e.texture),O.environment=e.texture,function(){return O.environment=O.background=null}}),[f]),null}function E(t){var e=Object(a.useRef)(),r=Object(s.h)().setDefaultCamera;return Object(a.useEffect)((function(){r(e.current)}),[]),Object(s.f)((function(){return e.current.updateMatrixWorld()})),Object(n.jsx)("perspectiveCamera",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({ref:e},t))}function v(){return Object(s.f)((function(t){var e=t.clock,r=t.camera,n=r.position.y,o=Math.sin(1.25*e.getElapsedTime())/1.5;r.position.y=f()(n,o,.05);var c=r.rotation.z,i=.05*Math.sin(1.25*e.getElapsedTime());r.rotation.z=f()(c,i,.05)})),null}function w(t){var e=Object(a.useRef)();return Object(a.useEffect)((function(){e.current=window.devicePixelRatio}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(s.a,{concurrent:!0,pixelRatio:e.current,onCreated:function(t){var e=t.gl;e.toneMapping=i.ACESFilmicToneMapping,e.outputEncoding=i.sRGBEncoding},children:[Object(n.jsx)(E,{position:[0,-2.5,60],fov:60,zoom:1}),Object(n.jsxs)(a.Suspense,{fallback:null,children:[Object(n.jsx)("ambientLight",{intensity:1,color:16777215}),Object(n.jsx)("rectAreaLight",{intensity:.75,position:[0,25,120],width:100,height:200,onUpdate:function(t){return t.lookAt(new i.Vector3(0,-10,0))}}),Object(n.jsx)("rectAreaLight",{intensity:.8,position:[0,30,20],width:200,height:200,onUpdate:function(t){return t.lookAt(new i.Vector3(0,-10,0))}}),Object(n.jsx)(P,{}),Object(n.jsx)(d,{position:[0,0,0],scale:[7,7,7],rotation:[0,0,0],scrollPercentage:t.scrollPercentage,initRotation:t.initRotation})]}),Object(n.jsx)(v,{})]}),Object(n.jsx)(y,{})]})}O.a.init(),Math.radians=function(t){return t*Math.PI/180}}}]);
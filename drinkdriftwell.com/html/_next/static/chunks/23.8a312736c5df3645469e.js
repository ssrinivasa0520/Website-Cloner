(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{oE0T:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return _}));var r=n("wx14"),o=n("ODXe"),i=n("Womt"),a=n("q1tI"),c=n.n(a),u=n("MHn+"),s=n("QA/Y"),l=n("2H6Y"),f=n("m0my"),h=n.n(f),d=n("fxWw"),g=c.a.createElement;function p(t){var e=Object(a.useRef)(),n=Object(a.useRef)(!1),o=Object(d.a)("/model/driftwell.glb"),i=o.nodes,c=o.materials;return Object(a.useEffect)((function(){var n,r;e.current.rotation.y=.33*(null===(n=t.initRotation)||void 0===n?void 0:n.y)||0,e.current.rotation.z=(null===(r=t.initRotation)||void 0===r?void 0:r.z)||0}),[]),Object(u.f)((function(t){var r=t.clock;if(!n.current){var o=e.current.rotation.y,i=o+.33*r.getElapsedTime();i>=Math.PI+.33*Math.PI?n.current=!0:e.current.rotation.y=h()(o,i,.035)}})),Object(u.f)((function(){if(!n.current)return!1;var r=e.current.rotation.y,o=e.current.rotation.z,i=e.current.rotation.x;window.pageYOffset>50?(e.current.rotation.y=h()(r,Math.PI+2.5*t.scrollPercentage,.05),e.current.rotation.z=h()(o,.5*t.scrollPercentage,.05),e.current.rotation.x=h()(i,.5*t.scrollPercentage,.05)):(e.current.rotation.y=h()(r,Math.PI,.05),e.current.rotation.z=h()(o,0,.05),e.current.rotation.x=h()(i,0,.05))})),c.CAN_METAL_TOP.roughness=.6,c.CAN_METAL_OTHER.roughness=.6,c.CAN_LABEL.roughness=.6,g("group",Object(r.a)({ref:e},t),g("mesh",{material:c.CAN_METAL_TOP,geometry:i.CAN_METAL_TOP.geometry,position:[0,1.76,0],rotation:[Math.PI/2,0,0]}),g("mesh",{material:c.CAN_LABEL,geometry:i.NEW_CAN_LABEL.geometry,position:[0,-1.98,0],rotation:[Math.PI/2,0,-Math.PI],scale:[.39,.39,.39]}),g("mesh",{material:c.CAN_METAL_OTHER,geometry:i.CAN_TAB.geometry,position:[0,1.92,0],rotation:[Math.PI/2,0,0]}),g("mesh",{material:c.CAN_METAL_OTHER,geometry:i.CAN_TAB_RIVET.geometry,position:[0,1.86,0],rotation:[Math.PI/2,0,0]}),g("mesh",{material:c.CAN_METAL_OTHER,geometry:i.NEW_CAN_METAL_BOTTOM.geometry,position:[0,-1.98,0],rotation:[Math.PI/2,0,-Math.PI],scale:[.39,.39,.39]}))}Math.radians=function(t){return t*Math.PI/180};var m=n("57c0"),E=n("YKUD");function b(t){var e=Object(E.b)().setCanContext,n=Object(m.b)(),r=(n.progress,n.loaded),o=n.total;return Object(a.useEffect)((function(){o>1&&r===o&&e(!0)}),[r,o]),null}var O=c.a.createElement;function A(t){var e=t.background,n=void 0!==e&&e,r=Object(u.h)(),c=r.gl,l=r.scene,f=Object(u.g)(s.a,[["px.hdr","nx.hdr","py.hdr","ny.hdr","pz.hdr","nz.hdr"]],(function(t){t.setDataType(i.UnsignedByteType),t.setPath("/hdri/")})),h=Object(o.a)(f,1)[0];return Object(a.useEffect)((function(){var t=new i.PMREMGenerator(c);t.compileEquirectangularShader();var e=t.fromCubemap(h);return h.dispose(),t.dispose(),n&&(l.background=e.texture),l.environment=e.texture,function(){return l.environment=l.background=null}}),[h]),null}function M(t){var e=Object(a.useRef)(),n=Object(u.h)().setDefaultCamera;return Object(a.useEffect)((function(){n(e.current)}),[]),Object(u.f)((function(){return e.current.updateMatrixWorld()})),O("perspectiveCamera",Object(r.a)({ref:e},t))}function y(){return Object(u.f)((function(t){var e=t.clock,n=t.camera,r=n.position.y,o=Math.sin(1.25*e.getElapsedTime())/1.5;n.position.y=h()(r,o,.05);var i=n.rotation.z,a=.05*Math.sin(1.25*e.getElapsedTime());n.rotation.z=h()(i,a,.05)})),null}function _(t){var e=Object(a.useRef)();return Object(a.useEffect)((function(){e.current=window.devicePixelRatio}),[]),O(c.a.Fragment,null,O(u.a,{concurrent:!0,pixelRatio:e.current,onCreated:function(t){var e=t.gl;e.toneMapping=i.ACESFilmicToneMapping,e.outputEncoding=i.sRGBEncoding}},O(M,{position:[0,-2.5,60],fov:60,zoom:1}),O(a.Suspense,{fallback:null},O("ambientLight",{intensity:1,color:16777215}),O("rectAreaLight",{intensity:.75,position:[0,25,120],width:100,height:200,onUpdate:function(t){return t.lookAt(new i.Vector3(0,-10,0))}}),O("rectAreaLight",{intensity:.8,position:[0,30,20],width:200,height:200,onUpdate:function(t){return t.lookAt(new i.Vector3(0,-10,0))}}),O(A,null),O(p,{position:[0,0,0],scale:[7,7,7],rotation:[0,0,0],scrollPercentage:t.scrollPercentage,initRotation:t.initRotation})),O(y,null)),O(b,null))}l.a.init(),Math.radians=function(t){return t*Math.PI/180}}}]);
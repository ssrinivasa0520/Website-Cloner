(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[5],{"2SQs":function(e,t,n){(function(t){var n=/^\[object .+?Constructor\]$/,r=/^(?:0|[1-9]\d*)$/,o="object"==typeof t&&t&&t.Object===Object&&t,i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")();function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function c(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var o=e.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,h,n);var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function l(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function u(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function d(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function h(e){return e!==e}function p(e,t){return e.has(t)}function f(e,t){return function(n){return e(t(n))}}var m=Array.prototype,v=Function.prototype,g=Object.prototype,y=a["__core-js_shared__"],b=function(){var e=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),M=v.toString,I=g.hasOwnProperty,A=g.toString,D=RegExp("^"+M.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=a.Symbol,R=f(Object.getPrototypeOf,Object),G=g.propertyIsEnumerable,T=m.splice,x=w?w.isConcatSpreadable:void 0,E=Object.getOwnPropertySymbols,V=Math.max,S=U(a,"Map"),N=U(Object,"create");function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function F(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e){var t=-1,n=e?e.length:0;for(this.__data__=new F;++t<n;)this.add(e[t])}function L(e,t){var n=Z(e)||q(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!I.call(e,i)||o&&("length"==i||Y(i,r))||n.push(i);return n}function _(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!==n&&r!==r)return o;return-1}function k(e){return!(!J(e)||(t=e,b&&b in t))&&($(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?D:n).test(function(e){if(null!=e){try{return M.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function X(e){if(!J(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||g;return e===n}(e),n=[];for(var r in e)("constructor"!=r||!t&&I.call(e,r))&&n.push(r);return n}function C(e){return function(e,t,n){var r=t(e);return Z(e)?r:d(r,n(e))}(e,te,Q)}function H(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function U(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return k(n)?n:void 0}P.prototype.clear=function(){this.__data__=N?N(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(N){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return I.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return N?void 0!==t[e]:I.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=N&&void 0===t?"__lodash_hash_undefined__":t,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function(e){var t=this.__data__,n=_(t,e);return!(n<0)&&(n==t.length-1?t.pop():T.call(t,n,1),!0)},O.prototype.get=function(e){var t=this.__data__,n=_(t,e);return n<0?void 0:t[n][1]},O.prototype.has=function(e){return _(this.__data__,e)>-1},O.prototype.set=function(e,t){var n=this.__data__,r=_(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},F.prototype.clear=function(){this.__data__={hash:new P,map:new(S||O),string:new P}},F.prototype.delete=function(e){return H(this,e).delete(e)},F.prototype.get=function(e){return H(this,e).get(e)},F.prototype.has=function(e){return H(this,e).has(e)},F.prototype.set=function(e,t){return H(this,e).set(e,t),this},j.prototype.add=j.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},j.prototype.has=function(e){return this.__data__.has(e)};var B=E?f(E,Object):ie,Q=E?function(e){for(var t=[];e;)d(t,B(e)),e=R(e);return t}:ie;function z(e){return Z(e)||q(e)||!!(x&&e&&e[x])}function Y(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}function W(e){if("string"==typeof e||function(e){return"symbol"==typeof e||ee(e)&&"[object Symbol]"==A.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function q(e){return function(e){return ee(e)&&K(e)}(e)&&I.call(e,"callee")&&(!G.call(e,"callee")||"[object Arguments]"==A.call(e))}var Z=Array.isArray;function K(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!$(e)}function $(e){var t=J(e)?A.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function J(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ee(e){return!!e&&"object"==typeof e}function te(e){return K(e)?L(e,!0):X(e)}var ne,re,oe=(ne=function(e,t){return null==e?{}:(t=u(function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=z),i||(i=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,o,i):d(i,c):o||(i[i.length]=c)}return i}(t,1),W),function(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=e[a];n(s,a)&&(i[a]=s)}return i}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var o,i=-1,a=c,s=!0,d=e.length,h=[],f=t.length;if(!d)return h;n&&(t=u(t,(o=n,function(e){return o(e)}))),r?(a=l,s=!1):t.length>=200&&(a=p,s=!1,t=new j(t));e:for(;++i<d;){var m=e[i],v=n?n(m):m;if(m=r||0!==m?m:0,s&&v===v){for(var g=f;g--;)if(t[g]===v)continue e;h.push(m)}else a(t,v,r)||h.push(m)}return h}(C(e),t)))},re=V(void 0===re?ne.length-1:re,0),function(){for(var e=arguments,t=-1,n=V(e.length-re,0),r=Array(n);++t<n;)r[t]=e[re+t];t=-1;for(var o=Array(re+1);++t<re;)o[t]=e[t];return o[re]=r,s(ne,this,o)});function ie(){return[]}e.exports=oe}).call(this,n("yLpj"))},"3aMv":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("71bl"),o=n("53ff"),i=function(e,t,n){if(o.d.fun(e))return e;if(o.d.arr(e))return i({range:e,output:t,extrapolate:n});if(o.d.str(e.output[0]))return r.createStringInterpolator(e);var a=e,s=a.output,c=a.range||[0,1],l=a.extrapolateLeft||a.extrapolate||"extend",u=a.extrapolateRight||a.extrapolate||"extend",d=a.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,c);return function(e,t,n,r,o,i,a,s,c){var l=c?c(e):e;if(l<t){if("identity"===a)return l;"clamp"===a&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===o)return r;if(t===n)return e<=t?r:o;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=i(l),r===-1/0?l=-l:o===1/0?l+=r:l=l*(o-r)+r;return l}(e,c[t],c[t+1],s[t],s[t+1],d,l,u,a.map)}}},"53ff":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n("71bl"),o=function(){},i=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},a={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function s(e,t){if(a.arr(e)){if(!a.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var c=function(e){return a.str(e)&&("#"==e[0]||/\d/.test(e)||!(!r.colorNames||!r.colorNames[e]))},l=function(e,t,n){a.fun(e.forEach)?e.forEach(t,n):Object.keys(e).forEach((function(r){return t.call(n,e[r],r)}))},u=function(e){return a.und(e)?[]:a.arr(e)?e:[e]};function d(e,t){if(e.size){var n=Array.from(e);e.clear(),l(n,t)}}},"57c0":function(e,t,n){"use strict";n.d(t,"a",(function(){return je})),n.d(t,"b",(function(){return Le}));var r=n("rePB"),o=n("1OyB"),i=n("vuIU"),a=n("JX7q"),s=n("Ji7U"),c=n("md7G"),l=n("foSv");n("s4An");n("ODXe");var u=n("KQm4"),d=n("wx14"),h=n("zLVn"),p=n("q1tI"),f=n.n(p),m=n("MHn+"),v=(n("LFnd"),n("Womt")),g=function(){v.InstancedBufferGeometry.call(this),this.type="LineSegmentsGeometry";this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new v.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new v.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))};g.prototype=Object.assign(Object.create(v.InstancedBufferGeometry.prototype),{constructor:g,isLineSegmentsGeometry:!0,applyMatrix4:function(e){var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new v.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceStart",new v.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceEnd",new v.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new v.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceColorStart",new v.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceColorEnd",new v.InterleavedBufferAttribute(n,3,3)),this},fromWireframeGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromEdgesGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromMesh:function(e){return this.fromWireframeGeometry(new v.WireframeGeometry(e.geometry)),this},fromLineSegments:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},computeBoundingBox:function(){var e=new v.Box3;return function(){null===this.boundingBox&&(this.boundingBox=new v.Box3);var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;void 0!==t&&void 0!==n&&(this.boundingBox.setFromBufferAttribute(t),e.setFromBufferAttribute(n),this.boundingBox.union(e))}}(),computeBoundingSphere:function(){var e=new v.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new v.Sphere),null===this.boundingBox&&this.computeBoundingBox();var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(void 0!==t&&void 0!==n){var r=this.boundingSphere.center;this.boundingBox.getCenter(r);for(var o=0,i=0,a=t.count;i<a;i++)e.fromBufferAttribute(t,i),o=Math.max(o,r.distanceToSquared(e)),e.fromBufferAttribute(n,i),o=Math.max(o,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}}(),toJSON:function(){},applyMatrix:function(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}});var y=function(){g.call(this),this.type="LineGeometry"};y.prototype=Object.assign(Object.create(g.prototype),{constructor:y,isLineGeometry:!0,setPositions:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return g.prototype.setPositions.call(this,n),this},setColors:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return g.prototype.setColors.call(this,n),this},fromLine:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},copy:function(){return this}}),v.UniformsLib.line={linewidth:{value:1},resolution:{value:new v.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1},opacity:{value:1}},v.ShaderLib.line={uniforms:v.UniformsUtils.merge([v.UniformsLib.common,v.UniformsLib.fog,v.UniformsLib.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var b=function(e){v.ShaderMaterial.call(this,{type:"LineMaterial",uniforms:v.UniformsUtils.clone(v.ShaderLib.line.uniforms),vertexShader:v.ShaderLib.line.vertexShader,fragmentShader:v.ShaderLib.line.fragmentShader,clipping:!0}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}}}),this.setValues(e)};(b.prototype=Object.create(v.ShaderMaterial.prototype)).constructor=b,b.prototype.isLineMaterial=!0;var M=function(e,t){void 0===e&&(e=new g),void 0===t&&(t=new b({color:16777215*Math.random()})),v.Mesh.call(this,e,t),this.type="LineSegments2"};M.prototype=Object.assign(Object.create(v.Mesh.prototype),{constructor:M,isLineSegments2:!0,computeLineDistances:function(){var e=new v.Vector3,t=new v.Vector3;return function(){for(var n=this.geometry,r=n.attributes.instanceStart,o=n.attributes.instanceEnd,i=new Float32Array(2*r.data.count),a=0,s=0,c=r.data.count;a<c;a++,s+=2)e.fromBufferAttribute(r,a),t.fromBufferAttribute(o,a),i[s]=0===s?0:i[s-1],i[s+1]=i[s]+e.distanceTo(t);var l=new v.InstancedInterleavedBuffer(i,2,1);return n.setAttribute("instanceDistanceStart",new v.InterleavedBufferAttribute(l,1,0)),n.setAttribute("instanceDistanceEnd",new v.InterleavedBufferAttribute(l,1,1)),this}}(),raycast:function(){var e=new v.Vector4,t=new v.Vector4,n=new v.Vector4,r=new v.Vector3,o=new v.Matrix4,i=new v.Line3,a=new v.Vector3;return function(s,c){null===s.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var l=void 0!==s.params.Line2&&s.params.Line2.threshold||0,u=s.ray,d=s.camera,h=d.projectionMatrix,p=this.geometry,f=this.material,m=f.resolution,g=f.linewidth+l,y=p.attributes.instanceStart,b=p.attributes.instanceEnd;u.at(1,n),n.w=1,n.applyMatrix4(d.matrixWorldInverse),n.applyMatrix4(h),n.multiplyScalar(1/n.w),n.x*=m.x/2,n.y*=m.y/2,n.z=0,r.copy(n);var M=this.matrixWorld;o.multiplyMatrices(d.matrixWorldInverse,M);for(var I=0,A=y.count;I<A;I++){e.fromBufferAttribute(y,I),t.fromBufferAttribute(b,I),e.w=1,t.w=1,e.applyMatrix4(o),t.applyMatrix4(o),e.applyMatrix4(h),t.applyMatrix4(h),e.multiplyScalar(1/e.w),t.multiplyScalar(1/t.w);var D=e.z<-1&&t.z<-1,w=e.z>1&&t.z>1;if(!D&&!w){e.x*=m.x/2,e.y*=m.y/2,t.x*=m.x/2,t.y*=m.y/2,i.start.copy(e),i.start.z=0,i.end.copy(t),i.end.z=0;var R=i.closestPointToPointParameter(r,!0);i.at(R,a);var G=v.MathUtils.lerp(e.z,t.z,R),T=G>=-1&&G<=1,x=r.distanceTo(a)<.5*g;if(T&&x){i.start.fromBufferAttribute(y,I),i.end.fromBufferAttribute(b,I),i.start.applyMatrix4(M),i.end.applyMatrix4(M);var E=new v.Vector3,V=new v.Vector3;u.distanceSqToSegment(i.start,i.end,V,E),c.push({point:V,pointOnLine:E,distance:u.origin.distanceTo(V),object:this,face:null,faceIndex:I,uv:null,uv2:null})}}}}}()});var I=function(e,t){void 0===e&&(e=new y),void 0===t&&(t=new b({color:16777215*Math.random()})),M.call(this,e,t),this.type="Line2"};I.prototype=Object.assign(Object.create(M.prototype),{constructor:I,isLine2:!0});n("UYB8"),n("ITJM");var A={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")};function D(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(D.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),D.FullScreenQuad=function(){var e=new v.OrthographicCamera(-1,1,1,-1,0,1),t=new v.PlaneBufferGeometry(2,2),n=function(e){this._mesh=new v.Mesh(t,e)};return Object.defineProperty(n.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(n.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),n}();var w=function(e,t){D.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof v.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=v.UniformsUtils.clone(e.uniforms),this.material=new v.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new D.FullScreenQuad(this.material)};w.prototype=Object.assign(Object.create(D.prototype),{constructor:w,render:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}});var R=function(e,t){D.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};R.prototype=Object.assign(Object.create(D.prototype),{constructor:R,render:function(e,t,n){var r,o,i=e.getContext(),a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(r=0,o=1):(r=1,o=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),a.buffers.stencil.setFunc(i.ALWAYS,r,4294967295),a.buffers.stencil.setClear(o),a.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(i.EQUAL,1,4294967295),a.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),a.buffers.stencil.setLocked(!0)}});var G=function(){D.call(this),this.needsSwap=!1};G.prototype=Object.create(D.prototype),Object.assign(G.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var T=function(e,t){if(this.renderer=e,void 0===t){var n={minFilter:v.LinearFilter,magFilter:v.LinearFilter,format:v.RGBAFormat},r=e.getSize(new v.Vector2);this._pixelRatio=e.getPixelRatio(),this._width=r.width,this._height=r.height,(t=new v.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,n)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===A&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===w&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new w(A),this.clock=new v.Clock};Object.assign(T.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,n,r=this.renderer.getRenderTarget(),o=!1,i=this.passes.length;for(n=0;n<i;n++)if(!1!==(t=this.passes[n]).enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,o),t.needsSwap){if(o){var a=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==R&&(t instanceof R?o=!0:t instanceof G&&(o=!1))}this.renderer.setRenderTarget(r)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new v.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var o=0;o<this.passes.length;o++)this.passes[o].setSize(n,r)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var x=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(x.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),x.FullScreenQuad=function(){var e=new v.OrthographicCamera(-1,1,1,-1,0,1),t=new v.PlaneBufferGeometry(2,2),n=function(e){this._mesh=new v.Mesh(t,e)};return Object.defineProperty(n.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(n.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),n}();var E=function(e,t,n,r,o){D.call(this),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=void 0!==o?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};E.prototype=Object.assign(Object.create(D.prototype),{constructor:E,render:function(e,t,n){var r,o,i,a=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(r=e.getClearColor().getHex(),o=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(r,o),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=a}});["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 tex = texture2D( tDiffuse, vUv );","\tgl_FragColor = LinearTosRGB( tex );","}"].join("\n");var V=function(e){var t=this,n={type:"change"};this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var r=function(e){t.deviceOrientation=e},o=function(){t.screenOrientation=window.orientation||0},i=function(){var e=new v.Vector3(0,0,1),t=new v.Euler,n=new v.Quaternion,r=new v.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(o,i,a,s,c){t.set(a,i,-s,"YXZ"),o.setFromEuler(t),o.multiply(r),o.multiply(n.setFromAxisAngle(e,-c))}}();this.connect=function(){o(),void 0!==window.DeviceOrientationEvent&&"function"===typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then((function(e){"granted"==e&&(window.addEventListener("orientationchange",o,!1),window.addEventListener("deviceorientation",r,!1))})).catch((function(e){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",e)})):(window.addEventListener("orientationchange",o,!1),window.addEventListener("deviceorientation",r,!1)),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",o,!1),window.removeEventListener("deviceorientation",r,!1),t.enabled=!1},this.update=function(){var e=new v.Quaternion;return function(){if(!1!==t.enabled){var r=t.deviceOrientation;if(r){var o=r.alpha?v.MathUtils.degToRad(r.alpha)+t.alphaOffset:0,a=r.beta?v.MathUtils.degToRad(r.beta):0,s=r.gamma?v.MathUtils.degToRad(r.gamma):0,c=t.screenOrientation?v.MathUtils.degToRad(t.screenOrientation):0;i(t.object.quaternion,o,a,s,c),8*(1-e.dot(t.object.quaternion))>1e-6&&(e.copy(t.object.quaternion),t.dispatchEvent(n))}}}}(),this.dispose=function(){t.disconnect()},this.connect()};(V.prototype=Object.create(v.EventDispatcher.prototype)).constructor=V;var S=function(e,t){void 0===t&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,t&&this.domElement.setAttribute("tabindex",-1),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;var n=this,r={type:"change"};function o(e,t){return function(){t.apply(e,arguments)}}function i(e){e.preventDefault()}this.tmpQuaternion=new v.Quaternion,this.mouseStatus=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new v.Vector3(0,0,0),this.rotationVector=new v.Vector3(0,0,0),this.keydown=function(e){if(!e.altKey){switch(e.keyCode){case 16:this.movementSpeedMultiplier=.1;break;case 87:this.moveState.forward=1;break;case 83:this.moveState.back=1;break;case 65:this.moveState.left=1;break;case 68:this.moveState.right=1;break;case 82:this.moveState.up=1;break;case 70:this.moveState.down=1;break;case 38:this.moveState.pitchUp=1;break;case 40:this.moveState.pitchDown=1;break;case 37:this.moveState.yawLeft=1;break;case 39:this.moveState.yawRight=1;break;case 81:this.moveState.rollLeft=1;break;case 69:this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){switch(e.keyCode){case 16:this.movementSpeedMultiplier=1;break;case 87:this.moveState.forward=0;break;case 83:this.moveState.back=0;break;case 65:this.moveState.left=0;break;case 68:this.moveState.right=0;break;case 82:this.moveState.up=0;break;case 70:this.moveState.down=0;break;case 38:this.moveState.pitchUp=0;break;case 40:this.moveState.pitchDown=0;break;case 37:this.moveState.yawLeft=0;break;case 39:this.moveState.yawRight=0;break;case 81:this.moveState.rollLeft=0;break;case 69:this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()},this.mousedown=function(e){if(this.domElement!==document&&this.domElement.focus(),e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.mousemove=function(e){if(!this.dragToLook||this.mouseStatus>0){var t=this.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,this.updateRotationVector()}},this.mouseup=function(e){if(e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()},this.update=function(){var e=new v.Quaternion,t=new v.Vector3;return function(o){var i=o*n.movementSpeed,a=o*n.rollSpeed;n.object.translateX(n.moveVector.x*i),n.object.translateY(n.moveVector.y*i),n.object.translateZ(n.moveVector.z*i),n.tmpQuaternion.set(n.rotationVector.x*a,n.rotationVector.y*a,n.rotationVector.z*a,1).normalize(),n.object.quaternion.multiply(n.tmpQuaternion),(t.distanceToSquared(n.object.position)>1e-6||8*(1-e.dot(n.object.quaternion))>1e-6)&&(n.dispatchEvent(r),e.copy(n.object.quaternion),t.copy(n.object.position))}}(),this.updateMovementVector=function(){var e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",i,!1),this.domElement.removeEventListener("mousedown",s,!1),this.domElement.removeEventListener("mousemove",a,!1),this.domElement.removeEventListener("mouseup",c,!1),window.removeEventListener("keydown",l,!1),window.removeEventListener("keyup",u,!1)};var a=o(this,this.mousemove),s=o(this,this.mousedown),c=o(this,this.mouseup),l=o(this,this.keydown),u=o(this,this.keyup);this.domElement.addEventListener("contextmenu",i,!1),this.domElement.addEventListener("mousemove",a,!1),this.domElement.addEventListener("mousedown",s,!1),this.domElement.addEventListener("mouseup",c,!1),window.addEventListener("keydown",l,!1),window.addEventListener("keyup",u,!1),this.updateMovementVector(),this.updateRotationVector()};(S.prototype=Object.create(v.EventDispatcher.prototype)).constructor=S;var N=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new v.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:v.MOUSE.ROTATE,MIDDLE:v.MOUSE.DOLLY,RIGHT:v.MOUSE.PAN},this.touches={ONE:v.TOUCH.ROTATE,TWO:v.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=a.NONE},this.update=function(){var t=new v.Vector3,o=(new v.Quaternion).setFromUnitVectors(e.up,new v.Vector3(0,1,0)),i=o.clone().inverse(),f=new v.Vector3,m=new v.Quaternion,g=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(o),l.setFromVector3(t),n.autoRotate&&s===a.NONE&&R(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(l.theta+=u.theta*n.dampingFactor,l.phi+=u.phi*n.dampingFactor):(l.theta+=u.theta,l.phi+=u.phi);var v=n.minAzimuthAngle,y=n.maxAzimuthAngle;return isFinite(v)&&isFinite(y)&&(v<-Math.PI?v+=g:v>Math.PI&&(v-=g),y<-Math.PI?y+=g:y>Math.PI&&(y-=g),l.theta=v<y?Math.max(v,Math.min(y,l.theta)):l.theta>(v+y)/2?Math.max(v,l.theta):Math.min(y,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=d,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),t.setFromSpherical(l),t.applyQuaternion(i),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),h.set(0,0,0)),d=1,!!(p||f.distanceToSquared(n.object.position)>c||8*(1-m.dot(n.object.quaternion))>c)&&(n.dispatchEvent(r),f.copy(n.object.position),m.copy(n.object.quaternion),p=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",W,!1),n.domElement.removeEventListener("pointerdown",X,!1),n.domElement.removeEventListener("wheel",U,!1),n.domElement.removeEventListener("touchstart",Q,!1),n.domElement.removeEventListener("touchend",Y,!1),n.domElement.removeEventListener("touchmove",z,!1),n.domElement.ownerDocument.removeEventListener("pointermove",C,!1),n.domElement.ownerDocument.removeEventListener("pointerup",H,!1),n.domElement.removeEventListener("keydown",B,!1)};var n=this,r={type:"change"},o={type:"start"},i={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=a.NONE,c=1e-6,l=new v.Spherical,u=new v.Spherical,d=1,h=new v.Vector3,p=!1,f=new v.Vector2,m=new v.Vector2,g=new v.Vector2,y=new v.Vector2,b=new v.Vector2,M=new v.Vector2,I=new v.Vector2,A=new v.Vector2,D=new v.Vector2;function w(){return Math.pow(.95,n.zoomSpeed)}function R(e){u.theta-=e}function G(e){u.phi-=e}var T=function(){var e=new v.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),x=function(){var e=new v.Vector3;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),E=function(){var e=new v.Vector3;return function(t,r){var o=n.domElement;if(n.object.isPerspectiveCamera){var i=n.object.position;e.copy(i).sub(n.target);var a=e.length();a*=Math.tan(n.object.fov/2*Math.PI/180),T(2*t*a/o.clientHeight,n.object.matrix),x(2*r*a/o.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(T(t*(n.object.right-n.object.left)/n.object.zoom/o.clientWidth,n.object.matrix),x(r*(n.object.top-n.object.bottom)/n.object.zoom/o.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function V(e){n.object.isPerspectiveCamera?d/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function S(e){n.object.isPerspectiveCamera?d*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function N(e){f.set(e.clientX,e.clientY)}function P(e){y.set(e.clientX,e.clientY)}function O(e){if(1==e.touches.length)f.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);f.set(t,n)}}function F(e){if(1==e.touches.length)y.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(t,n)}}function j(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);I.set(0,r)}function L(e){if(1==e.touches.length)m.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);m.set(t,r)}g.subVectors(m,f).multiplyScalar(n.rotateSpeed);var o=n.domElement;R(2*Math.PI*g.x/o.clientHeight),G(2*Math.PI*g.y/o.clientHeight),f.copy(m)}function _(e){if(1==e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,r)}M.subVectors(b,y).multiplyScalar(n.panSpeed),E(M.x,M.y),y.copy(b)}function k(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+r*r);A.set(0,o),D.set(0,Math.pow(A.y/I.y,n.zoomSpeed)),V(D.y),I.copy(A)}function X(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case v.MOUSE.DOLLY:if(!1===n.enableZoom)return;!function(e){I.set(e.clientX,e.clientY)}(e),s=a.DOLLY;break;case v.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;P(e),s=a.PAN}else{if(!1===n.enableRotate)return;N(e),s=a.ROTATE}break;case v.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;N(e),s=a.ROTATE}else{if(!1===n.enablePan)return;P(e),s=a.PAN}break;default:s=a.NONE}s!==a.NONE&&(n.domElement.ownerDocument.addEventListener("pointermove",C,!1),n.domElement.ownerDocument.addEventListener("pointerup",H,!1),n.dispatchEvent(o))}(e)}}function C(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;switch(e.preventDefault(),s){case a.ROTATE:if(!1===n.enableRotate)return;!function(e){m.set(e.clientX,e.clientY),g.subVectors(m,f).multiplyScalar(n.rotateSpeed);var t=n.domElement;R(2*Math.PI*g.x/t.clientHeight),G(2*Math.PI*g.y/t.clientHeight),f.copy(m),n.update()}(e);break;case a.DOLLY:if(!1===n.enableZoom)return;!function(e){A.set(e.clientX,e.clientY),D.subVectors(A,I),D.y>0?V(w()):D.y<0&&S(w()),I.copy(A),n.update()}(e);break;case a.PAN:if(!1===n.enablePan)return;!function(e){b.set(e.clientX,e.clientY),M.subVectors(b,y).multiplyScalar(n.panSpeed),E(M.x,M.y),y.copy(b),n.update()}(e)}}(e)}}function H(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;n.domElement.ownerDocument.removeEventListener("pointermove",C,!1),n.domElement.ownerDocument.removeEventListener("pointerup",H,!1),n.dispatchEvent(i),s=a.NONE}()}}function U(e){!1===n.enabled||!1===n.enableZoom||s!==a.NONE&&s!==a.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(o),function(e){e.deltaY<0?S(w()):e.deltaY>0&&V(w()),n.update()}(e),n.dispatchEvent(i))}function B(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:E(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:E(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:E(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:E(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function Q(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case v.TOUCH.ROTATE:if(!1===n.enableRotate)return;O(e),s=a.TOUCH_ROTATE;break;case v.TOUCH.PAN:if(!1===n.enablePan)return;F(e),s=a.TOUCH_PAN;break;default:s=a.NONE}break;case 2:switch(n.touches.TWO){case v.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&j(e),n.enablePan&&F(e)}(e),s=a.TOUCH_DOLLY_PAN;break;case v.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&j(e),n.enableRotate&&O(e)}(e),s=a.TOUCH_DOLLY_ROTATE;break;default:s=a.NONE}break;default:s=a.NONE}s!==a.NONE&&n.dispatchEvent(o)}}function z(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case a.TOUCH_ROTATE:if(!1===n.enableRotate)return;L(e),n.update();break;case a.TOUCH_PAN:if(!1===n.enablePan)return;_(e),n.update();break;case a.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&k(e),n.enablePan&&_(e)}(e),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&k(e),n.enableRotate&&L(e)}(e),n.update();break;default:s=a.NONE}}function Y(e){!1!==n.enabled&&(n.dispatchEvent(i),s=a.NONE)}function W(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",W,!1),n.domElement.addEventListener("pointerdown",X,!1),n.domElement.addEventListener("wheel",U,!1),n.domElement.addEventListener("touchstart",Q,!1),n.domElement.addEventListener("touchend",Y,!1),n.domElement.addEventListener("touchmove",z,!1),n.domElement.addEventListener("keydown",B,!1),-1===n.domElement.tabIndex&&(n.domElement.tabIndex=0),this.update()};(N.prototype=Object.create(v.EventDispatcher.prototype)).constructor=N;var P=function(e,t){N.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=v.MOUSE.PAN,this.mouseButtons.RIGHT=v.MOUSE.ROTATE,this.touches.ONE=v.TOUCH.PAN,this.touches.TWO=v.TOUCH.DOLLY_ROTATE};(P.prototype=Object.create(v.EventDispatcher.prototype)).constructor=P;var O=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var n=this,r=-1,o=0,i=1,a=2,s=3,c=4;this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:v.MOUSE.ROTATE,MIDDLE:v.MOUSE.ZOOM,RIGHT:v.MOUSE.PAN},this.target=new v.Vector3;var l=new v.Vector3,u=1,d=r,h=r,p=new v.Vector3,f=new v.Vector2,m=new v.Vector2,g=new v.Vector3,y=0,b=new v.Vector2,M=new v.Vector2,I=0,A=0,D=new v.Vector2,w=new v.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var R={type:"change"},G={type:"start"},T={type:"end"};this.handleResize=function(){var e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};var x=function(){var e=new v.Vector2;return function(t,r){return e.set((t-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),e}}(),E=function(){var e=new v.Vector2;return function(t,r){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),e}}();function V(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(e.preventDefault(),e.stopPropagation(),d===r)switch(e.button){case n.mouseButtons.LEFT:d=o;break;case n.mouseButtons.MIDDLE:d=i;break;case n.mouseButtons.RIGHT:d=a;break;default:d=r}var t=h!==r?h:d;t!==o||n.noRotate?t!==i||n.noZoom?t!==a||n.noPan||(D.copy(x(e.pageX,e.pageY)),w.copy(D)):(b.copy(x(e.pageX,e.pageY)),M.copy(b)):(m.copy(E(e.pageX,e.pageY)),f.copy(m));n.domElement.ownerDocument.addEventListener("pointermove",S,!1),n.domElement.ownerDocument.addEventListener("pointerup",N,!1),n.dispatchEvent(G)}(e)}}function S(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;e.preventDefault(),e.stopPropagation();var t=h!==r?h:d;t!==o||n.noRotate?t!==i||n.noZoom?t!==a||n.noPan||w.copy(x(e.pageX,e.pageY)):M.copy(x(e.pageX,e.pageY)):(f.copy(m),m.copy(E(e.pageX,e.pageY)))}(e)}}function N(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;e.preventDefault(),e.stopPropagation(),d=r,n.domElement.ownerDocument.removeEventListener("pointermove",S),n.domElement.ownerDocument.removeEventListener("pointerup",N),n.dispatchEvent(T)}(e)}}function P(e){!1!==n.enabled&&(window.removeEventListener("keydown",P),h===r&&(e.keyCode!==n.keys[o]||n.noRotate?e.keyCode!==n.keys[i]||n.noZoom?e.keyCode!==n.keys[a]||n.noPan||(h=a):h=i:h=o))}function O(){!1!==n.enabled&&(h=r,window.addEventListener("keydown",P,!1))}function F(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:b.y-=.025*e.deltaY;break;case 1:b.y-=.01*e.deltaY;break;default:b.y-=25e-5*e.deltaY}n.dispatchEvent(G),n.dispatchEvent(T)}}function j(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:d=s,m.copy(E(e.touches[0].pageX,e.touches[0].pageY)),f.copy(m);break;default:d=c;var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;A=I=Math.sqrt(t*t+r*r);var o=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;D.copy(x(o,i)),w.copy(D)}n.dispatchEvent(G)}}function L(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:f.copy(m),m.copy(E(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;A=Math.sqrt(t*t+r*r);var o=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;w.copy(x(o,i))}}function _(e){if(!1!==n.enabled){switch(e.touches.length){case 0:d=r;break;case 1:d=s,m.copy(E(e.touches[0].pageX,e.touches[0].pageY)),f.copy(m)}n.dispatchEvent(T)}}function k(e){!1!==n.enabled&&e.preventDefault()}this.rotateCamera=function(){var e,t=new v.Vector3,r=new v.Quaternion,o=new v.Vector3,i=new v.Vector3,a=new v.Vector3,s=new v.Vector3;return function(){s.set(m.x-f.x,m.y-f.y,0),(e=s.length())?(p.copy(n.object.position).sub(n.target),o.copy(p).normalize(),i.copy(n.object.up).normalize(),a.crossVectors(i,o).normalize(),i.setLength(m.y-f.y),a.setLength(m.x-f.x),s.copy(i.add(a)),t.crossVectors(s,p).normalize(),e*=n.rotateSpeed,r.setFromAxisAngle(t,e),p.applyQuaternion(r),n.object.up.applyQuaternion(r),g.copy(t),y=e):!n.staticMoving&&y&&(y*=Math.sqrt(1-n.dynamicDampingFactor),p.copy(n.object.position).sub(n.target),r.setFromAxisAngle(g,y),p.applyQuaternion(r),n.object.up.applyQuaternion(r)),f.copy(m)}}(),this.zoomCamera=function(){var e;d===c?(e=I/A,I=A,n.object.isPerspectiveCamera?p.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom*=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(M.y-b.y)*n.zoomSpeed)&&e>0&&(n.object.isPerspectiveCamera?p.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom/=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?b.copy(M):b.y+=(M.y-b.y)*this.dynamicDampingFactor)},this.panCamera=function(){var e=new v.Vector2,t=new v.Vector3,r=new v.Vector3;return function(){if(e.copy(w).sub(D),e.lengthSq()){if(n.object.isOrthographicCamera){var o=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,i=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=o,e.y*=i}e.multiplyScalar(p.length()*n.panSpeed),r.copy(p).cross(n.object.up).setLength(e.x),r.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(r),n.target.add(r),n.staticMoving?D.copy(w):D.add(e.subVectors(w,D).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(p.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,p.setLength(n.maxDistance)),b.copy(M)),p.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,p.setLength(n.minDistance)),b.copy(M)))},this.update=function(){p.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,p),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),l.distanceToSquared(n.object.position)>1e-6&&(n.dispatchEvent(R),l.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(l.distanceToSquared(n.object.position)>1e-6||u!==n.object.zoom)&&(n.dispatchEvent(R),l.copy(n.object.position),u=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){d=r,h=r,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),p.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(R),l.copy(n.object.position),u=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",k,!1),n.domElement.removeEventListener("pointerdown",V,!1),n.domElement.removeEventListener("wheel",F,!1),n.domElement.removeEventListener("touchstart",j,!1),n.domElement.removeEventListener("touchend",_,!1),n.domElement.removeEventListener("touchmove",L,!1),n.domElement.ownerDocument.removeEventListener("pointermove",S,!1),n.domElement.ownerDocument.removeEventListener("pointerup",N,!1),window.removeEventListener("keydown",P,!1),window.removeEventListener("keyup",O,!1)},this.domElement.addEventListener("contextmenu",k,!1),this.domElement.addEventListener("pointerdown",V,!1),this.domElement.addEventListener("wheel",F,!1),this.domElement.addEventListener("touchstart",j,!1),this.domElement.addEventListener("touchend",_,!1),this.domElement.addEventListener("touchmove",L,!1),this.domElement.ownerDocument.addEventListener("pointermove",S,!1),this.domElement.ownerDocument.addEventListener("pointerup",N,!1),window.addEventListener("keydown",P,!1),window.addEventListener("keyup",O,!1),this.handleResize(),this.update()};(O.prototype=Object.create(v.EventDispatcher.prototype)).constructor=O;var F=function(e,t){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),v.Object3D.call(this),this.visible=!1,this.domElement=t;var n=new j;this.add(n);var r=new L;this.add(r);var o=this;U("camera",e),U("object",void 0),U("enabled",!0),U("axis",null),U("mode","translate"),U("translationSnap",null),U("rotationSnap",null),U("scaleSnap",null),U("space","world"),U("size",1),U("dragging",!1),U("showX",!0),U("showY",!0),U("showZ",!0);var i={type:"change"},a={type:"mouseDown"},s={type:"mouseUp",mode:o.mode},c={type:"objectChange"},l=new v.Raycaster;function u(e,t,n){for(var r=t.intersectObject(e,!0),o=0;o<r.length;o++)if(r[o].object.visible||n)return r[o];return!1}var d=new v.Vector3,h=new v.Vector3,p=new v.Quaternion,f={X:new v.Vector3(1,0,0),Y:new v.Vector3(0,1,0),Z:new v.Vector3(0,0,1)},m=new v.Vector3,g=new v.Vector3,y=new v.Vector3,b=new v.Vector3,M=new v.Vector3,I=new v.Vector3,A=0,D=new v.Vector3,w=new v.Quaternion,R=new v.Vector3,G=new v.Vector3,T=new v.Quaternion,x=new v.Quaternion,E=new v.Vector3,V=new v.Vector3,S=new v.Quaternion,N=new v.Vector3,P=new v.Vector3,O=new v.Quaternion,F=new v.Quaternion,_=new v.Vector3,k=new v.Vector3,X=new v.Vector3,C=new v.Quaternion,H=new v.Vector3;function U(e,t){var a=t;Object.defineProperty(o,e,{get:function(){return void 0!==a?a:t},set:function(t){a!==t&&(a=t,r[e]=t,n[e]=t,o.dispatchEvent({type:e+"-changed",value:t}),o.dispatchEvent(i))}}),o[e]=t,r[e]=t,n[e]=t}function B(e){if(o.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};var n=e.changedTouches?e.changedTouches[0]:e,r=t.getBoundingClientRect();return{x:(n.clientX-r.left)/r.width*2-1,y:-(n.clientY-r.top)/r.height*2+1,button:e.button}}function Q(e){if(o.enabled)switch(e.pointerType){case"mouse":case"pen":o.pointerHover(B(e))}}function z(e){o.enabled&&(o.domElement.style.touchAction="none",o.domElement.ownerDocument.addEventListener("pointermove",Y,!1),o.pointerHover(B(e)),o.pointerDown(B(e)))}function Y(e){o.enabled&&o.pointerMove(B(e))}function W(e){o.enabled&&(o.domElement.style.touchAction="",o.domElement.ownerDocument.removeEventListener("pointermove",Y,!1),o.pointerUp(B(e)))}U("worldPosition",P),U("worldPositionStart",V),U("worldQuaternion",O),U("worldQuaternionStart",S),U("cameraPosition",D),U("cameraQuaternion",w),U("pointStart",m),U("pointEnd",g),U("rotationAxis",b),U("rotationAngle",A),U("eye",k),t.addEventListener("pointerdown",z,!1),t.addEventListener("pointermove",Q,!1),o.domElement.ownerDocument.addEventListener("pointerup",W,!1),this.dispose=function(){t.removeEventListener("pointerdown",z),t.removeEventListener("pointermove",Q),o.domElement.ownerDocument.removeEventListener("pointermove",Y),o.domElement.ownerDocument.removeEventListener("pointerup",W),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(G,T,E),this.object.matrixWorld.decompose(P,O,_),x.copy(T).inverse(),F.copy(O).inverse()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(D,w,R),k.copy(D).sub(P).normalize(),v.Object3D.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging){l.setFromCamera(e,this.camera);var t=u(n.picker[this.mode],l);this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){l.setFromCamera(e,this.camera);var t=u(r,l,!0);if(t){var n=this.space;if("scale"===this.mode?n="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(n="world"),"local"===n&&"rotate"===this.mode){var o=this.rotationSnap;"X"===this.axis&&o&&(this.object.rotation.x=Math.round(this.object.rotation.x/o)*o),"Y"===this.axis&&o&&(this.object.rotation.y=Math.round(this.object.rotation.y/o)*o),"Z"===this.axis&&o&&(this.object.rotation.z=Math.round(this.object.rotation.z/o)*o)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),X.copy(this.object.position),C.copy(this.object.quaternion),H.copy(this.object.scale),this.object.matrixWorld.decompose(V,S,N),m.copy(t.point).sub(V)}this.dragging=!0,a.mode=this.mode,this.dispatchEvent(a)}},this.pointerMove=function(e){var t=this.axis,n=this.mode,o=this.object,a=this.space;if("scale"===n?a="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(a="world"),void 0!==o&&null!==t&&!1!==this.dragging&&-1===e.button){l.setFromCamera(e,this.camera);var s=u(r,l,!0);if(s){if(g.copy(s.point).sub(V),"translate"===n)y.copy(g).sub(m),"local"===a&&"XYZ"!==t&&y.applyQuaternion(F),-1===t.indexOf("X")&&(y.x=0),-1===t.indexOf("Y")&&(y.y=0),-1===t.indexOf("Z")&&(y.z=0),"local"===a&&"XYZ"!==t?y.applyQuaternion(C).divide(E):y.applyQuaternion(x).divide(E),o.position.copy(y).add(X),this.translationSnap&&("local"===a&&(o.position.applyQuaternion(p.copy(C).inverse()),-1!==t.search("X")&&(o.position.x=Math.round(o.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(o.position.y=Math.round(o.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(o.position.z=Math.round(o.position.z/this.translationSnap)*this.translationSnap),o.position.applyQuaternion(C)),"world"===a&&(o.parent&&o.position.add(d.setFromMatrixPosition(o.parent.matrixWorld)),-1!==t.search("X")&&(o.position.x=Math.round(o.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(o.position.y=Math.round(o.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(o.position.z=Math.round(o.position.z/this.translationSnap)*this.translationSnap),o.parent&&o.position.sub(d.setFromMatrixPosition(o.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var v=g.length()/m.length();g.dot(m)<0&&(v*=-1),h.set(v,v,v)}else d.copy(m),h.copy(g),d.applyQuaternion(F),h.applyQuaternion(F),h.divide(d),-1===t.search("X")&&(h.x=1),-1===t.search("Y")&&(h.y=1),-1===t.search("Z")&&(h.z=1);o.scale.copy(H).multiply(h),this.scaleSnap&&(-1!==t.search("X")&&(o.scale.x=Math.round(o.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(o.scale.y=Math.round(o.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(o.scale.z=Math.round(o.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){y.copy(g).sub(m);var D=20/P.distanceTo(d.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(b.copy(k),A=g.angleTo(m),M.copy(m).normalize(),I.copy(g).normalize(),A*=I.cross(M).dot(k)<0?1:-1):"XYZE"===t?(b.copy(y).cross(k).normalize(),A=y.dot(d.copy(b).cross(this.eye))*D):"X"!==t&&"Y"!==t&&"Z"!==t||(b.copy(f[t]),d.copy(f[t]),"local"===a&&d.applyQuaternion(O),A=y.dot(d.cross(k).normalize())*D),this.rotationSnap&&(A=Math.round(A/this.rotationSnap)*this.rotationSnap),this.rotationAngle=A,"local"===a&&"E"!==t&&"XYZE"!==t?(o.quaternion.copy(C),o.quaternion.multiply(p.setFromAxisAngle(b,A)).normalize()):(b.applyQuaternion(x),o.quaternion.copy(p.setFromAxisAngle(b,A)),o.quaternion.multiply(C).normalize())}this.dispatchEvent(i),this.dispatchEvent(c)}}},this.pointerUp=function(e){0===e.button&&(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,this.axis=null)},this.getMode=function(){return o.mode},this.setMode=function(e){o.mode=e},this.setTranslationSnap=function(e){o.translationSnap=e},this.setRotationSnap=function(e){o.rotationSnap=e},this.setScaleSnap=function(e){o.scaleSnap=e},this.setSize=function(e){o.size=e},this.setSpace=function(e){o.space=e},this.update=function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}};F.prototype=Object.assign(Object.create(v.Object3D.prototype),{constructor:F,isTransformControls:!0});var j=function(){v.Object3D.call(this),this.type="TransformControlsGizmo";var e=new v.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:v.DoubleSide,fog:!1,toneMapped:!1}),t=new v.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone();n.opacity=.15;var r=e.clone();r.opacity=.33;var o=e.clone();o.color.set(16711680);var i=e.clone();i.color.set(65280);var a=e.clone();a.color.set(255);var s=e.clone();s.opacity=.25;var c=s.clone();c.color.set(16776960);var l=s.clone();l.color.set(65535);var u=s.clone();u.color.set(16711935),e.clone().color.set(16776960);var d=t.clone();d.color.set(16711680);var h=t.clone();h.color.set(65280);var p=t.clone();p.color.set(255);var f=t.clone();f.color.set(65535);var m=t.clone();m.color.set(16711935);var g=t.clone();g.color.set(16776960);var y=t.clone();y.color.set(7895160);var b=g.clone();b.opacity=.25;var M=new v.CylinderBufferGeometry(0,.05,.2,12,1,!1),I=new v.BoxBufferGeometry(.125,.125,.125),A=new v.BufferGeometry;A.setAttribute("position",new v.Float32BufferAttribute([0,0,0,1,0,0],3));var D=function(e,t){for(var n=new v.BufferGeometry,r=[],o=0;o<=64*t;++o)r.push(0,Math.cos(o/32*Math.PI)*e,Math.sin(o/32*Math.PI)*e);return n.setAttribute("position",new v.Float32BufferAttribute(r,3)),n},w={X:[[new v.Mesh(M,o),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new v.Mesh(M,o),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new v.Line(A,d)]],Y:[[new v.Mesh(M,i),[0,1,0],null,null,"fwd"],[new v.Mesh(M,i),[0,1,0],[Math.PI,0,0],null,"bwd"],[new v.Line(A,h),null,[0,0,Math.PI/2]]],Z:[[new v.Mesh(M,a),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new v.Mesh(M,a),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new v.Line(A,p),null,[0,-Math.PI/2,0]]],XYZ:[[new v.Mesh(new v.OctahedronBufferGeometry(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new v.Mesh(new v.PlaneBufferGeometry(.295,.295),c.clone()),[.15,.15,0]],[new v.Line(A,g),[.18,.3,0],null,[.125,1,1]],[new v.Line(A,g),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new v.Mesh(new v.PlaneBufferGeometry(.295,.295),l.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new v.Line(A,f),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new v.Line(A,f),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new v.Mesh(new v.PlaneBufferGeometry(.295,.295),u.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new v.Line(A,m),[.18,0,.3],null,[.125,1,1]],[new v.Line(A,m),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},R={X:[[new v.Mesh(new v.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new v.Mesh(new v.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new v.Mesh(new v.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new v.Mesh(new v.OctahedronBufferGeometry(.2,0),n)]],XY:[[new v.Mesh(new v.PlaneBufferGeometry(.4,.4),n),[.2,.2,0]]],YZ:[[new v.Mesh(new v.PlaneBufferGeometry(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new v.Mesh(new v.PlaneBufferGeometry(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},G={START:[[new v.Mesh(new v.OctahedronBufferGeometry(.01,2),r),null,null,null,"helper"]],END:[[new v.Mesh(new v.OctahedronBufferGeometry(.01,2),r),null,null,null,"helper"]],DELTA:[[new v.Line(function(){var e=new v.BufferGeometry;return e.setAttribute("position",new v.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),r),null,null,null,"helper"]],X:[[new v.Line(A,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new v.Line(A,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new v.Line(A,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},T={X:[[new v.Line(D(1,.5),d)],[new v.Mesh(new v.OctahedronBufferGeometry(.04,0),o),[0,0,.99],null,[1,3,1]]],Y:[[new v.Line(D(1,.5),h),null,[0,0,-Math.PI/2]],[new v.Mesh(new v.OctahedronBufferGeometry(.04,0),i),[0,0,.99],null,[3,1,1]]],Z:[[new v.Line(D(1,.5),p),null,[0,Math.PI/2,0]],[new v.Mesh(new v.OctahedronBufferGeometry(.04,0),a),[.99,0,0],null,[1,3,1]]],E:[[new v.Line(D(1.25,1),b),null,[0,Math.PI/2,0]],[new v.Mesh(new v.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new v.Mesh(new v.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new v.Mesh(new v.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new v.Mesh(new v.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new v.Line(D(1,1),y),null,[0,Math.PI/2,0]]]},x={AXIS:[[new v.Line(A,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},E={X:[[new v.Mesh(new v.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new v.Mesh(new v.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new v.Mesh(new v.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new v.Mesh(new v.TorusBufferGeometry(1.25,.1,2,24),n)]],XYZE:[[new v.Mesh(new v.SphereBufferGeometry(.7,10,8),n)]]},V={X:[[new v.Mesh(I,o),[.8,0,0],[0,0,-Math.PI/2]],[new v.Line(A,d),null,null,[.8,1,1]]],Y:[[new v.Mesh(I,i),[0,.8,0]],[new v.Line(A,h),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new v.Mesh(I,a),[0,0,.8],[Math.PI/2,0,0]],[new v.Line(A,p),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new v.Mesh(I,c),[.85,.85,0],null,[2,2,.2]],[new v.Line(A,g),[.855,.98,0],null,[.125,1,1]],[new v.Line(A,g),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new v.Mesh(I,l),[0,.85,.85],null,[.2,2,2]],[new v.Line(A,f),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new v.Line(A,f),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new v.Mesh(I,u),[.85,0,.85],null,[2,.2,2]],[new v.Line(A,m),[.855,0,.98],null,[.125,1,1]],[new v.Line(A,m),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new v.Mesh(new v.BoxBufferGeometry(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new v.Mesh(new v.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new v.Mesh(new v.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,0,1.1]]]},S={X:[[new v.Mesh(new v.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new v.Mesh(new v.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new v.Mesh(new v.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new v.Mesh(I,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new v.Mesh(I,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new v.Mesh(I,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new v.Mesh(new v.BoxBufferGeometry(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new v.Mesh(new v.BoxBufferGeometry(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new v.Mesh(new v.BoxBufferGeometry(.2,.2,.2),n),[0,0,1.1]]]},N={X:[[new v.Line(A,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new v.Line(A,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new v.Line(A,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},P=function(e){var t=new v.Object3D;for(var n in e)for(var r=e[n].length;r--;){var o=e[n][r][0].clone(),i=e[n][r][1],a=e[n][r][2],s=e[n][r][3],c=e[n][r][4];o.name=n,o.tag=c,i&&o.position.set(i[0],i[1],i[2]),a&&o.rotation.set(a[0],a[1],a[2]),s&&o.scale.set(s[0],s[1],s[2]),o.updateMatrix();var l=o.geometry.clone();l.applyMatrix4(o.matrix),o.geometry=l,o.renderOrder=1/0,o.position.set(0,0,0),o.rotation.set(0,0,0),o.scale.set(1,1,1),t.add(o)}return t},O=new v.Vector3(0,0,0),F=new v.Euler,j=new v.Vector3(0,1,0),L=new v.Vector3(0,0,0),_=new v.Matrix4,k=new v.Quaternion,X=new v.Quaternion,C=new v.Quaternion,H=new v.Vector3(1,0,0),U=new v.Vector3(0,1,0),B=new v.Vector3(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=P(w)),this.add(this.gizmo.rotate=P(T)),this.add(this.gizmo.scale=P(V)),this.add(this.picker.translate=P(R)),this.add(this.picker.rotate=P(E)),this.add(this.picker.scale=P(S)),this.add(this.helper.translate=P(G)),this.add(this.helper.rotate=P(x)),this.add(this.helper.scale=P(N)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:C;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var n=[];n=(n=(n=n.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var r=0;r<n.length;r++){var o,i=n[r];if(i.visible=!0,i.rotation.set(0,0,0),i.position.copy(this.worldPosition),o=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),i.scale.set(1,1,1).multiplyScalar(o*this.size/7),"helper"!==i.tag){if(i.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){"X"!==i.name&&"XYZX"!==i.name||Math.abs(j.copy(H).applyQuaternion(t).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"Y"!==i.name&&"XYZY"!==i.name||Math.abs(j.copy(U).applyQuaternion(t).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"Z"!==i.name&&"XYZZ"!==i.name||Math.abs(j.copy(B).applyQuaternion(t).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"XY"===i.name&&Math.abs(j.copy(B).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"YZ"===i.name&&Math.abs(j.copy(H).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"XZ"===i.name&&Math.abs(j.copy(U).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),-1!==i.name.search("X")&&(j.copy(H).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.x*=-1:"bwd"===i.tag&&(i.visible=!1)),-1!==i.name.search("Y")&&(j.copy(U).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.y*=-1:"bwd"===i.tag&&(i.visible=!1)),-1!==i.name.search("Z")&&(j.copy(B).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.z*=-1:"bwd"===i.tag&&(i.visible=!1))}else"rotate"===this.mode&&(X.copy(t),j.copy(this.eye).applyQuaternion(k.copy(t).inverse()),-1!==i.name.search("E")&&i.quaternion.setFromRotationMatrix(_.lookAt(this.eye,L,U)),"X"===i.name&&(k.setFromAxisAngle(H,Math.atan2(-j.y,j.z)),k.multiplyQuaternions(X,k),i.quaternion.copy(k)),"Y"===i.name&&(k.setFromAxisAngle(U,Math.atan2(j.x,j.z)),k.multiplyQuaternions(X,k),i.quaternion.copy(k)),"Z"===i.name&&(k.setFromAxisAngle(B,Math.atan2(j.y,j.x)),k.multiplyQuaternions(X,k),i.quaternion.copy(k)));i.visible=i.visible&&(-1===i.name.indexOf("X")||this.showX),i.visible=i.visible&&(-1===i.name.indexOf("Y")||this.showY),i.visible=i.visible&&(-1===i.name.indexOf("Z")||this.showZ),i.visible=i.visible&&(-1===i.name.indexOf("E")||this.showX&&this.showY&&this.showZ),i.material._opacity=i.material._opacity||i.material.opacity,i.material._color=i.material._color||i.material.color.clone(),i.material.color.copy(i.material._color),i.material.opacity=i.material._opacity,this.enabled?this.axis&&(i.name===this.axis||this.axis.split("").some((function(e){return i.name===e}))?(i.material.opacity=1,i.material.color.lerp(new v.Color(1,1,1),.5)):(i.material.opacity*=.25,i.material.color.lerp(new v.Color(1,1,1),.5))):(i.material.opacity*=.5,i.material.color.lerp(new v.Color(1,1,1),.5))}else i.visible=!1,"AXIS"===i.name?(i.position.copy(this.worldPositionStart),i.visible=!!this.axis,"X"===this.axis&&(k.setFromEuler(F.set(0,0,0)),i.quaternion.copy(t).multiply(k),Math.abs(j.copy(H).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"Y"===this.axis&&(k.setFromEuler(F.set(0,0,Math.PI/2)),i.quaternion.copy(t).multiply(k),Math.abs(j.copy(U).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"Z"===this.axis&&(k.setFromEuler(F.set(0,Math.PI/2,0)),i.quaternion.copy(t).multiply(k),Math.abs(j.copy(B).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"XYZE"===this.axis&&(k.setFromEuler(F.set(0,Math.PI/2,0)),j.copy(this.rotationAxis),i.quaternion.setFromRotationMatrix(_.lookAt(L,j,U)),i.quaternion.multiply(k),i.visible=this.dragging),"E"===this.axis&&(i.visible=!1)):"START"===i.name?(i.position.copy(this.worldPositionStart),i.visible=this.dragging):"END"===i.name?(i.position.copy(this.worldPosition),i.visible=this.dragging):"DELTA"===i.name?(i.position.copy(this.worldPositionStart),i.quaternion.copy(this.worldQuaternionStart),O.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),O.applyQuaternion(this.worldQuaternionStart.clone().inverse()),i.scale.copy(O),i.visible=this.dragging):(i.quaternion.copy(t),this.dragging?i.position.copy(this.worldPositionStart):i.position.copy(this.worldPosition),this.axis&&(i.visible=-1!==this.axis.search(i.name)))}v.Object3D.prototype.updateMatrixWorld.call(this)}};j.prototype=Object.assign(Object.create(v.Object3D.prototype),{constructor:j,isTransformControlsGizmo:!0});var L=function(){v.Mesh.call(this,new v.PlaneBufferGeometry(1e5,1e5,2,2),new v.MeshBasicMaterial({visible:!1,wireframe:!0,side:v.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane";var e=new v.Vector3(1,0,0),t=new v.Vector3(0,1,0),n=new v.Vector3(0,0,1),r=new v.Vector3,o=new v.Vector3,i=new v.Vector3,a=new v.Matrix4,s=new v.Quaternion;this.updateMatrixWorld=function(){var c=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(c="local"),e.set(1,0,0).applyQuaternion("local"===c?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===c?this.worldQuaternion:s),n.set(0,0,1).applyQuaternion("local"===c?this.worldQuaternion:s),i.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":i.copy(this.eye).cross(e),o.copy(e).cross(i);break;case"Y":i.copy(this.eye).cross(t),o.copy(t).cross(i);break;case"Z":i.copy(this.eye).cross(n),o.copy(n).cross(i);break;case"XY":o.copy(n);break;case"YZ":o.copy(e);break;case"XZ":i.copy(n),o.copy(t);break;case"XYZ":case"E":o.set(0,0,0)}break;case"rotate":default:o.set(0,0,0)}0===o.length()?this.quaternion.copy(this.cameraQuaternion):(a.lookAt(r.set(0,0,0),o,i),this.quaternion.setFromRotationMatrix(a)),v.Object3D.prototype.updateMatrixWorld.call(this)}};L.prototype=Object.assign(Object.create(v.Mesh.prototype),{constructor:L,isTransformControlsPlane:!0});n("iLw5"),n("2SQs");var _=function(e,t){void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI;var n=this,r={type:"change"},o={type:"lock"},i={type:"unlock"},a=new v.Euler(0,0,0,"YXZ"),s=Math.PI/2,c=new v.Vector3;function l(t){if(!1!==n.isLocked){var o=t.movementX||t.mozMovementX||t.webkitMovementX||0,i=t.movementY||t.mozMovementY||t.webkitMovementY||0;a.setFromQuaternion(e.quaternion),a.y-=.002*o,a.x-=.002*i,a.x=Math.max(s-n.maxPolarAngle,Math.min(s-n.minPolarAngle,a.x)),e.quaternion.setFromEuler(a),n.dispatchEvent(r)}}function u(){n.domElement.ownerDocument.pointerLockElement===n.domElement?(n.dispatchEvent(o),n.isLocked=!0):(n.dispatchEvent(i),n.isLocked=!1)}function d(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}this.connect=function(){n.domElement.ownerDocument.addEventListener("mousemove",l,!1),n.domElement.ownerDocument.addEventListener("pointerlockchange",u,!1),n.domElement.ownerDocument.addEventListener("pointerlockerror",d,!1)},this.disconnect=function(){n.domElement.ownerDocument.removeEventListener("mousemove",l,!1),n.domElement.ownerDocument.removeEventListener("pointerlockchange",u,!1),n.domElement.ownerDocument.removeEventListener("pointerlockerror",d,!1)},this.dispose=function(){this.disconnect()},this.getObject=function(){return e},this.getDirection=function(){var t=new v.Vector3(0,0,-1);return function(n){return n.copy(t).applyQuaternion(e.quaternion)}}(),this.moveForward=function(t){c.setFromMatrixColumn(e.matrix,0),c.crossVectors(e.up,c),e.position.addScaledVector(c,t)},this.moveRight=function(t){c.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(c,t)},this.lock=function(){this.domElement.requestPointerLock()},this.unlock=function(){n.domElement.ownerDocument.exitPointerLock()},this.connect()};function k(e){let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(o!==t){const e=t;t=r?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,subscribe:(e,r,i)=>r||i?((e,r=o,i=Object.is)=>{let a=r(t);function s(){const n=r(t);if(!i(a,n)){const t=a;e(a=n,t)}}return n.add(s),()=>n.delete(s)})(e,r,i):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,o,i),i}(_.prototype=Object.create(v.EventDispatcher.prototype)).constructor=_;const X="undefined"===typeof window?p.useEffect:p.useLayoutEffect;var C=function(e){const t="function"===typeof e?k(e):e,n=(e=t.getState,n=Object.is)=>{const[,r]=Object(p.useReducer)(e=>e+1,0),o=t.getState(),i=Object(p.useRef)(o),a=Object(p.useRef)(e),s=Object(p.useRef)(n),c=Object(p.useRef)(!1),l=Object(p.useRef)();let u;void 0===l.current&&(l.current=e(o));let d=!1;(i.current!==o||a.current!==e||s.current!==n||c.current)&&(u=e(o),d=!n(l.current,u)),X(()=>{d&&(l.current=u),i.current=o,a.current=e,s.current=n,c.current=!1});const h=Object(p.useRef)(o);return Object(p.useEffect)(()=>{const e=()=>{try{const e=t.getState(),n=a.current(e);s.current(l.current,n)||(i.current=e,l.current=n,r())}catch(e){c.current=!0,r()}},n=t.subscribe(e);return t.getState()!==h.current&&e(),n},[]),d?u:l.current};return Object.assign(n,t),n[Symbol.iterator]=function*(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),yield n,yield t},n},H=(n("8jkX"),n("EGzX"),{}),U=H;function B(e,t){var n,r=e.split("."),o=U;!(r[0]in o)&&o.execScript&&o.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||undefined===t?o=o[n]?o[n]:o[n]={}:o[n]=t}var Q="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function z(e){var t,n,r,o,i,a,s,c,l,u,d=e.length,h=0,p=Number.POSITIVE_INFINITY;for(c=0;c<d;++c)e[c]>h&&(h=e[c]),e[c]<p&&(p=e[c]);for(t=1<<h,n=new(Q?Uint32Array:Array)(t),r=1,o=0,i=2;r<=h;){for(c=0;c<d;++c)if(e[c]===r){for(a=0,s=o,l=0;l<r;++l)a=a<<1|1&s,s>>=1;for(u=r<<16|c,l=a;l<t;l+=i)n[l]=u;++o}++r,o<<=1,i<<=1}return[n,h,p]}function Y(e,t){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=Q?new Uint8Array(e):e,this.m=!1,this.i=q,this.r=!1,!t&&(t={})||(t.index&&(this.a=t.index),t.bufferSize&&(this.h=t.bufferSize),t.bufferType&&(this.i=t.bufferType),t.resize&&(this.r=t.resize)),this.i){case W:this.b=32768,this.c=new(Q?Uint8Array:Array)(32768+this.h+258);break;case q:this.b=0,this.c=new(Q?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var W=0,q=1,Z={t:W,s:q};Y.prototype.k=function(){for(;!this.m;){var e=me(this,3);switch(1&e&&(this.m=!0),e>>>=1){case 0:var t=this.input,n=this.a,r=this.c,o=this.b,i=t.length,a=undefined,s=r.length,c=undefined;if(this.d=this.f=0,n+1>=i)throw Error("invalid uncompressed block header: LEN");if(a=t[n++]|t[n++]<<8,n+1>=i)throw Error("invalid uncompressed block header: NLEN");if(a===~(t[n++]|t[n++]<<8))throw Error("invalid uncompressed block header: length verify");if(n+a>t.length)throw Error("input buffer is broken");switch(this.i){case W:for(;o+a>r.length;){if(a-=c=s-o,Q)r.set(t.subarray(n,n+c),o),o+=c,n+=c;else for(;c--;)r[o++]=t[n++];this.b=o,r=this.e(),o=this.b}break;case q:for(;o+a>r.length;)r=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(Q)r.set(t.subarray(n,n+a),o),o+=a,n+=a;else for(;a--;)r[o++]=t[n++];this.a=n,this.b=o,this.c=r;break;case 1:this.j(he,fe);break;case 2:var l,u,d,h,p=me(this,5)+257,f=me(this,5)+1,m=me(this,4)+4,v=new(Q?Uint8Array:Array)(ee.length),g=undefined,y=undefined,b=undefined,M=undefined,I=undefined;for(I=0;I<m;++I)v[ee[I]]=me(this,3);if(!Q)for(I=m,m=v.length;I<m;++I)v[ee[I]]=0;for(l=z(v),g=new(Q?Uint8Array:Array)(p+f),I=0,h=p+f;I<h;)switch(y=ve(this,l)){case 16:for(M=3+me(this,2);M--;)g[I++]=b;break;case 17:for(M=3+me(this,3);M--;)g[I++]=0;b=0;break;case 18:for(M=11+me(this,7);M--;)g[I++]=0;b=0;break;default:b=g[I++]=y}u=z(Q?g.subarray(0,p):g.slice(0,p)),d=z(Q?g.subarray(p):g.slice(p)),this.j(u,d);break;default:throw Error("unknown BTYPE: "+e)}}return this.n()};var K,$,J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=Q?new Uint16Array(J):J,te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],ne=Q?new Uint16Array(te):te,re=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],oe=Q?new Uint8Array(re):re,ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],ae=Q?new Uint16Array(ie):ie,se=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ce=Q?new Uint8Array(se):se,le=new(Q?Uint8Array:Array)(288);for(K=0,$=le.length;K<$;++K)le[K]=143>=K?8:255>=K?9:279>=K?7:8;var ue,de,he=z(le),pe=new(Q?Uint8Array:Array)(30);for(ue=0,de=pe.length;ue<de;++ue)pe[ue]=5;var fe=z(pe);function me(e,t){for(var n,r=e.f,o=e.d,i=e.input,a=e.a,s=i.length;o<t;){if(a>=s)throw Error("input buffer is broken");r|=i[a++]<<o,o+=8}return n=r&(1<<t)-1,e.f=r>>>t,e.d=o-t,e.a=a,n}function ve(e,t){for(var n,r,o=e.f,i=e.d,a=e.input,s=e.a,c=a.length,l=t[0],u=t[1];i<u&&!(s>=c);)o|=a[s++]<<i,i+=8;if((r=(n=l[o&(1<<u)-1])>>>16)>i)throw Error("invalid code length: "+r);return e.f=o>>r,e.d=i-r,e.a=s,65535&n}function ge(e,t){var n,r;switch(this.input=e,this.a=0,!t&&(t={})||(t.index&&(this.a=t.index),t.verify&&(this.A=t.verify)),n=e[this.a++],r=e[this.a++],15&n){case ye:this.method=ye;break;default:throw Error("unsupported compression method")}if(0!==((n<<8)+r)%31)throw Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw Error("fdict flag is not supported");this.q=new Y(e,{index:this.a,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})}Y.prototype.j=function(e,t){var n=this.c,r=this.b;this.o=e;for(var o,i,a,s,c=n.length-258;256!==(o=ve(this,e));)if(256>o)r>=c&&(this.b=r,n=this.e(),r=this.b),n[r++]=o;else for(s=ne[i=o-257],0<oe[i]&&(s+=me(this,oe[i])),o=ve(this,t),a=ae[o],0<ce[o]&&(a+=me(this,ce[o])),r>=c&&(this.b=r,n=this.e(),r=this.b);s--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},Y.prototype.w=function(e,t){var n=this.c,r=this.b;this.o=e;for(var o,i,a,s,c=n.length;256!==(o=ve(this,e));)if(256>o)r>=c&&(c=(n=this.e()).length),n[r++]=o;else for(s=ne[i=o-257],0<oe[i]&&(s+=me(this,oe[i])),o=ve(this,t),a=ae[o],0<ce[o]&&(a+=me(this,ce[o])),r+s>c&&(c=(n=this.e()).length);s--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},Y.prototype.e=function(){var e,t,n=new(Q?Uint8Array:Array)(this.b-32768),r=this.b-32768,o=this.c;if(Q)n.set(o.subarray(32768,n.length));else for(e=0,t=n.length;e<t;++e)n[e]=o[e+32768];if(this.g.push(n),this.l+=n.length,Q)o.set(o.subarray(r,r+32768));else for(e=0;32768>e;++e)o[e]=o[r+e];return this.b=32768,o},Y.prototype.z=function(e){var t,n,r,o=this.input.length/this.a+1|0,i=this.input,a=this.c;return e&&("number"===typeof e.p&&(o=e.p),"number"===typeof e.u&&(o+=e.u)),2>o?n=(r=(i.length-this.a)/this.o[2]/2*258|0)<a.length?a.length+r:a.length<<1:n=a.length*o,Q?(t=new Uint8Array(n)).set(a):t=a,this.c=t},Y.prototype.n=function(){var e,t,n,r,o,i=0,a=this.c,s=this.g,c=new(Q?Uint8Array:Array)(this.l+(this.b-32768));if(0===s.length)return Q?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(t=0,n=s.length;t<n;++t)for(r=0,o=(e=s[t]).length;r<o;++r)c[i++]=e[r];for(t=32768,n=this.b;t<n;++t)c[i++]=a[t];return this.g=[],this.buffer=c},Y.prototype.v=function(){var e,t=this.b;return Q?this.r?(e=new Uint8Array(t)).set(this.c.subarray(0,t)):e=this.c.subarray(0,t):(this.c.length>t&&(this.c.length=t),e=this.c),this.buffer=e},ge.prototype.k=function(){var e,t,n=this.input;if(e=this.q.k(),this.a=this.q.a,this.A){t=(n[this.a++]<<24|n[this.a++]<<16|n[this.a++]<<8|n[this.a++])>>>0;var r=e;if("string"===typeof r){var o,i,a=r.split("");for(o=0,i=a.length;o<i;o++)a[o]=(255&a[o].charCodeAt(0))>>>0;r=a}for(var s,c=1,l=0,u=r.length,d=0;0<u;){u-=s=1024<u?1024:u;do{l+=c+=r[d++]}while(--s);c%=65521,l%=65521}if(t!==(l<<16|c)>>>0)throw Error("invalid adler-32 checksum")}return e};var ye=8;B("Zlib.Inflate",ge),B("Zlib.Inflate.prototype.decompress",ge.prototype.k);var be,Me,Ie,Ae,De={ADAPTIVE:Z.s,BLOCK:Z.t};if(Object.keys)be=Object.keys(De);else for(Me in be=[],Ie=0,De)be[Ie++]=Me;for(Ie=0,Ae=be.length;Ie<Ae;++Ie)B("Zlib.Inflate.BufferType."+(Me=be[Ie]),De[Me]);var we=H.Zlib.Inflate,Re={findSpan:function(e,t,n){var r=n.length-e-1;if(t>=n[r])return r-1;if(t<=n[e])return e;for(var o=e,i=r,a=Math.floor((o+i)/2);t<n[a]||t>=n[a+1];)t<n[a]?i=a:o=a,a=Math.floor((o+i)/2);return a},calcBasisFunctions:function(e,t,n,r){var o=[],i=[],a=[];o[0]=1;for(var s=1;s<=n;++s){i[s]=t-r[e+1-s],a[s]=r[e+s]-t;for(var c=0,l=0;l<s;++l){var u=a[l+1],d=i[s-l],h=o[l]/(u+d);o[l]=c+u*h,c=d*h}o[s]=c}return o},calcBSplinePoint:function(e,t,n,r){for(var o=this.findSpan(e,r,t),i=this.calcBasisFunctions(o,r,e,t),a=new v.Vector4(0,0,0,0),s=0;s<=e;++s){var c=n[o-e+s],l=i[s],u=c.w*l;a.x+=c.x*u,a.y+=c.y*u,a.z+=c.z*u,a.w+=c.w*l}return a},calcBasisFunctionDerivatives:function(e,t,n,r,o){for(var i=[],a=0;a<=n;++a)i[a]=0;var s=[];for(a=0;a<=r;++a)s[a]=i.slice(0);var c=[];for(a=0;a<=n;++a)c[a]=i.slice(0);c[0][0]=1;for(var l=i.slice(0),u=i.slice(0),d=1;d<=n;++d){l[d]=t-o[e+1-d],u[d]=o[e+d]-t;for(var h=0,p=0;p<d;++p){var f=u[p+1],m=l[d-p];c[d][p]=f+m;var v=c[p][d-1]/c[d][p];c[p][d]=h+f*v,h=m*v}c[d][d]=h}for(d=0;d<=n;++d)s[0][d]=c[d][n];for(p=0;p<=n;++p){var g=0,y=1,b=[];for(a=0;a<=n;++a)b[a]=i.slice(0);b[0][0]=1;for(var M=1;M<=r;++M){var I=0,A=p-M,D=n-M;p>=M&&(b[y][0]=b[g][0]/c[D+1][A],I=b[y][0]*c[A][D]);var w=p-1<=D?M-1:n-p;for(d=A>=-1?1:-A;d<=w;++d)b[y][d]=(b[g][d]-b[g][d-1])/c[D+1][A+d],I+=b[y][d]*c[A+d][D];p<=D&&(b[y][M]=-b[g][M-1]/c[D+1][p],I+=b[y][M]*c[p][D]),s[M][p]=I;d=g;g=y,y=d}}for(p=n,M=1;M<=r;++M){for(d=0;d<=n;++d)s[M][d]*=p;p*=n-M}return s},calcBSplineDerivatives:function(e,t,n,r,o){for(var i=o<e?o:e,a=[],s=this.findSpan(e,r,t),c=this.calcBasisFunctionDerivatives(s,r,e,i,t),l=[],u=0;u<n.length;++u){var d=(p=n[u].clone()).w;p.x*=d,p.y*=d,p.z*=d,l[u]=p}for(var h=0;h<=i;++h){for(var p=l[s-e].clone().multiplyScalar(c[h][0]),f=1;f<=e;++f)p.add(l[s-e+f].clone().multiplyScalar(c[h][f]));a[h]=p}for(h=i+1;h<=o+1;++h)a[h]=new v.Vector4(0,0,0);return a},calcKoverI:function(e,t){for(var n=1,r=2;r<=e;++r)n*=r;var o=1;for(r=2;r<=t;++r)o*=r;for(r=2;r<=e-t;++r)o*=r;return n/o},calcRationalCurveDerivatives:function(e){for(var t=e.length,n=[],r=[],o=0;o<t;++o){var i=e[o];n[o]=new v.Vector3(i.x,i.y,i.z),r[o]=i.w}for(var a=[],s=0;s<t;++s){var c=n[s].clone();for(o=1;o<=s;++o)c.sub(a[s-o].clone().multiplyScalar(this.calcKoverI(s,o)*r[o]));a[s]=c.divideScalar(r[0])}return a},calcNURBSDerivatives:function(e,t,n,r,o){var i=this.calcBSplineDerivatives(e,t,n,r,o);return this.calcRationalCurveDerivatives(i)},calcSurfacePoint:function(e,t,n,r,o,i,a,s){for(var c=this.findSpan(e,i,n),l=this.findSpan(t,a,r),u=this.calcBasisFunctions(c,i,e,n),d=this.calcBasisFunctions(l,a,t,r),h=[],p=0;p<=t;++p){h[p]=new v.Vector4(0,0,0,0);for(var f=0;f<=e;++f){var m=o[c-e+f][l-t+p].clone(),g=m.w;m.x*=g,m.y*=g,m.z*=g,h[p].add(m.multiplyScalar(u[f]))}}var y=new v.Vector4(0,0,0,0);for(p=0;p<=t;++p)y.add(h[p].multiplyScalar(d[p]));y.divideScalar(y.w),s.set(y.x,y.y,y.z)}},Ge=function(e,t,n,r,o){v.Curve.call(this),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=r||0,this.endKnot=o||this.knots.length-1;for(var i=0;i<n.length;++i){var a=n[i];this.controlPoints[i]=new v.Vector4(a.x,a.y,a.z,a.w)}};(Ge.prototype=Object.create(v.Curve.prototype)).constructor=Ge,Ge.prototype.getPoint=function(e,t){var n=t||new v.Vector3,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),o=Re.calcBSplinePoint(this.degree,this.knots,this.controlPoints,r);return 1!=o.w&&o.divideScalar(o.w),n.set(o.x,o.y,o.z)},Ge.prototype.getTangent=function(e,t){var n=t||new v.Vector3,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),o=Re.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,r,1);return n.copy(o[1]).normalize(),n};(function(){var e,t,n;function r(e){v.Loader.call(this,e)}function o(e,t){this.textureLoader=e,this.manager=t}function i(){}function a(){}function s(){}function c(){}function l(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}function u(){}function d(e){var t=e.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function h(e){return e/46186158e3}r.prototype=Object.assign(Object.create(v.Loader.prototype),{constructor:r,load:function(e,t,n,r){var o=this,i=""===o.path?v.LoaderUtils.extractUrlBase(e):o.path,a=new v.FileLoader(this.manager);a.setPath(o.path),a.setResponseType("arraybuffer"),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,(function(n){try{t(o.parse(n,i))}catch(a){r?r(a):console.error(a),o.manager.itemError(e)}}),n,r)},parse:function(t,n){if(function(e){var t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===I(e,0,t.length)}(t))e=(new c).parse(t);else{var r=I(t);if(!function(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;function r(t){var r=e[t-1];return e=e.slice(n+t),n++,r}for(var o=0;o<t.length;++o){if(r(1)===t[o])return!1}return!0}(r))throw new Error("THREE.FBXLoader: Unknown format.");if(d(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+d(r));e=(new s).parse(r)}return new o(new v.TextureLoader(this.manager).setPath(this.resourcePath||n).setCrossOrigin(this.crossOrigin),this.manager).parse(e)}}),o.prototype={constructor:o,parse:function(){t=this.parseConnections();var e=this.parseImages(),r=this.parseTextures(e),o=this.parseMaterials(r),a=this.parseDeformers(),s=(new i).parse(a);return this.parseScene(a,s,o),n},parseConnections:function(){var t=new Map;"Connections"in e&&e.Connections.connections.forEach((function(e){var n=e[0],r=e[1],o=e[2];t.has(n)||t.set(n,{parents:[],children:[]});var i={ID:r,relationship:o};t.get(n).parents.push(i),t.has(r)||t.set(r,{parents:[],children:[]});var a={ID:n,relationship:o};t.get(r).children.push(a)}));return t},parseImages:function(){var t={},n={};if("Video"in e.Objects){var r=e.Objects.Video;for(var o in r){var i=r[o];if(t[l=parseInt(o)]=i.RelativeFilename||i.Filename,"Content"in i){var a=i.Content instanceof ArrayBuffer&&i.Content.byteLength>0,s="string"===typeof i.Content&&""!==i.Content;if(a||s){var c=this.parseImage(r[o]);n[i.RelativeFilename||i.Filename]=c}}}}for(var l in t){var u=t[l];void 0!==n[u]?t[l]=n[u]:t[l]=t[l].split("\\").pop()}return t},parseImage:function(e){var t,n=e.Content,r=e.RelativeFilename||e.Filename,o=r.slice(r.lastIndexOf(".")+1).toLowerCase();switch(o){case"bmp":t="image/bmp";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;case"tif":t="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",r),t="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+o+'" is not supported.')}if("string"===typeof n)return"data:"+t+";base64,"+n;var i=new Uint8Array(n);return window.URL.createObjectURL(new Blob([i],{type:t}))},parseTextures:function(t){var n=new Map;if("Texture"in e.Objects){var r=e.Objects.Texture;for(var o in r){var i=this.parseTexture(r[o],t);n.set(parseInt(o),i)}}return n},parseTexture:function(e,t){var n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;var r=e.WrapModeU,o=e.WrapModeV,i=void 0!==r?r.value:0,a=void 0!==o?o.value:0;if(n.wrapS=0===i?v.RepeatWrapping:v.ClampToEdgeWrapping,n.wrapT=0===a?v.RepeatWrapping:v.ClampToEdgeWrapping,"Scaling"in e){var s=e.Scaling.value;n.repeat.x=s[0],n.repeat.y=s[1]}return n},loadTexture:function(e,n){var r,o,i=this.textureLoader.path,a=t.get(e.id).children;void 0!==a&&a.length>0&&void 0!==n[a[0].ID]&&(0!==(r=n[a[0].ID]).indexOf("blob:")&&0!==r.indexOf("data:")||this.textureLoader.setPath(void 0));var s=e.FileName.slice(-3).toLowerCase();if("tga"===s){var c=this.manager.getHandler(".tga");null===c?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new v.Texture):o=c.load(r)}else"psd"===s?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new v.Texture):o=this.textureLoader.load(r);return this.textureLoader.setPath(i),o},parseMaterials:function(t){var n=new Map;if("Material"in e.Objects){var r=e.Objects.Material;for(var o in r){var i=this.parseMaterial(r[o],t);null!==i&&n.set(parseInt(o),i)}}return n},parseMaterial:function(e,n){var r=e.id,o=e.attrName,i=e.ShadingModel;if("object"===typeof i&&(i=i.value),!t.has(r))return null;var a,s=this.parseParameters(e,n,r);switch(i.toLowerCase()){case"phong":a=new v.MeshPhongMaterial;break;case"lambert":a=new v.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',i),a=new v.MeshPhongMaterial}return a.setValues(s),a.name=o,a},parseParameters:function(e,n,r){var o={};e.BumpFactor&&(o.bumpScale=e.BumpFactor.value),e.Diffuse?o.color=(new v.Color).fromArray(e.Diffuse.value):e.DiffuseColor&&"Color"===e.DiffuseColor.type&&(o.color=(new v.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(o.displacementScale=e.DisplacementFactor.value),e.Emissive?o.emissive=(new v.Color).fromArray(e.Emissive.value):e.EmissiveColor&&"Color"===e.EmissiveColor.type&&(o.emissive=(new v.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(o.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(o.opacity=parseFloat(e.Opacity.value)),o.opacity<1&&(o.transparent=!0),e.ReflectionFactor&&(o.reflectivity=e.ReflectionFactor.value),e.Shininess&&(o.shininess=e.Shininess.value),e.Specular?o.specular=(new v.Color).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(o.specular=(new v.Color).fromArray(e.SpecularColor.value));var i=this;return t.get(r).children.forEach((function(e){var t=e.relationship;switch(t){case"Bump":o.bumpMap=i.getTexture(n,e.ID);break;case"Maya|TEX_ao_map":o.aoMap=i.getTexture(n,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":o.map=i.getTexture(n,e.ID),o.map.encoding=v.sRGBEncoding;break;case"DisplacementColor":o.displacementMap=i.getTexture(n,e.ID);break;case"EmissiveColor":o.emissiveMap=i.getTexture(n,e.ID),o.emissiveMap.encoding=v.sRGBEncoding;break;case"NormalMap":case"Maya|TEX_normal_map":o.normalMap=i.getTexture(n,e.ID);break;case"ReflectionColor":o.envMap=i.getTexture(n,e.ID),o.envMap.mapping=v.EquirectangularReflectionMapping,o.envMap.encoding=v.sRGBEncoding;break;case"SpecularColor":o.specularMap=i.getTexture(n,e.ID),o.specularMap.encoding=v.sRGBEncoding;break;case"TransparentColor":case"TransparencyFactor":o.alphaMap=i.getTexture(n,e.ID),o.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",t)}})),o},getTexture:function(n,r){return"LayeredTexture"in e.Objects&&r in e.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),r=t.get(r).children[0].ID),n.get(r)},parseDeformers:function(){var n={},r={};if("Deformer"in e.Objects){var o=e.Objects.Deformer;for(var i in o){var a=o[i],s=t.get(parseInt(i));if("Skin"===a.attrType){var c=this.parseSkeleton(s,o);c.ID=i,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),c.geometryID=s.parents[0].ID,n[i]=c}else if("BlendShape"===a.attrType){var l={id:i};l.rawTargets=this.parseMorphTargets(s,o),l.id=i,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),r[i]=l}}}return{skeletons:n,morphTargets:r}},parseSkeleton:function(e,t){var n=[];return e.children.forEach((function(e){var r=t[e.ID];if("Cluster"===r.attrType){var o={ID:e.ID,indices:[],weights:[],transformLink:(new v.Matrix4).fromArray(r.TransformLink.a)};"Indexes"in r&&(o.indices=r.Indexes.a,o.weights=r.Weights.a),n.push(o)}})),{rawBones:n,bones:[]}},parseMorphTargets:function(e,n){for(var r=[],o=0;o<e.children.length;o++){var i=e.children[o],a=n[i.ID],s={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if("BlendShapeChannel"!==a.attrType)return;s.geoID=t.get(parseInt(i.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,r.push(s)}return r},parseScene:function(r,o,i){n=new v.Group;var s=this.parseModels(r.skeletons,o,i),c=e.Objects.Model,l=this;s.forEach((function(e){var r=c[e.ID];l.setLookAtProperties(e,r),t.get(e.ID).parents.forEach((function(t){var n=s.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&n.add(e)})),this.bindSkeleton(r.skeletons,o,s),this.createAmbientLight(),this.setupMorphMaterials(),n.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrixWorld=e.parent.matrix);var t=y(e.userData.transformData);e.applyMatrix4(t)}}));var u=(new a).parse();1===n.children.length&&n.children[0].isGroup&&(n.children[0].animations=u,n=n.children[0]),n.animations=u},parseModels:function(n,r,o){var i=new Map,a=e.Objects.Model;for(var s in a){var c=parseInt(s),l=a[s],u=t.get(c),d=this.buildSkeleton(u,n,c,l.attrName);if(!d){switch(l.attrType){case"Camera":d=this.createCamera(u);break;case"Light":d=this.createLight(u);break;case"Mesh":d=this.createMesh(u,r,o);break;case"NurbsCurve":d=this.createCurve(u,r);break;case"LimbNode":case"Root":d=new v.Bone;break;case"Null":default:d=new v.Group}d.name=l.attrName?v.PropertyBinding.sanitizeNodeName(l.attrName):"",d.ID=c}this.getTransformData(d,l),i.set(c,d)}return i},buildSkeleton:function(e,t,n,r){var o=null;return e.parents.forEach((function(e){for(var i in t){var a=t[i];a.rawBones.forEach((function(t,i){if(t.ID===e.ID){var s=o;(o=new v.Bone).matrixWorld.copy(t.transformLink),o.name=r?v.PropertyBinding.sanitizeNodeName(r):"",o.ID=n,a.bones[i]=o,null!==s&&o.add(s)}}))}})),o},createCamera:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new v.Object3D;else{var o=0;void 0!==r.CameraProjectionType&&1===r.CameraProjectionType.value&&(o=1);var i=1;void 0!==r.NearPlane&&(i=r.NearPlane.value/1e3);var a=1e3;void 0!==r.FarPlane&&(a=r.FarPlane.value/1e3);var s=window.innerWidth,c=window.innerHeight;void 0!==r.AspectWidth&&void 0!==r.AspectHeight&&(s=r.AspectWidth.value,c=r.AspectHeight.value);var l=s/c,u=45;void 0!==r.FieldOfView&&(u=r.FieldOfView.value);var d=r.FocalLength?r.FocalLength.value:null;switch(o){case 0:n=new v.PerspectiveCamera(u,l,i,a),null!==d&&n.setFocalLength(d);break;case 1:n=new v.OrthographicCamera(-s/2,s/2,c/2,-c/2,i,a);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+o+"."),n=new v.Object3D}}return n},createLight:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new v.Object3D;else{var o;o=void 0===r.LightType?0:r.LightType.value;var i=16777215;void 0!==r.Color&&(i=(new v.Color).fromArray(r.Color.value));var a=void 0===r.Intensity?1:r.Intensity.value/100;void 0!==r.CastLightOnObject&&0===r.CastLightOnObject.value&&(a=0);var s=0;void 0!==r.FarAttenuationEnd&&(s=void 0!==r.EnableFarAttenuation&&0===r.EnableFarAttenuation.value?0:r.FarAttenuationEnd.value);switch(o){case 0:n=new v.PointLight(i,a,s,1);break;case 1:n=new v.DirectionalLight(i,a);break;case 2:var c=Math.PI/3;void 0!==r.InnerAngle&&(c=v.MathUtils.degToRad(r.InnerAngle.value));var l=0;void 0!==r.OuterAngle&&(l=v.MathUtils.degToRad(r.OuterAngle.value),l=Math.max(l,1)),n=new v.SpotLight(i,a,s,c,l,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),n=new v.PointLight(i,a)}void 0!==r.CastShadows&&1===r.CastShadows.value&&(n.castShadow=!0)}return n},createMesh:function(e,t,n){var r,o=null,i=null,a=[];return e.children.forEach((function(e){t.has(e.ID)&&(o=t.get(e.ID)),n.has(e.ID)&&a.push(n.get(e.ID))})),a.length>1?i=a:a.length>0?i=a[0]:(i=new v.MeshPhongMaterial({color:13421772}),a.push(i)),"color"in o.attributes&&a.forEach((function(e){e.vertexColors=!0})),o.FBX_Deformer?(a.forEach((function(e){e.skinning=!0})),(r=new v.SkinnedMesh(o,i)).normalizeSkinWeights()):r=new v.Mesh(o,i),r},createCurve:function(e,t){var n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),r=new v.LineBasicMaterial({color:3342591,linewidth:1});return new v.Line(n,r)},getTransformData:function(e,t){var n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?b(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n},setLookAtProperties:function(r,o){"LookAtProperty"in o&&t.get(r.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){var o=e.Objects.Model[t.ID];if("Lcl_Translation"in o){var i=o.Lcl_Translation.value;void 0!==r.target?(r.target.position.fromArray(i),n.add(r.target)):r.lookAt((new v.Vector3).fromArray(i))}}}))},bindSkeleton:function(e,n,r){var o=this.parsePoseNodes();for(var i in e){var a=e[i];t.get(parseInt(a.ID)).parents.forEach((function(e){if(n.has(e.ID)){var i=e.ID;t.get(i).parents.forEach((function(e){r.has(e.ID)&&r.get(e.ID).bind(new v.Skeleton(a.bones),o[e.ID])}))}}))}},parsePoseNodes:function(){var t={};if("Pose"in e.Objects){var n=e.Objects.Pose;for(var r in n)if("BindPose"===n[r].attrType){var o=n[r].PoseNode;Array.isArray(o)?o.forEach((function(e){t[e.Node]=(new v.Matrix4).fromArray(e.Matrix.a)})):t[o.Node]=(new v.Matrix4).fromArray(o.Matrix.a)}}return t},createAmbientLight:function(){if("GlobalSettings"in e&&"AmbientColor"in e.GlobalSettings){var t=e.GlobalSettings.AmbientColor.value,r=t[0],o=t[1],i=t[2];if(0!==r||0!==o||0!==i){var a=new v.Color(r,o,i);n.add(new v.AmbientLight(a,1))}}},setupMorphMaterials:function(){var e=this;n.traverse((function(t){t.isMesh&&t.geometry.morphAttributes.position&&t.geometry.morphAttributes.position.length&&(Array.isArray(t.material)?t.material.forEach((function(n,r){e.setupMorphMaterial(t,n,r)})):e.setupMorphMaterial(t,t.material))}))},setupMorphMaterial:function(e,t,r){var o=e.uuid,i=t.uuid,a=!1;if(n.traverse((function(e){e.isMesh&&(Array.isArray(e.material)?e.material.forEach((function(t){t.uuid===i&&e.uuid!==o&&(a=!0)})):e.material.uuid===i&&e.uuid!==o&&(a=!0))})),!0===a){var s=t.clone();s.morphTargets=!0,void 0===r?e.material=s:e.material[r]=s}else t.morphTargets=!0}},i.prototype={constructor:i,parse:function(n){var r=new Map;if("Geometry"in e.Objects){var o=e.Objects.Geometry;for(var i in o){var a=t.get(parseInt(i)),s=this.parseGeometry(a,o[i],n);r.set(parseInt(i),s)}}return r},parseGeometry:function(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}},parseMeshGeometry:function(t,n,r){var o=r.skeletons,i=[],a=t.parents.map((function(t){return e.Objects.Model[t.ID]}));if(0!==a.length){var s=t.children.reduce((function(e,t){return void 0!==o[t.ID]&&(e=o[t.ID]),e}),null);t.children.forEach((function(e){void 0!==r.morphTargets[e.ID]&&i.push(r.morphTargets[e.ID])}));var c=a[0],l={};"RotationOrder"in c&&(l.eulerOrder=b(c.RotationOrder.value)),"InheritType"in c&&(l.inheritType=parseInt(c.InheritType.value)),"GeometricTranslation"in c&&(l.translation=c.GeometricTranslation.value),"GeometricRotation"in c&&(l.rotation=c.GeometricRotation.value),"GeometricScaling"in c&&(l.scale=c.GeometricScaling.value);var u=y(l);return this.genGeometry(n,s,i,u)}},genGeometry:function(e,t,n,r){var o=new v.BufferGeometry;e.attrName&&(o.name=e.attrName);var i=this.parseGeoNode(e,t),a=this.genBuffers(i),s=new v.Float32BufferAttribute(a.vertex,3);if(s.applyMatrix4(r),o.setAttribute("position",s),a.colors.length>0&&o.setAttribute("color",new v.Float32BufferAttribute(a.colors,3)),t&&(o.setAttribute("skinIndex",new v.Uint16BufferAttribute(a.weightsIndices,4)),o.setAttribute("skinWeight",new v.Float32BufferAttribute(a.vertexWeights,4)),o.FBX_Deformer=t),a.normal.length>0){var c=(new v.Matrix3).getNormalMatrix(r),l=new v.Float32BufferAttribute(a.normal,3);l.applyNormalMatrix(c),o.setAttribute("normal",l)}if(a.uvs.forEach((function(e,t){var n="uv"+(t+1).toString();0===t&&(n="uv"),o.setAttribute(n,new v.Float32BufferAttribute(a.uvs[t],2))})),i.material&&"AllSame"!==i.material.mappingType){var u=a.materialIndex[0],d=0;if(a.materialIndex.forEach((function(e,t){e!==u&&(o.addGroup(d,t-d,u),u=e,d=t)})),o.groups.length>0){var h=o.groups[o.groups.length-1],p=h.start+h.count;p!==a.materialIndex.length&&o.addGroup(p,a.materialIndex.length-p,u)}0===o.groups.length&&o.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(o,e,n,r),o},parseGeoNode:function(e,t){var n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];for(var r=0;e.LayerElementUV[r];)e.LayerElementUV[r].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,o){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[o]})}))}))),n},genBuffers:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,o=!1,i=[],a=[],s=[],c=[],l=[],u=[],d=this;return e.vertexIndices.forEach((function(h,p){var m=!1;h<0&&(h^=-1,m=!0);var v=[],g=[];if(i.push(3*h,3*h+1,3*h+2),e.color){var y=f(p,n,h,e.color);s.push(y[0],y[1],y[2])}if(e.skeleton){if(void 0!==e.weightTable[h]&&e.weightTable[h].forEach((function(e){g.push(e.weight),v.push(e.id)})),g.length>4){o||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),o=!0);var b=[0,0,0,0],M=[0,0,0,0];g.forEach((function(e,t){var n=e,r=v[t];M.forEach((function(e,t,o){if(n>e){o[t]=n,n=e;var i=b[t];b[t]=r,r=i}}))})),v=b,g=M}for(;g.length<4;)g.push(0),v.push(0);for(var I=0;I<4;++I)l.push(g[I]),u.push(v[I])}if(e.normal){y=f(p,n,h,e.normal);a.push(y[0],y[1],y[2])}if(e.material&&"AllSame"!==e.material.mappingType)var A=f(p,n,h,e.material)[0];e.uv&&e.uv.forEach((function(e,t){var r=f(p,n,h,e);void 0===c[t]&&(c[t]=[]),c[t].push(r[0]),c[t].push(r[1])})),r++,m&&(d.genFace(t,e,i,A,a,s,c,l,u,r),n++,r=0,i=[],a=[],s=[],c=[],l=[],u=[])})),t},genFace:function(e,t,n,r,o,i,a,s,c,l){for(var u=2;u<l;u++)e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(u-1)]]),e.vertex.push(t.vertexPositions[n[3*(u-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(u-1)+2]]),e.vertex.push(t.vertexPositions[n[3*u]]),e.vertex.push(t.vertexPositions[n[3*u+1]]),e.vertex.push(t.vertexPositions[n[3*u+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(u-1)]),e.vertexWeights.push(s[4*(u-1)+1]),e.vertexWeights.push(s[4*(u-1)+2]),e.vertexWeights.push(s[4*(u-1)+3]),e.vertexWeights.push(s[4*u]),e.vertexWeights.push(s[4*u+1]),e.vertexWeights.push(s[4*u+2]),e.vertexWeights.push(s[4*u+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[4*(u-1)]),e.weightsIndices.push(c[4*(u-1)+1]),e.weightsIndices.push(c[4*(u-1)+2]),e.weightsIndices.push(c[4*(u-1)+3]),e.weightsIndices.push(c[4*u]),e.weightsIndices.push(c[4*u+1]),e.weightsIndices.push(c[4*u+2]),e.weightsIndices.push(c[4*u+3])),t.color&&(e.colors.push(i[0]),e.colors.push(i[1]),e.colors.push(i[2]),e.colors.push(i[3*(u-1)]),e.colors.push(i[3*(u-1)+1]),e.colors.push(i[3*(u-1)+2]),e.colors.push(i[3*u]),e.colors.push(i[3*u+1]),e.colors.push(i[3*u+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(o[0]),e.normal.push(o[1]),e.normal.push(o[2]),e.normal.push(o[3*(u-1)]),e.normal.push(o[3*(u-1)+1]),e.normal.push(o[3*(u-1)+2]),e.normal.push(o[3*u]),e.normal.push(o[3*u+1]),e.normal.push(o[3*u+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(a[n][0]),e.uvs[n].push(a[n][1]),e.uvs[n].push(a[n][2*(u-1)]),e.uvs[n].push(a[n][2*(u-1)+1]),e.uvs[n].push(a[n][2*u]),e.uvs[n].push(a[n][2*u+1])}))},addMorphTargets:function(t,n,r,o){if(0!==r.length){t.morphTargetsRelative=!0,t.morphAttributes.position=[];var i=this;r.forEach((function(r){r.rawTargets.forEach((function(r){var a=e.Objects.Geometry[r.geoID];void 0!==a&&i.genMorphGeometry(t,n,a,o,r.name)}))}))}},genMorphGeometry:function(e,t,n,r,o){for(var i=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],a=void 0!==n.Vertices?n.Vertices.a:[],s=void 0!==n.Indexes?n.Indexes.a:[],c=3*e.attributes.position.count,l=new Float32Array(c),u=0;u<s.length;u++){var d=3*s[u];l[d]=a[3*u],l[d+1]=a[3*u+1],l[d+2]=a[3*u+2]}var h={vertexIndices:i,vertexPositions:l},p=this.genBuffers(h),f=new v.Float32BufferAttribute(p.vertex,3);f.name=o||n.attrName,f.applyMatrix4(r),e.morphAttributes.position.push(f)},parseNormals:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a,o=[];return"IndexToDirect"===n&&("NormalIndex"in e?o=e.NormalIndex.a:"NormalsIndex"in e&&(o=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:o,mappingType:t,referenceType:n}},parseUVs:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a,o=[];return"IndexToDirect"===n&&(o=e.UVIndex.a),{dataSize:2,buffer:r,indices:o,mappingType:t,referenceType:n}},parseVertexColors:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a,o=[];return"IndexToDirect"===n&&(o=e.ColorIndex.a),{dataSize:4,buffer:r,indices:o,mappingType:t,referenceType:n}},parseMaterialIndices:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var r=e.Materials.a,o=[],i=0;i<r.length;++i)o.push(i);return{dataSize:1,buffer:r,indices:o,mappingType:t,referenceType:n}},parseNurbsGeometry:function(e){if(void 0===Ge)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new v.BufferGeometry;var t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new v.BufferGeometry;for(var n,r,o=t-1,i=e.KnotVector.a,a=[],s=e.Points.a,c=0,l=s.length;c<l;c+=4)a.push((new v.Vector4).fromArray(s,c));if("Closed"===e.Form)a.push(a[0]);else if("Periodic"===e.Form){n=o,r=i.length-1-n;for(c=0;c<o;++c)a.push(a[c])}var u=new Ge(o,i,a,n,r).getPoints(7*a.length),d=new Float32Array(3*u.length);u.forEach((function(e,t){e.toArray(d,3*t)}));var h=new v.BufferGeometry;return h.setAttribute("position",new v.BufferAttribute(d,3)),h}},a.prototype={constructor:a,parse:function(){var e=[],t=this.parseClips();if(void 0!==t)for(var n in t){var r=t[n],o=this.addClip(r);e.push(o)}return e},parseClips:function(){if(void 0!==e.Objects.AnimationCurve){var t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);var n=this.parseAnimationLayers(t);return this.parseAnimStacks(n)}},parseAnimationCurveNodes:function(){var t=e.Objects.AnimationCurveNode,n=new Map;for(var r in t){var o=t[r];if(null!==o.attrName.match(/S|R|T|DeformPercent/)){var i={id:o.id,attr:o.attrName,curves:{}};n.set(i.id,i)}}return n},parseAnimationCurves:function(n){var r=e.Objects.AnimationCurve;for(var o in r){var i={id:r[o].id,times:r[o].KeyTime.a.map(h),values:r[o].KeyValueFloat.a},a=t.get(i.id);if(void 0!==a){var s=a.parents[0].ID,c=a.parents[0].relationship;c.match(/X/)?n.get(s).curves.x=i:c.match(/Y/)?n.get(s).curves.y=i:c.match(/Z/)?n.get(s).curves.z=i:c.match(/d|DeformPercent/)&&n.has(s)&&(n.get(s).curves.morph=i)}}},parseAnimationLayers:function(r){var o=e.Objects.AnimationLayer,i=new Map;for(var a in o){var s=[],c=t.get(parseInt(a));if(void 0!==c)c.children.forEach((function(o,i){if(r.has(o.ID)){var a=r.get(o.ID);if(void 0!==a.curves.x||void 0!==a.curves.y||void 0!==a.curves.z){if(void 0===s[i])if(void 0!==(p=t.get(o.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID)){if(void 0===(l=e.Objects.Model[p.toString()]))return void console.warn("THREE.FBXLoader: Encountered a unused curve.",o);var c={modelName:l.attrName?v.PropertyBinding.sanitizeNodeName(l.attrName):"",ID:l.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};n.traverse((function(e){e.ID===l.id&&(c.transform=e.matrix,e.userData.transformData&&(c.eulerOrder=e.userData.transformData.eulerOrder))})),c.transform||(c.transform=new v.Matrix4),"PreRotation"in l&&(c.preRotation=l.PreRotation.value),"PostRotation"in l&&(c.postRotation=l.PostRotation.value),s[i]=c}s[i]&&(s[i][a.attr]=a)}else if(void 0!==a.curves.morph){if(void 0===s[i]){var l,u=t.get(o.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,d=t.get(u).parents[0].ID,h=t.get(d).parents[0].ID,p=t.get(h).parents[0].ID;c={modelName:(l=e.Objects.Model[p]).attrName?v.PropertyBinding.sanitizeNodeName(l.attrName):"",morphName:e.Objects.Deformer[u].attrName};s[i]=c}s[i][a.attr]=a}}})),i.set(parseInt(a),s)}return i},parseAnimStacks:function(n){var r=e.Objects.AnimationStack,o={};for(var i in r){var a=t.get(parseInt(i)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var s=n.get(a[0].ID);o[i]={name:r[i].attrName,layer:s}}return o},addClip:function(e){var t=[],n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new v.AnimationClip(e.name,-1,t)},generateTracks:function(e){var t=[],n=new v.Vector3,r=new v.Quaternion,o=new v.Vector3;if(e.transform&&e.transform.decompose(n,r,o),n=n.toArray(),r=(new v.Euler).setFromQuaternion(r,e.eulerOrder).toArray(),o=o.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){var i=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==i&&t.push(i)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){var a=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);void 0!==a&&t.push(a)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){var s=this.generateVectorTrack(e.modelName,e.S.curves,o,"scale");void 0!==s&&t.push(s)}if(void 0!==e.DeformPercent){var c=this.generateMorphTrack(e);void 0!==c&&t.push(c)}return t},generateVectorTrack:function(e,t,n,r){var o=this.getTimesForAllAxes(t),i=this.getKeyframeTrackValues(o,t,n);return new v.VectorKeyframeTrack(e+"."+r,o,i)},generateRotationTrack:function(e,t,n,r,o,i){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(v.MathUtils.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(v.MathUtils.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(v.MathUtils.degToRad));var a=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(a,t,n);void 0!==r&&((r=r.map(v.MathUtils.degToRad)).push(i),r=(new v.Euler).fromArray(r),r=(new v.Quaternion).setFromEuler(r)),void 0!==o&&((o=o.map(v.MathUtils.degToRad)).push(i),o=(new v.Euler).fromArray(o),o=(new v.Quaternion).setFromEuler(o).inverse());for(var c=new v.Quaternion,l=new v.Euler,u=[],d=0;d<s.length;d+=3)l.set(s[d],s[d+1],s[d+2],i),c.setFromEuler(l),void 0!==r&&c.premultiply(r),void 0!==o&&c.multiply(o),c.toArray(u,d/3*4);return new v.QuaternionKeyframeTrack(e+".quaternion",a,u)},generateMorphTrack:function(e){var t=e.DeformPercent.curves.morph,r=t.values.map((function(e){return e/100})),o=n.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new v.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+o+"]",t.times,r)},getTimesForAllAxes:function(e){var t=[];return void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})).filter((function(e,t,n){return n.indexOf(e)==t}))},getKeyframeTrackValues:function(e,t,n){var r=n,o=[],i=-1,a=-1,s=-1;return e.forEach((function(e){if(t.x&&(i=t.x.times.indexOf(e)),t.y&&(a=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==i){var n=t.x.values[i];o.push(n),r[0]=n}else o.push(r[0]);if(-1!==a){var c=t.y.values[a];o.push(c),r[1]=c}else o.push(r[1]);if(-1!==s){var l=t.z.values[s];o.push(l),r[2]=l}else o.push(r[2])})),o},interpolateRotations:function(e){for(var t=1;t<e.values.length;t++){var n=e.values[t-1],r=e.values[t]-n,o=Math.abs(r);if(o>=180){for(var i=o/180,a=r/i,s=n+a,c=e.times[t-1],l=(e.times[t]-c)/i,u=c+l,d=[],h=[];u<e.times[t];)d.push(u),u+=l,h.push(s),s+=a;e.times=A(e.times,t,d),e.values=A(e.values,t,h)}}}},s.prototype={constructor:s,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(e){this.nodeStack.push(e),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(e,t){this.currentProp=e,this.currentPropName=t},parse:function(e){this.currentIndent=0,this.allNodes=new u,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){var o=e.match(/^[\s\t]*;/),i=e.match(/^[\s\t]*$/);if(!o&&!i){var a=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=e.match("^\\t{"+(t.currentIndent-1)+"}}");a?t.parseNodeBegin(e,a):s?t.parseNodeProperty(e,s,n[++r]):c?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)}})),this.allNodes},parseNodeBegin:function(e,t){var n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),o={name:n},i=this.parseNodeAttr(r),a=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,o):n in a?("PoseNode"===n?a.PoseNode.push(o):void 0!==a[n].id&&(a[n]={},a[n][a[n].id]=a[n]),""!==i.id&&(a[n][i.id]=o)):"number"===typeof i.id?(a[n]={},a[n][i.id]=o):"Properties70"!==n&&(a[n]="PoseNode"===n?[o]:o),"number"===typeof i.id&&(o.id=i.id),""!==i.name&&(o.attrName=i.name),""!==i.type&&(o.attrType=i.type),this.pushStack(o)},parseNodeAttr:function(e){var t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));var n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}},parseNodeProperty:function(e,t,n){var r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),o=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===o&&(o=n.replace(/"/g,"").replace(/,$/,"").trim());var i=this.getCurrentNode();if("Properties70"!==i.name){if("C"===r){var a=o.split(",").slice(1),s=parseInt(a[0]),c=parseInt(a[1]),l=o.split(",").slice(3);r="connections",function(e,t){for(var n=0,r=e.length,o=t.length;n<o;n++,r++)e[r]=t[n]}(o=[s,c],l=l.map((function(e){return e.trim().replace(/^"/,"")}))),void 0===i[r]&&(i[r]=[])}"Node"===r&&(i.id=o),r in i&&Array.isArray(i[r])?i[r].push(o):"a"!==r?i[r]=o:i.a=o,this.setCurrentProp(i,r),"a"===r&&","!==o.slice(-1)&&(i.a=M(o))}else this.parseNodeSpecialProperty(e,r,o)},parseNodePropertyContinued:function(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=M(t.a))},parseNodeSpecialProperty:function(e,t,n){var r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),o=r[0],i=r[1],a=r[2],s=r[3],c=r[4];switch(i){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=M(c)}this.getPrevNode()[o]={type:i,type2:a,flag:s,value:c},this.setCurrentProp(this.getPrevNode(),o)}},c.prototype={constructor:c,parse:function(e){var t=new l(e);t.skip(23);var n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);for(var r=new u;!this.endOfContent(t);){var o=this.parseNode(t,n);null!==o&&r.add(o.name,o)}return r},endOfContent:function(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()},parseNode:function(e,t){var n={},r=t>=7500?e.getUint64():e.getUint32(),o=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();var i=e.getUint8(),a=e.getString(i);if(0===r)return null;for(var s=[],c=0;c<o;c++)s.push(this.parseProperty(e));var l=s.length>0?s[0]:"",u=s.length>1?s[1]:"",d=s.length>2?s[2]:"";for(n.singleProperty=1===o&&e.getOffset()===r;r>e.getOffset();){var h=this.parseNode(e,t);null!==h&&this.parseSubNode(a,n,h)}return n.propertyList=s,"number"===typeof l&&(n.id=l),""!==u&&(n.attrName=u),""!==d&&(n.attrType=d),""!==a&&(n.name=a),n},parseSubNode:function(e,t,n){if(!0===n.singleProperty){var r=n.propertyList[0];Array.isArray(r)?(t[n.name]=n,n.a=r):t[n.name]=r}else if("Connections"===e&&"C"===n.name){var o=[];n.propertyList.forEach((function(e,t){0!==t&&o.push(e)})),void 0===t.connections&&(t.connections=[]),t.connections.push(o)}else if("Properties70"===n.name){Object.keys(n).forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){var i,a=n.propertyList[0],s=n.propertyList[1],c=n.propertyList[2],l=n.propertyList[3];0===a.indexOf("Lcl ")&&(a=a.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),i="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[a]={type:s,type2:c,flag:l,value:i}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)},parseProperty:function(e){var t=e.getString(1);switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":var n=e.getUint32();return e.getArrayBuffer(n);case"S":n=e.getUint32();return e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var r=e.getUint32(),o=e.getUint32(),i=e.getUint32();if(0===o)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}"undefined"===typeof we&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var a=new l(new we(new Uint8Array(e.getArrayBuffer(i))).decompress().buffer);switch(t){case"b":case"c":return a.getBooleanArray(r);case"d":return a.getFloat64Array(r);case"f":return a.getFloat32Array(r);case"i":return a.getInt32Array(r);case"l":return a.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}},l.prototype={constructor:l,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(e){this.offset+=e},getBoolean:function(){return 1===(1&this.getUint8())},getBooleanArray:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getBoolean());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getInt64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295===(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e},getInt64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt64());return t},getUint64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e},getFloat32:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},getFloat32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t},getArrayBuffer:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},getString:function(e){for(var t=[],n=0;n<e;n++)t[n]=this.getUint8();var r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),v.LoaderUtils.decodeText(new Uint8Array(t))}},u.prototype={constructor:u,add:function(e,t){this[e]=t}};var p=[];function f(e,t,n,r){var o;switch(r.mappingType){case"ByPolygonVertex":o=e;break;case"ByPolygon":o=t;break;case"ByVertice":o=n;break;case"AllSame":o=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(o=r.indices[o]);var i=o*r.dataSize,a=i+r.dataSize;return function(e,t,n,r){for(var o=n,i=0;o<r;o++,i++)e[i]=t[o];return e}(p,r.buffer,i,a)}var m=new v.Euler,g=new v.Vector3;function y(e){var t,n=new v.Matrix4,r=new v.Matrix4,o=new v.Matrix4,i=new v.Matrix4,a=new v.Matrix4,s=new v.Matrix4,c=new v.Matrix4,l=new v.Matrix4,u=new v.Matrix4,d=new v.Matrix4,h=new v.Matrix4,p=e.inheritType?e.inheritType:0;(e.translation&&n.setPosition(g.fromArray(e.translation)),e.preRotation)&&((t=e.preRotation.map(v.MathUtils.degToRad)).push(e.eulerOrder),r.makeRotationFromEuler(m.fromArray(t)));e.rotation&&((t=e.rotation.map(v.MathUtils.degToRad)).push(e.eulerOrder),o.makeRotationFromEuler(m.fromArray(t)));e.postRotation&&((t=e.postRotation.map(v.MathUtils.degToRad)).push(e.eulerOrder),i.makeRotationFromEuler(m.fromArray(t)));e.scale&&a.scale(g.fromArray(e.scale)),e.scalingOffset&&c.setPosition(g.fromArray(e.scalingOffset)),e.scalingPivot&&s.setPosition(g.fromArray(e.scalingPivot)),e.rotationOffset&&l.setPosition(g.fromArray(e.rotationOffset)),e.rotationPivot&&u.setPosition(g.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(d=e.parentMatrixWorld);var f=r.multiply(o).multiply(i),y=new v.Matrix4;d.extractRotation(y),(new v.Matrix4).copyPosition(d);var b=new v.Matrix4;b.getInverse(y).multiply(d);var M=new v.Matrix4;if(0===p)M.copy(y).multiply(f).multiply(b).multiply(a);else if(1===p)M.copy(y).multiply(b).multiply(f).multiply(a);else{var I=(new v.Matrix4).getInverse(a),A=(new v.Matrix4).multiply(b).multiply(I);M.copy(y).multiply(f).multiply(A).multiply(a)}var D=(new v.Matrix4).getInverse(u),w=(new v.Matrix4).getInverse(s),R=new v.Matrix4;R.copy(n).multiply(l).multiply(u).multiply(r).multiply(o).multiply(i).multiply(D).multiply(c).multiply(s).multiply(a).multiply(w);var G=(new v.Matrix4).copyPosition(R),T=(new v.Matrix4).copy(d).multiply(G);return h.copyPosition(T),R=(new v.Matrix4).multiply(h).multiply(M)}function b(e){var t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function M(e){return e.split(",").map((function(e){return parseFloat(e)}))}function I(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),v.LoaderUtils.decodeText(new Uint8Array(e,t,n))}function A(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}})(),n("NK00"),n("DKVj"),n("i8i4");var Te=function e(t,n){v.Mesh.call(this,t),this.type="Reflector";var r=this,o=void 0!==(n=n||{}).color?new v.Color(n.color):new v.Color(8355711),i=n.textureWidth||512,a=n.textureHeight||512,s=n.clipBias||0,c=n.shader||e.ReflectorShader,l=new v.Plane,u=new v.Vector3,d=new v.Vector3,h=new v.Vector3,p=new v.Matrix4,f=new v.Vector3(0,0,-1),m=new v.Vector4,g=new v.Vector3,y=new v.Vector3,b=new v.Vector4,M=new v.Matrix4,I=new v.PerspectiveCamera,A={minFilter:v.LinearFilter,magFilter:v.LinearFilter,format:v.RGBFormat},D=new v.WebGLRenderTarget(i,a,A);v.MathUtils.isPowerOfTwo(i)&&v.MathUtils.isPowerOfTwo(a)||(D.texture.generateMipmaps=!1);var w=new v.ShaderMaterial({uniforms:v.UniformsUtils.clone(c.uniforms),fragmentShader:c.fragmentShader,vertexShader:c.vertexShader});w.uniforms.tDiffuse.value=D.texture,w.uniforms.color.value=o,w.uniforms.textureMatrix.value=M,this.material=w,this.onBeforeRender=function(e,t,n){if(d.setFromMatrixPosition(r.matrixWorld),h.setFromMatrixPosition(n.matrixWorld),p.extractRotation(r.matrixWorld),u.set(0,0,1),u.applyMatrix4(p),g.subVectors(d,h),!(g.dot(u)>0)){g.reflect(u).negate(),g.add(d),p.extractRotation(n.matrixWorld),f.set(0,0,-1),f.applyMatrix4(p),f.add(h),y.subVectors(d,f),y.reflect(u).negate(),y.add(d),I.position.copy(g),I.up.set(0,1,0),I.up.applyMatrix4(p),I.up.reflect(u),I.lookAt(y),I.far=n.far,I.updateMatrixWorld(),I.projectionMatrix.copy(n.projectionMatrix),M.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),M.multiply(I.projectionMatrix),M.multiply(I.matrixWorldInverse),M.multiply(r.matrixWorld),l.setFromNormalAndCoplanarPoint(u,d),l.applyMatrix4(I.matrixWorldInverse),m.set(l.normal.x,l.normal.y,l.normal.z,l.constant);var o=I.projectionMatrix;b.x=(Math.sign(m.x)+o.elements[8])/o.elements[0],b.y=(Math.sign(m.y)+o.elements[9])/o.elements[5],b.z=-1,b.w=(1+o.elements[10])/o.elements[14],m.multiplyScalar(2/m.dot(b)),o.elements[2]=m.x,o.elements[6]=m.y,o.elements[10]=m.z+1-s,o.elements[14]=m.w,D.texture.encoding=e.outputEncoding,r.visible=!1;var i=e.getRenderTarget(),a=e.xr.enabled,c=e.shadowMap.autoUpdate;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(D),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,I),e.xr.enabled=a,e.shadowMap.autoUpdate=c,e.setRenderTarget(i);var v=n.viewport;void 0!==v&&e.state.viewport(v),r.visible=!0}},this.getRenderTarget=function(){return D}};(Te.prototype=Object.create(v.Mesh.prototype)).constructor=Te,Te.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec4 vUv;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n")};n("NkP5"),n("YWRd");var xe=function(){};!function(){var e=new v.Vector3,t=new v.Vector3;function n(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function r(e,t){var n,r,o,i=t.position.distanceTo(e.position),a=0,s=[],c=e.faces.length;for(n=0;n<c;n++)(r=e.faces[n]).hasVertex(t)&&s.push(r);for(n=0;n<c;n++){var l=1;r=e.faces[n];for(var u=0;u<s.length;u++){o=s[u];var d=r.normal.dot(o.normal);l=Math.min(l,(1.001-d)/2)}a=Math.max(a,l)}return s.length<2&&(a=1),i*a+0}function o(e){if(0===e.neighbors.length)return e.collapseNeighbor=null,void(e.collapseCost=-.01);e.collapseCost=1e5,e.collapseNeighbor=null;for(var t=0;t<e.neighbors.length;t++){var n=r(e,e.neighbors[t]);e.collapseNeighbor||(e.collapseNeighbor=e.neighbors[t],e.collapseCost=n,e.minCost=n,e.totalCost=0,e.costCount=0),e.costCount++,e.totalCost+=n,n<e.minCost&&(e.collapseNeighbor=e.neighbors[t],e.minCost=n)}e.collapseCost=e.totalCost/e.costCount}function i(e,t){for(console.assert(0===e.faces.length);e.neighbors.length;){n(e.neighbors.pop().neighbors,e)}n(t,e)}function a(e,t){n(t,e),e.v1&&n(e.v1.faces,e),e.v2&&n(e.v2.faces,e),e.v3&&n(e.v3.faces,e);for(var r,o,i=[e.v1,e.v2,e.v3],a=0;a<3;a++)o=i[(a+1)%3],(r=i[a])&&o&&(r.removeIfNonNeighbor(o),o.removeIfNonNeighbor(r))}function s(e,t,n,r){if(r){var s,c=[];for(s=0;s<n.neighbors.length;s++)c.push(n.neighbors[s]);for(s=n.faces.length-1;s>=0;s--)n.faces[s].hasVertex(r)&&a(n.faces[s],t);for(s=n.faces.length-1;s>=0;s--)n.faces[s].replaceVertex(n,r);for(i(n,e),s=0;s<c.length;s++)o(c[s])}else i(n,e)}function c(e){for(var t=e[0],n=0;n<e.length;n++)e[n].collapseCost<t.collapseCost&&(t=e[n]);return t}function l(e,t,n,r,o,i){this.a=r,this.b=o,this.c=i,this.v1=e,this.v2=t,this.v3=n,this.normal=new v.Vector3,this.computeNormal(),e.faces.push(this),e.addUniqueNeighbor(t),e.addUniqueNeighbor(n),t.faces.push(this),t.addUniqueNeighbor(e),t.addUniqueNeighbor(n),n.faces.push(this),n.addUniqueNeighbor(e),n.addUniqueNeighbor(t)}function u(e,t){this.position=e,this.id=t,this.faces=[],this.neighbors=[],this.collapseCost=0,this.collapseNeighbor=null}l.prototype.computeNormal=function(){var n=this.v1.position,r=this.v2.position,o=this.v3.position;e.subVectors(o,r),t.subVectors(n,r),e.cross(t).normalize(),this.normal.copy(e)},l.prototype.hasVertex=function(e){return e===this.v1||e===this.v2||e===this.v3},l.prototype.replaceVertex=function(e,t){e===this.v1?this.v1=t:e===this.v2?this.v2=t:e===this.v3&&(this.v3=t),n(e.faces,this),t.faces.push(this),e.removeIfNonNeighbor(this.v1),this.v1.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v2),this.v2.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v3),this.v3.removeIfNonNeighbor(e),this.v1.addUniqueNeighbor(this.v2),this.v1.addUniqueNeighbor(this.v3),this.v2.addUniqueNeighbor(this.v1),this.v2.addUniqueNeighbor(this.v3),this.v3.addUniqueNeighbor(this.v1),this.v3.addUniqueNeighbor(this.v2),this.computeNormal()},u.prototype.addUniqueNeighbor=function(e){var t,n;t=this.neighbors,n=e,-1===t.indexOf(n)&&t.push(n)},u.prototype.removeIfNonNeighbor=function(e){var t=this.neighbors,n=this.faces,r=t.indexOf(e);if(-1!==r){for(var o=0;o<n.length;o++)if(n[o].hasVertex(e))return;t.splice(r,1)}},xe.prototype.modify=function(e,t){e.isBufferGeometry&&(e=(new v.Geometry).fromBufferGeometry(e)),e.mergeVertices();var n,r,i,a=e.vertices,d=e.faces,h=[],p=[];for(n=0,r=a.length;n<r;n++){var f=new u(a[n],n);h.push(f)}for(n=0,r=d.length;n<r;n++){var m=(w=d[n]).a,g=w.b,y=w.c,b=new l(h[m],h[g],h[y],m,g,y);p.push(b)}for(n=0,r=h.length;n<r;n++)o(h[n]);for(var M=t;M--;){if(!(i=c(h))){console.log("THREE.SimplifyModifier: No next vertex");break}s(h,p,i,i.collapseNeighbor)}var I=new v.BufferGeometry,A=[],D=[];for(n=0;n<h.length;n++){f=h[n].position;A.push(f.x,f.y,f.z)}for(n=0;n<p.length;n++){var w=p[n];m=h.indexOf(w.v1),g=h.indexOf(w.v2),y=h.indexOf(w.v3);D.push(m,g,y)}return I.setAttribute("position",new v.Float32BufferAttribute(A,3)),I.setIndex(D),I}}();var Ee=function(e){this.subdivisions=void 0===e?1:e};Ee.prototype.modify=function(e){(e=e.isBufferGeometry?(new v.Geometry).fromBufferGeometry(e):e.clone()).mergeVertices();for(var t=this.subdivisions;t-- >0;)this.smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e},function(){var e=["a","b","c"];function t(e,t,n){return n[Math.min(e,t)+"_"+Math.max(e,t)]}function n(e,t,n,r,o,i){var a,s=Math.min(e,t),c=Math.max(e,t),l=s+"_"+c;l in r?a=r[l]:(a={a:n[s],b:n[c],newEdge:null,faces:[]},r[l]=a);a.faces.push(o),i[e].edges.push(a),i[t].edges.push(a)}function r(e,t,n,r,o){e.push(new v.Face3(t,n,r,void 0,void 0,o))}function o(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function i(e,t,n,r){e.push([t.clone(),n.clone(),r.clone()])}Ee.prototype.smooth=function(a){var s,c,l,u,d,h,p,f,m,g,y,b,M,I=new v.Vector3,A=[];s=a.vertices,c=a.faces;var D,w,R,G,T,x,E,V,S,N,P,O,F,j,L=void 0!==(l=a.faceVertexUvs)[0]&&l[0].length>0;if(L)for(var _=0;_<l.length;_++)A.push([]);for(p in function(e,t,r,o){var i,a,s;for(i=0,a=e.length;i<a;i++)r[i]={edges:[]};for(i=0,a=t.length;i<a;i++)n((s=t[i]).a,s.b,e,o,s,r),n(s.b,s.c,e,o,s,r),n(s.c,s.a,e,o,s,r)}(s,c,g=new Array(s.length),y={}),b=[],y){for(w=y[p],R=new v.Vector3,T=3/8,x=1/8,2!=(E=w.faces.length)&&(T=.5,x=0),R.addVectors(w.a,w.b).multiplyScalar(T),I.set(0,0,0),_=0;_<E;_++){for(G=w.faces[_],m=0;m<3&&((D=s[G[e[m]]])===w.a||D===w.b);m++);I.add(D)}I.multiplyScalar(x),R.add(I),w.newEdge=b.length,b.push(R)}for(M=[],p=0,f=s.length;p<f;p++){for(F=s[p],3==(h=(O=g[p].edges).length)?V=3/16:h>3&&(V=3/(8*h)),S=1-h*V,N=V,h<=2&&2==h&&(S=3/4,N=1/8),j=F.clone().multiplyScalar(S),I.set(0,0,0),_=0;_<h;_++)D=(P=O[_]).a!==F?P.a:P.b,I.add(D);I.multiplyScalar(N),j.add(I),M.push(j)}u=M.concat(b);var k,X,C,H,U,B,Q,z=M.length;d=[];var Y=new v.Vector2,W=new v.Vector2,q=new v.Vector2;for(p=0,f=c.length;p<f;p++)if(r(d,k=t((G=c[p]).a,G.b,y).newEdge+z,X=t(G.b,G.c,y).newEdge+z,C=t(G.c,G.a,y).newEdge+z,G.materialIndex),r(d,G.a,k,C,G.materialIndex),r(d,G.b,X,k,G.materialIndex),r(d,G.c,C,X,G.materialIndex),L)for(_=0;_<l.length;_++)U=(H=l[_][p])[0],B=H[1],Q=H[2],Y.set(o(U.x,B.x),o(U.y,B.y)),W.set(o(B.x,Q.x),o(B.y,Q.y)),q.set(o(U.x,Q.x),o(U.y,Q.y)),i(A[_],Y,W,q),i(A[_],U,Y,q),i(A[_],B,W,Y),i(A[_],Q,q,W);a.vertices=u,a.faces=d,L&&(a.faceVertexUvs=A)}}();var Ve=function(e){this.maxEdgeLength=e};Ve.prototype.modify=function(e){for(var t,n=[],r=[],o=this.maxEdgeLength*this.maxEdgeLength,i=0,a=e.faceVertexUvs.length;i<a;i++)r[i]=[];for(i=0,a=e.faces.length;i<a;i++){var s=e.faces[i];if(s instanceof v.Face3){var c=s.a,l=s.b,u=s.c,d=e.vertices[c],h=e.vertices[l],p=e.vertices[u],f=d.distanceToSquared(h),m=h.distanceToSquared(p),g=d.distanceToSquared(p);if(f>o||m>o||g>o){var y=e.vertices.length,b=s.clone(),M=s.clone();if(f>=m&&f>=g){if((I=d.clone()).lerp(h,.5),b.a=c,b.b=y,b.c=u,M.a=y,M.b=l,M.c=u,3===s.vertexNormals.length)(A=s.vertexNormals[0].clone()).lerp(s.vertexNormals[1],.5),b.vertexNormals[1].copy(A),M.vertexNormals[0].copy(A);if(3===s.vertexColors.length)(D=s.vertexColors[0].clone()).lerp(s.vertexColors[1],.5),b.vertexColors[1].copy(D),M.vertexColors[0].copy(D);t=0}else if(m>=f&&m>=g){if((I=h.clone()).lerp(p,.5),b.a=c,b.b=l,b.c=y,M.a=y,M.b=u,M.c=c,3===s.vertexNormals.length)(A=s.vertexNormals[1].clone()).lerp(s.vertexNormals[2],.5),b.vertexNormals[2].copy(A),M.vertexNormals[0].copy(A),M.vertexNormals[1].copy(s.vertexNormals[2]),M.vertexNormals[2].copy(s.vertexNormals[0]);if(3===s.vertexColors.length)(D=s.vertexColors[1].clone()).lerp(s.vertexColors[2],.5),b.vertexColors[2].copy(D),M.vertexColors[0].copy(D),M.vertexColors[1].copy(s.vertexColors[2]),M.vertexColors[2].copy(s.vertexColors[0]);t=1}else{var I,A,D;if((I=d.clone()).lerp(p,.5),b.a=c,b.b=l,b.c=y,M.a=y,M.b=l,M.c=u,3===s.vertexNormals.length)(A=s.vertexNormals[0].clone()).lerp(s.vertexNormals[2],.5),b.vertexNormals[2].copy(A),M.vertexNormals[0].copy(A);if(3===s.vertexColors.length)(D=s.vertexColors[0].clone()).lerp(s.vertexColors[2],.5),b.vertexColors[2].copy(D),M.vertexColors[0].copy(D);t=2}n.push(b,M),e.vertices.push(I);for(var w=0,R=e.faceVertexUvs.length;w<R;w++)if(e.faceVertexUvs[w].length){var G=e.faceVertexUvs[w][i],T=G[0],x=G[1],E=G[2];if(0===t){(N=T.clone()).lerp(x,.5);var V=[T.clone(),N.clone(),E.clone()],S=[N.clone(),x.clone(),E.clone()]}else if(1===t){(N=x.clone()).lerp(E,.5);V=[T.clone(),x.clone(),N.clone()],S=[N.clone(),E.clone(),T.clone()]}else{var N;(N=T.clone()).lerp(E,.5);V=[T.clone(),x.clone(),N.clone()],S=[N.clone(),x.clone(),E.clone()]}r[w].push(V,S)}}else{n.push(s);for(w=0,R=e.faceVertexUvs.length;w<R;w++)r[w].push(e.faceVertexUvs[w][i])}}}e.faces=n,e.faceVertexUvs=r};var Se=function e(){var t=e.SkyShader,n=new v.ShaderMaterial({name:"SkyShader",fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:v.UniformsUtils.clone(t.uniforms),side:v.BackSide,depthWrite:!1});v.Mesh.call(this,new v.BoxBufferGeometry(1,1,1),n)};Se.prototype=Object.create(v.Mesh.prototype),Se.SkyShader={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new v.Vector3},up:{value:new v.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n")};["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float h;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float v;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n");function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}function Pe(e){var t=e+"BufferGeometry";return Object(p.forwardRef)((function(e,n){var r=e.args,o=e.children,i=Object(h.a)(e,["args","children"]);return f.a.createElement("mesh",Object(d.a)({ref:n},i),f.a.createElement(t,{attach:"geometry",args:r}),o)}))}Pe("box"),Pe("circle"),Pe("cone"),Pe("cylinder"),Pe("sphere"),Pe("plane"),Pe("tube"),Pe("torus"),Pe("torusKnot"),Pe("tetrahedron"),Pe("ring"),Pe("polyhedron"),Pe("icosahedron"),Pe("octahedron"),Pe("dodecahedron"),Pe("extrude"),Pe("lathe"),Pe("parametric");Object(m.e)({EffectComposer:T,RenderPass:E,ShaderPass:w});function Oe(e,t){"function"===typeof e?e(t):null!=e&&(e.current=t)}function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=Object(p.useState)(),o=r[0],i=r[1];return Object(p.useLayoutEffect)((function(){var t=e();return i(t),Oe(n,t),function(){return Oe(n,null)}}),t),o}var je=Object(p.forwardRef)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enableDamping:!0},t=arguments.length>1?arguments[1]:void 0,n=Object(m.h)(),r=n.camera,o=n.gl,i=n.invalidate,a=Fe((function(){return new N(r,o.domElement)}),[r,o],t);return Object(m.f)((function(){return null==a?void 0:a.update()})),Object(p.useEffect)((function(){return null==a||null==a.addEventListener||a.addEventListener("change",i),function(){return null==a||null==a.removeEventListener?void 0:a.removeEventListener("change",i)}}),[a,i]),a?f.a.createElement("primitive",Object(d.a)({dispose:void 0,object:a,enableDamping:!0},e)):null})),Le=C((function(e){return v.DefaultLoadingManager.onStart=function(t,n,r){return e({active:!0,item:t,loaded:n,total:r,progress:n/r*100})},v.DefaultLoadingManager.onLoad=function(){return e({active:!1})},v.DefaultLoadingManager.onError=function(t){return e((function(e){return{errors:[].concat(Object(u.a)(e.errors),[t])}}))},v.DefaultLoadingManager.onProgress=function(t,n,r){return e({item:t,loaded:n,total:r,progress:n/r*100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}}));function _e(e){return Object(m.g)(v.TextureLoader,e)}_e.preload=function(e){return m.g.preload(v.TextureLoader,e)};new v.Vector3,new v.Vector3,new v.Vector3;new v.Matrix4,new v.Ray,new v.Sphere,new v.Vector3;v.MeshPhysicalMaterial,v.MeshStandardMaterial;v.ShaderMaterial},"71bl":function(e,t,n){"use strict";n.r(t),n.d(t,"createStringInterpolator",(function(){return r})),n.d(t,"frameLoop",(function(){return s})),n.d(t,"to",(function(){return o})),n.d(t,"now",(function(){return c})),n.d(t,"colorNames",(function(){return l})),n.d(t,"skipAnimation",(function(){return u})),n.d(t,"requestAnimationFrame",(function(){return d})),n.d(t,"batchedUpdates",(function(){return h})),n.d(t,"willAdvance",(function(){return p})),n.d(t,"assign",(function(){return f}));var r,o,i=n("dr3n"),a=n("53ff"),s=new i.a,c=function(){return performance.now()},l=null,u=!1,d="undefined"!==typeof window?window.requestAnimationFrame:function(){return-1},h=function(e){return e()},p=a.g,f=function(e){var t;return t=Object.assign({to:o,now:c,frameLoop:s,colorNames:l,skipAnimation:u,createStringInterpolator:r,requestAnimationFrame:d,batchedUpdates:h,willAdvance:p},function(e){var t={};for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}(e)),o=t.to,c=t.now,s=t.frameLoop,l=t.colorNames,u=t.skipAnimation,r=t.createStringInterpolator,d=t.requestAnimationFrame,h=t.batchedUpdates,p=t.willAdvance,t}},"8jkX":function(e,t,n){"use strict";n.d(t,"useTransition",(function(){return de}));var r=n("A9U+"),o=n("53ff"),i=n("BAiv"),a=n("Y86C"),s=n("d11Q"),c=n("3aMv"),l=n("wx14"),u=n("q1tI"),d=n("AoO4"),h=n("71bl"),p=n("mHlH"),f=n("bTn1"),m=n("zLVn"),v=n("k9Bh");const g=Object(l.a)(Object(l.a)({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:e=>e,clamp:!1});class y{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,g)}}function b(e,t){if(o.d.und(t.decay)){const n=!o.d.und(t.tension)||!o.d.und(t.friction);!n&&o.d.und(t.frequency)&&o.d.und(t.damping)&&o.d.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}const M=[];class I{constructor(){this.changed=!1,this.values=M,this.toValues=null,this.fromValues=M,this.to=void 0,this.from=void 0,this.config=new y,this.immediate=!1,this.onStart=void 0,this.onChange=void 0,this.onRest=[]}}const A=(e,t)=>Object(p.b)(e,t||[{}]);function D(e,...t){return o.d.fun(e)?e(...t):e}const w=(e,t)=>!0===e||!!(t&&e&&(o.d.fun(e)?e(t):Object(o.h)(e).includes(t))),R=(e,t,n)=>e&&(o.d.fun(e)?e(t,n):o.d.arr(e)?e[t]:Object(l.a)({},e)),G=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,T=(e,t=[],n={})=>{let r=x;e.default&&!0!==e.default&&(e=e.default,r=Object.keys(e));for(const i of r){const r=e[i];o.d.und(r)||t.includes(i)||(n[i]=r)}return n},x=["pause","cancel","config","immediate","onDelayEnd","onProps","onStart","onChange","onRest"],E={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onDelayEnd:1,onProps:1,onStart:1,onChange:1,onRest:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,keys:1,callId:1,parentId:1};function V(e){const t=function(e){const t={};let n=0;if(Object(o.b)(e,(e,r)=>{E[r]||(t[r]=e,n++)}),n)return t}(e);if(t){const n={to:t};return Object(o.b)(e,(e,r)=>r in t||(n[r]=e)),n}return Object(l.a)({},e)}function S(e){const t=Object(i.b)(e);return t?S(t.get()):o.d.arr(e)?e.map(S):Object(o.e)(e)?Object(h.createStringInterpolator)({range:[0,1],output:[e,e]})(1):e}function N(e,{key:t,props:n,state:r,actions:o}){return new Promise((i,s)=>{let c,u,d=!1,h=w(n.cancel,t);function p(){r.resumeQueue.add(f),u.cancel(),c=u.time-a.Globals.now()}function f(){c>0?(r.pauseQueue.add(p),u=a.Globals.frameLoop.setTimeout(m,c)):m()}function m(){r.pauseQueue.delete(p),e<=(r.cancelId||0)&&(h=!0);try{o.start(Object(l.a)(Object(l.a)({},n),{},{callId:e,delay:c,cancel:h,pause:d}),i)}catch(t){s(t)}}h?m():(c=D(n.delay||0,t),d=w(n.pause,t),d?(r.resumeQueue.add(f),o.pause()):(o.resume(),f()))})}const P=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?j(e):t.every(e=>e.noop)?O(e):F(e,t.every(e=>e.finished)),O=(e,t=e.get())=>({value:t,noop:!0,finished:!0,target:e}),F=(e,t,n=e.get())=>({value:n,finished:t,target:e}),j=(e,t=e.get())=>({value:t,cancelled:!0,target:e});async function L(e,t,n,r){t.pause&&await new Promise(e=>{n.resumeQueue.add(e)});const{callId:i,parentId:a,onRest:s}=t,{asyncTo:c,promise:u}=n;return a||e!==c||t.reset?n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const d=T(t,["onRest"]);let p,f;const m=new Promise((e,t)=>(p=e,f=t)),v=e=>{const t=i<=(n.cancelId||0)&&j(r)||i!==n.asyncId&&F(r,!1);if(t)throw e.result=t,e},g=(y=(e,t)=>{const a=new k;v(a);const s=o.d.obj(e)?Object(l.a)({},e):Object(l.a)(Object(l.a)({},t),{},{to:e});return s.parentId=i,Object(o.b)(d,(e,t)=>{o.d.und(s[t])&&(s[t]=e)}),r.start(s).then(async e=>(v(a),r.is("PAUSED")&&await new Promise(e=>{n.resumeQueue.add(e)}),e))},(...e)=>{const t=e=>{throw e instanceof k&&f(e),e};try{return y(...e).catch(t)}catch(n){t(n)}});var y;let b;try{let t;o.d.arr(e)?t=(async e=>{for(const t of e)await g(t)})(e):o.d.fun(e)&&(t=Promise.resolve(e(g,r.stop.bind(r)))),await Promise.all([t.then(p),m]),b=F(r,!0)}catch(M){if(!(M instanceof k))throw M;b=M.result}finally{i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?c:void 0,n.promise=a?u:void 0)}return o.d.fun(s)&&Object(h.batchedUpdates)(()=>{s(b)}),b})():u}function _(e,t){e.cancelId=t,e.asyncId=e.asyncTo=e.promise=void 0}class k extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}const X=e=>e instanceof H;let C=1;class H extends i.a{constructor(...e){super(...e),this.id=C++,this.key=void 0,this._priority=0,this._children=new Set}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Object(d.f)(this);return e&&e.getValue()}to(...e){return Object(h.to)(this,e)}interpolate(...e){return Object(f.a)(),Object(h.to)(this,e)}addChild(e){this._children.size||this._attach(),this._children.add(e)}removeChild(e){this._children.delete(e),this._children.size||this._detach()}onParentChange({type:e}){this.idle?"start"==e&&(this._reset(),this._start()):"reset"==e&&this._reset()}_attach(){}_detach(){}_reset(){this._emit({type:"reset",parent:this})}_start(){this._emit({type:"start",parent:this})}_onChange(e,t=!1){this._emit({type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||h.frameLoop.start(this),this._emit({type:"priority",parent:this,priority:e})}_emit(e){Object(o.b)(Array.from(this._children),t=>{t.onParentChange(e)})}}const U="ACTIVE";class B extends H{constructor(e,t){if(super(),this.key=void 0,this.animation=new I,this.queue=void 0,this._phase="CREATED",this._state={pauseQueue:new Set,resumeQueue:new Set},this._defaultProps={},this._lastCallId=0,this._lastToId=0,!o.d.und(e)||!o.d.und(t)){const n=o.d.obj(e)?Object(l.a)({},e):Object(l.a)(Object(l.a)({},t),{},{from:e});n.default=!0,this.start(n)}}get idle(){return!this.is(U)&&!this._state.asyncTo}get goal(){return Object(i.c)(this.animation.to)}get velocity(){const e=Object(d.f)(this);return e instanceof d.d?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}advance(e){let t=!0,n=!1;const r=this.animation;let{config:a,toValues:s}=r;const c=Object(d.g)(r.to);if(!c){const e=Object(i.b)(r.to);e&&(s=Object(o.h)(e.get()))}return r.values.forEach((i,l)=>{if(i.done)return;let u=c?c[l].lastPosition:s[l],d=r.immediate,h=u;if(!d){if(h=i.lastPosition,a.tension<=0)return void(i.done=!0);const t=i.elapsedTime+=e,n=r.fromValues[l],s=null!=i.v0?i.v0:i.v0=o.d.arr(a.velocity)?a.velocity[l]:a.velocity;let c;if(o.d.und(a.duration))if(a.decay){const e=!0===a.decay?.998:a.decay,r=Math.exp(-(1-e)*t);h=n+s/(1-e)*(1-r),d=Math.abs(i.lastPosition-h)<.1,c=s*r}else{c=null==i.lastVelocity?s:i.lastVelocity;const t=a.precision||(n==u?.005:Math.min(1,.001*Math.abs(u-n))),r=a.restVelocity||t/10,l=a.clamp?0:a.bounce,p=!o.d.und(l),f=n==u?i.v0>0:n<u;let m,v=!1;const g=1,y=Math.ceil(e/g);for(let e=0;e<y&&(m=Math.abs(c)>r,m||(d=Math.abs(u-h)<=t,!d));++e){p&&(v=h==u||h>u==f,v&&(c=-c*l,h=u));c+=(1e-6*-a.tension*(h-u)+.001*-a.friction*c)/a.mass*g,h+=c*g}}else{let r=a.progress||0;a.duration<=0?r=1:r+=(1-r)*Math.min(1,t/a.duration),h=n+a.easing(r)*(u-n),c=(h-i.lastPosition)/e,d=1==r}i.lastVelocity=c,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),d=!0)}c&&!c[l].done&&(d=!1),d?i.done=!0:t=!1,i.setValue(h,a.round)&&(n=!0)}),t?this.finish():n&&this._onChange(this.get()),t}is(e){return this._phase==e}set(e){return Object(h.batchedUpdates)(()=>{if(this._focus(e),this._set(e)&&!this.is(U))return this._onChange(this.get(),!0);this._stop()}),this}pause(){Q(this,"pause"),this.is("PAUSED")||(this._phase="PAUSED",Object(o.c)(this._state.pauseQueue,e=>e()))}resume(){Q(this,"resume"),this.is("PAUSED")&&(this._start(),Object(o.c)(this._state.resumeQueue,e=>e()))}finish(e){if(this.resume(),this.is(U)){const t=this.animation;!t.config.decay&&o.d.und(e)&&(e=t.to),o.d.und(e)||this._set(e),Object(h.batchedUpdates)(()=>{t.changed||(t.changed=!0,t.onStart&&t.onStart(this)),this._stop()})}return this}update(e){Q(this,"update");return(this.queue||(this.queue=[])).push(e),this}async start(e,t){let n;Q(this,"start"),o.d.und(e)?(n=this.queue||[],this.queue=[]):n=[o.d.obj(e)?e:Object(l.a)(Object(l.a)({},t),{},{to:e})];const r=await Promise.all(n.map(e=>this._update(e)));return P(this,r)}stop(e){return this.is("DISPOSED")||(_(this._state,this._lastCallId),this._focus(this.get()),Object(h.batchedUpdates)(()=>this._stop(e))),this}reset(){this._update({reset:!0})}dispose(){this.is("DISPOSED")||(this.animation&&(this.animation.onRest=[]),this.stop(),this._phase="DISPOSED")}onParentChange(e){super.onParentChange(e),"change"==e.type?this.is(U)||(this._reset(),this.is("PAUSED")||this._start()):"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode({to:e,from:t,reverse:n}){const r=this.key||"",a={to:e=!o.d.obj(e)||Object(i.b)(e)?e:e[r],from:t=!o.d.obj(t)||Object(i.b)(t)?t:t[r]};if(this.is("CREATED")){n&&([e,t]=[t,e]),t=Object(i.c)(t);const r=this._updateNode(o.d.und(t)?Object(i.c)(e):t);r&&!o.d.und(t)&&r.setValue(t)}return a}_updateNode(e){let t=Object(d.f)(this);if(!o.d.und(e)){const n=this._getNodeType(e);t&&t.constructor===n||Object(d.h)(this,t=n.create(e))}return t}_getNodeType(e){const t=Object(d.f)(e);return t?t.constructor:o.d.arr(e)?d.a:Object(o.e)(e)?d.c:d.d}_update(e,t){const n=this._defaultProps,r=t=>{const r=G(e,t);o.d.und(r)||(n[t]=r),n[t]&&(e[t]=n[t])};r("cancel"),r("pause");const i=this._prepareNode(e);return N(++this._lastCallId,{key:this.key,props:e,state:this._state,actions:{pause:this.pause.bind(this),resume:this.resume.bind(this),start:this._merge.bind(this,i)}}).then(n=>{if(e.loop&&n.finished&&(!t||!n.noop)){const t=W(e);if(t)return this._update(t,!0)}return n})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(j(this));const{key:r,animation:a}=this,s=this._defaultProps,c=!o.d.und(e.to),u=!o.d.und(e.from);if(c||u){if(!(t.callId>this._lastToId))return n(j(this));this._lastToId=t.callId}const p=e=>o.d.und(t[e])?s[e]:t[e],f=z(p("onDelayEnd"),r);f&&f(t,this),t.default&&((e,t,n)=>{T(t,n,e)})(s,t,["pause","cancel"]);const{to:m,from:v}=a;let{to:y=m,from:M=v}=e;u&&!c&&(y=M),t.reverse&&([y,M]=[M,y]);const I=!Object(o.f)(M,v);I&&(a.from=M);const A=!Object(o.f)(y,m);A&&this._focus(y);const R=Object(i.b)(y),G=Object(i.b)(M);G&&(M=G.get());const x=o.d.arr(t.to)||o.d.fun(t.to),{config:E}=a,{decay:V,velocity:N}=E;t.config&&!x&&function(e,t,n){n&&(b(n=Object(l.a)({},n),t),t=Object(l.a)(Object(l.a)({},n),t)),b(e,t),Object.assign(e,t);for(const o in g)null==e[o]&&(e[o]=g[o]);let{mass:r,frequency:i,damping:a}=e;o.d.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*r,e.friction=4*Math.PI*a*r/i)}(E,D(t.config,r),t.config!==s.config?D(s.config,r):void 0);let P=Object(d.f)(this);if(!P||o.d.und(y))return n(F(this,!0));const _=o.d.und(t.reset)?u&&!t.default:!o.d.und(M)&&w(t.reset,r),k=_?M:this.get(),X=S(y),C=o.d.num(X)||o.d.arr(X)||Object(o.e)(X),H=!x&&(!C||w(s.immediate||t.immediate,r));if(A)if(H)P=this._updateNode(X);else{const e=this._getNodeType(y);if(e!==P.constructor)throw Error("Cannot animate between "+P.constructor.name+" and "+e.name+', as the "to" prop suggests')}const B=P.constructor;let Q=!!R,W=!1;if(!Q){const e=_||this.is("CREATED")&&I;(A||e)&&(W=Object(o.f)(S(k),X),Q=!W),Object(o.f)(E.decay,V)&&Object(o.f)(E.velocity,N)||(Q=!0)}if(W&&this.is(U)&&(a.changed&&!_?Q=!0:Q||this._stop()),!x){(Q||Object(i.b)(m))&&(a.values=P.getPayload(),a.toValues=R?null:B==d.c?[1]:Object(o.h)(X)),a.immediate=H,a.onStart=z(p("onStart"),r),a.onChange=z(p("onChange"),r);const e=a.onRest,s=_&&!t.onRest?e[0]||o.g:Y(z(p("onRest"),r),this);if(Q){a.onRest=[s,Y(n,this)];let t=_?0:1;t<e.length&&Object(h.batchedUpdates)(()=>{for(;t<e.length;t++)e[t]()})}else(_||t.onRest)&&(a.onRest[0]=s)}const q=z(p("onProps"),r);q&&q(t,this),_&&P.setValue(k),x?n(L(t.to,t,this._state,this)):Q?(_&&(this._phase="IDLE"),this._reset(),this._start()):this.is(U)&&!A?a.onRest.push(Y(n,this)):n(O(this,k))}_focus(e){const t=this.animation;if(e!==t.to){let n=Object(i.b)(t.to);n&&n.removeChild(this),t.to=e;let r=0;(n=Object(i.b)(e))&&(n.addChild(this),X(e)&&(r=(e.priority||0)+1)),this.priority=r}}_set(e){const t=Object(i.b)(e);t&&(e=t.get());const n=Object(d.f)(this),r=n&&n.getValue();return n?n.setValue(e):this._updateNode(e),!Object(o.f)(e,r)}_onChange(e,t=!1){const n=this.animation;n.changed||t||(n.changed=!0,n.onStart&&n.onStart(this)),n.onChange&&n.onChange(e,this),super._onChange(e,t)}_reset(){const e=this.animation;Object(d.f)(this).reset(e.to),this.is(U)||(e.changed=!1),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),super._reset()}_start(){this.is(U)||(this._phase=U,super._start(),h.skipAnimation?this.finish():h.frameLoop.start(this))}_stop(e){if(this.resume(),this.is(U)){this._phase="IDLE",this._onChange(this.get(),!0);const t=this.animation;Object(o.b)(t.values,e=>{e.done=!0});const n=t.onRest;n.length&&(t.onRest=[t.toValues?o.g:n[0]],t.changed||(n[0]=o.g),Object(o.b)(n,t=>t(e)))}}}function Q(e,t){if(e.is("DISPOSED"))throw Error('Cannot call "'+t+'" of disposed "'+e.constructor.name+'" object')}function z(e,t){return o.d.fun(e)?e:t&&e?e[t]:void 0}const Y=(e,t)=>{const{to:n}=t.animation;return e?r=>{if(r)e(j(t));else{const r=S(n),i=S(t.get()),a=Object(o.f)(i,r);e(F(t,a))}}:o.g};function W(e,t=e.loop,n=e.to){let r=D(t);if(r){const i=!0!==r&&V(r),a=(i||e).reverse,s=!i||i.reset;return q(Object(l.a)(Object(l.a)({},e),{},{loop:t,default:!1,to:!a||o.d.arr(n)||o.d.fun(n)?n:void 0,from:s?e.from:void 0,reset:s},i))}}function q(e){const{to:t,from:n}=e=V(e),r=new Set;return n?Z(n,r):delete e.from,o.d.obj(t)?Z(t,r):t||delete e.to,e.keys=r.size?Array.from(r):null,e}function Z(e,t){Object(o.b)(e,(e,n)=>null!=e&&t.add(n))}const K=["onStart","onChange","onRest"];let $=1;class J{constructor(e,t){this.id=$++,this.springs={},this.queue=[],this._flush=void 0,this._initialProps=void 0,this._phase="CREATED",this._lastAsyncId=0,this._active=new Set,this._state={pauseQueue:new Set,resumeQueue:new Set},this._events={onStart:new Set,onChange:new Set,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(e)}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle)}is(e){return this._phase==e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}update(e){return e&&this.queue.push(q(e)),this}start(e){const t=e?Object(o.h)(e).map(q):this.queue;return e||(this.queue=[]),this._flush?this._flush(this,t):(ie(this,t),ee(this,t))}stop(e){if(o.d.und(e))this.each(e=>e.stop()),_(this._state,this._lastAsyncId);else{const t=this.springs;Object(o.b)(Object(o.h)(e),e=>t[e].stop())}return this}pause(e){if(o.d.und(e))this.each(e=>e.pause());else{const t=this.springs;Object(o.b)(Object(o.h)(e),e=>t[e].pause())}return this}resume(e){if(o.d.und(e))this.each(e=>e.resume());else{const t=this.springs;Object(o.b)(Object(o.h)(e),e=>t[e].resume())}return this}reset(){return this.each(e=>e.reset()),this}each(e){Object(o.b)(this.springs,e)}dispose(){this._state.asyncTo=void 0,this.each(e=>e.dispose()),this.springs={}}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0;r&&this._phase!=U&&(this._phase=U,Object(o.c)(e,e=>e(this)));const i=(t.size||!r&&n.size)&&this.get();Object(o.c)(t,e=>e(i)),r||(this._phase="IDLE",Object(o.c)(n,([e,t])=>{t.value=i,e(t)}))}onParentChange(e){"change"==e.type&&(this._active[e.idle?"delete":"add"](e.parent),h.frameLoop.onFrame(this._onFrame))}}function ee(e,t){return Promise.all(t.map(t=>function e(t,n,r){const{to:i,loop:a,onRest:s}=n;a&&(n.loop=!1);const c=o.d.arr(i)||o.d.fun(i)?i:void 0;c?(n.to=void 0,n.onRest=void 0):Object(o.b)(K,e=>{const r=n[e];if(o.d.fun(r)){const o=t._events[e];o instanceof Set?n[e]=()=>o.add(r):n[e]=({finished:e,cancelled:t})=>{const n=o.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):o.set(r,{value:null,finished:e,cancelled:t})}}});const l=(n.keys||Object.keys(t.springs)).map(e=>t.springs[e].start(n)),u=t._state;c?l.push(N(++t._lastAsyncId,{props:n,state:u,actions:{pause:o.g,resume:o.g,start(e,n){e.onRest=s,e.cancel?((e,t)=>!o.d.und(G(e,t)))(e,"cancel")&&_(u,e.callId):n(L(c,e,u,t))}}})):n.keys||!0!==n.cancel||_(u,t._lastAsyncId);return Promise.all(l).then(o=>{const s=P(t,o);if(a&&s.finished&&(!r||!s.noop)){const r=W(n,a,i);if(r)return ie(t,[r]),e(t,r,!0)}return s})}(e,t))).then(t=>P(e,t))}function te(e,t){const n=Object(l.a)({},e.springs);return t&&Object(o.b)(Object(o.h)(t),e=>{o.d.und(e.keys)&&(e=q(e)),o.d.obj(e.to)||(e=Object(l.a)(Object(l.a)({},e),{},{to:void 0})),oe(n,e,e=>re(e))}),n}function ne(e,t){Object(o.b)(t,(t,n)=>{e.springs[n]||(e.springs[n]=t,t.addChild(e))})}function re(e,t){const n=new B;return n.key=e,t&&n.addChild(t),n}function oe(e,t,n){t.keys&&Object(o.b)(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function ie(e,t){Object(o.b)(t,t=>{oe(e.springs,t,t=>re(t,e))})}const ae=Object(u.createContext)({}),se=e=>{let{children:t}=e,n=Object(m.a)(e,["children"]);const r=Object(u.useContext)(ae);n=A(()=>Object(l.a)(Object(l.a)({},r),n),[r,n.pause,n.cancel,n.immediate,n.config]);const{Provider:o}=ae;return Object(u.createElement)(o,{value:n},t)};se.Provider=ae.Provider,se.Consumer=ae.Consumer;const ce=()=>Object(u.useContext)(ae),le=e=>({get controllers(){return e()},update(t){return Object(o.b)(e(),(e,n)=>{e.update(R(t,n,e))}),this},async start(t){const n=await Promise.all(e().map((e,n)=>{const r=R(t,n,e);return e.start(r)}));return{value:n.map(e=>e.value),finished:n.every(e=>e.finished)}},stop:t=>Object(o.b)(e(),e=>e.stop(t)),pause:t=>Object(o.b)(e(),e=>e.pause(t)),resume:t=>Object(o.b)(e(),e=>e.resume(t))});const ue="enter";function de(e,t,n){const{ref:i,reset:a,sort:c,trail:d=0,expires:h=!0}=t,p=Object(o.h)(e),f=[],m=he(p,t),v=Object(u.useRef)(null),g=a?null:v.current;Object(r.a)(()=>{v.current=f}),Object(s.b)(()=>()=>Object(o.b)(v.current,e=>{e.expired&&clearTimeout(e.expirationId),e.ctrl.dispose()}));const y=[];if(g&&Object(o.b)(g,(e,t)=>{e.expired?clearTimeout(e.expirationId):~(t=y[t]=m.indexOf(e.key))&&(f[t]=e)}),Object(o.b)(p,(e,t)=>{f[t]||(f[t]={key:m[t],item:e,phase:"mount",ctrl:new J})}),y.length){let e=-1;Object(o.b)(y,(n,r)=>{const o=g[r];~n?(e=f.indexOf(o),f[e]=Object(l.a)(Object(l.a)({},o),{},{item:p[n]})):t.leave&&f.splice(++e,0,o)})}o.d.fun(c)&&f.sort((e,t)=>c(e.item,t.item));let b=-d;const M=Object(s.a)(),I=T(t),A=new Map;Object(o.b)(f,(e,n)=>{const r=e.key,i=e.phase;let a,s;if("mount"==i)a=t.enter,s=ue;else{const e=m.indexOf(r)<0;if("leave"!=i)if(e)a=t.leave,s="leave";else{if(!(a=t.update))return;s="update"}else{if(e)return;a=t.enter,s=ue}}if(a=D(a,e.item,n),a=o.d.obj(a)?V(a):{to:a},!a.config){const r=t.config||I.config;a.config=D(r,e.item,n)}const c=Object(l.a)(Object(l.a)({},I),{},{delay:b+=d,reset:!1},a);if(s==ue&&o.d.und(c.from)){const r=o.d.und(t.initial)||g?t.from:t.initial;c.from=D(r,e.item,n)}const{onRest:u}=c;c.onRest=e=>{const t=v.current,n=t.find(e=>e.key===r);if(n)if(o.d.fun(u)&&u(e,n),e.cancelled&&"update"!=n.phase)n.phase=i;else if(n.ctrl.idle){const e=t.every(e=>e.ctrl.idle);if("leave"==n.phase){const t=D(h,n.item);if(!1!==t){const r=!0===t?0:t;if(n.expired=!0,!e&&r>0)return void(r<=2147483647&&(n.expirationId=setTimeout(M,r)))}}e&&t.some(e=>e.expired)&&M()}};const p=te(e.ctrl,c);A.set(e,{phase:s,springs:p,payload:c})});const w=ce();Object(r.a)(()=>{Object(o.b)(f,e=>{e.ctrl.start({default:w})})},[w]);const R=Object(u.useMemo)(()=>le(()=>v.current.map(e=>e.ctrl)),[]);Object(u.useImperativeHandle)(i,()=>R),Object(r.a)(()=>{Object(o.b)(A,({phase:e,springs:t,payload:n},r)=>{ne(r.ctrl,t),w.cancel||(r.phase=e,e==ue&&r.ctrl.start({default:w}),r.ctrl[i?"update":"start"](n))})},a?void 0:n);const G=e=>Object(u.createElement)(u.Fragment,null,f.map((t,n)=>{const{springs:r}=A.get(t)||t.ctrl,i=e(Object(l.a)({},r),t.item,t,n);return i&&i.type?Object(u.createElement)(i.type,Object(l.a)({},i.props,{key:o.d.str(t.key)||o.d.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i}));return 3==arguments.length?[G,R.start,R.stop]:G}function he(e,{key:t,keys:n=t}){return o.d.und(n)?e:o.d.fun(n)?e.map(n):Object(o.h)(n)}class pe extends H{constructor(e,t){super(),this.source=e,this.key=void 0,this.idle=!0,this.calc=void 0,this.calc=Object(c.a)(...t);const n=this._get(),r=o.d.arr(n)?d.a:d.d;Object(d.h)(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Object(o.f)(t,n)||(Object(d.f)(this).setValue(t),this._onChange(t,this.idle))}_get(){const e=o.d.arr(this.source)?this.source.map(e=>e.get()):Object(o.h)(this.source.get());return this.calc(...e)}_reset(){Object(o.b)(Object(d.g)(this),e=>e.reset()),super._reset()}_start(){this.idle=!1,super._start(),h.skipAnimation?(this.idle=!0,this.advance()):h.frameLoop.start(this)}_attach(){let e=!0,t=1;Object(o.b)(Object(o.h)(this.source),n=>{X(n)&&(n.idle||(e=!1),t=Math.max(t,n.priority+1)),n.addChild(this)}),this.priority=t,e||(this._reset(),this._start())}_detach(){Object(o.b)(Object(o.h)(this.source),e=>{e.removeChild(this)}),this.idle=!0}onParentChange(e){"start"==e.type?this.advance():"change"==e.type?this.idle?this.advance():e.idle&&(this.idle=Object(o.h)(this.source).every(e=>!1!==e.idle),this.idle&&(this.advance(),Object(o.b)(Object(d.g)(this),e=>{e.done=!0}))):"priority"==e.type&&(this.priority=Object(o.h)(this.source).reduce((e,t)=>Math.max(e,(t.priority||0)+1),0)),super.onParentChange(e)}}a.Globals.assign({createStringInterpolator:v.a,to:(e,t)=>new pe(e,t)})},"A9U+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),o="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect},AoO4:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return p}));var r=n("53ff"),o=n("3aMv"),i=n("BAiv"),a=n("d11Q"),s=n("wx14"),c=n("71bl"),l=n("q1tI"),u=n("A9U+");const d=Symbol.for("Animated:node"),h=e=>e&&e[d],p=(e,t)=>Object(r.a)(e,d,t),f=e=>e&&e[d]&&e[d].getPayload();class m{constructor(){this.payload=void 0,p(this,this)}getPayload(){return this.payload||[]}}class v extends m{constructor(e){super(),this._value=e,this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,r.d.num(this._value)&&(this.lastPosition=this._value)}static create(e,t){return new v(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return r.d.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,r.d.num(this._value)&&(this.elapsedTime=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class g extends v{constructor(e,t){super(0),this._value=void 0,this._string=null,this._toString=void 0,this._toString=Object(o.a)({output:[e,t]})}static create(e,t=e){if(r.d.str(e)&&r.d.str(t))return new g(e,t);throw TypeError('Expected "from" and "to" to be strings')}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(r.d.num(e)){if(!super.setValue(e))return!1;this._string=null}else this._string=e,this._value=1;return!0}reset(e){e&&(this._toString=Object(o.a)({output:[this.getValue(),e]})),this._value=0,super.reset()}}const y={current:null};class b extends m{constructor(e=null){super(),this.source=void 0,this.setValue(e)}getValue(e){if(!this.source)return null;const t={};return Object(r.b)(this.source,(n,r)=>{if((o=n)&&o[d]===o)t[r]=n.getValue(e);else{const o=Object(i.b)(n);o?t[r]=o.get():e||(t[r]=n)}var o}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Object(r.b)(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Object(r.b)(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Object(i.b)(e)&&y.current&&y.current.dependencies.add(e);const t=f(e);t&&Object(r.b)(t,e=>this.add(e))}}class M extends b{constructor(e,t){super(null),this.source=void 0,super.setValue(this._makeAnimated(e,t))}static create(e,t){return new M(e,t)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();e&&e.length==t.length?Object(r.b)(t,(t,n)=>t.setValue(e[n])):(this.source=this._makeAnimated(e),this.payload=this._makePayload(this.source))}_makeAnimated(e,t=e){return e?e.map((e,n)=>(Object(r.e)(e)?g:v).create(e,t[n])):[]}}class I extends b{constructor(e){super(null),this.update=e,this.dirty=!1}setValue(e,t){if(e){if(t&&(y.current=t,e.style)){const{createAnimatedStyle:n}=t.host;e=Object(s.a)(Object(s.a)({},e),{},{style:n(e.style)})}super.setValue(e),y.current=null}}onParentChange({type:e}){this.dirty||"change"!==e||(this.dirty=!0,c.frameLoop.onFrame(()=>{this.dirty=!1,this.update()}))}}const A=(e,t)=>Object(l.forwardRef)((n,o)=>{const i=Object(l.useRef)(null),c=!r.d.fun(e)||e.prototype&&e.prototype.isReactComponent,d=Object(a.a)(),h=new I(()=>{const e=i.current;if(c&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,h.getValue(!0)))&&d()}),p=new Set;return h.setValue(n,{dependencies:p,host:t}),Object(u.a)(()=>(Object(r.b)(p,e=>e.addChild(h)),()=>Object(r.b)(p,e=>e.removeChild(h)))),Object(l.createElement)(e,Object(s.a)({},t.getComponentProps(h.getValue()),{ref:c&&(e=>{i.current=function(e,t){e&&(r.d.fun(e)?e(t):e.current=t);return t}(o,e)})}))});const D=Symbol.for("AnimatedComponent"),w=(e,{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new b(e)),getComponentProps:o=(e=>e)}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:o},a=e=>{const t=R(e)||"Anonymous";return(e=r.d.str(e)?A(e,i):e[D]||(e[D]=A(e,i))).displayName="Animated("+t+")",e};return Object(r.b)(e,(e,t)=>{r.d.str(t)||(t=R(e)),a[t]=a(e)}),{animated:a}},R=e=>r.d.str(e)?e:e&&r.d.str(e.displayName)?e.displayName:r.d.fun(e)&&e.name||null},BAiv:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=Symbol.for("FluidValue:config");function o(e){var t=i(e);return t?t.get():e}function i(e){if(e)return e[r]}var a=function(){var e,t;e=this,t=this,Object.defineProperty(e,r,{value:t,configurable:!0})}},EGzX:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n("zLVn"),o=n("Y86C"),i=n("i8i4"),a=n("k9Bh"),s=n("it5r"),c=n("AoO4"),l=n("53ff"),u=n("BAiv");const d=/^--/;function h(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||d.test(e)||f.hasOwnProperty(e)&&f[e]?(""+t).trim():t+"px"}const p={};let f={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const m=["Webkit","Ms","Moz","O"];f=Object.keys(f).reduce((e,t)=>(m.forEach(n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t]),e),f);const v=/^(matrix|translate|scale|rotate|skew)/,g=/^(translate)/,y=/^(rotate|skew)/,b=(e,t)=>l.d.num(e)&&0!==e?e+t:e,M=(e,t)=>l.d.arr(e)?e.every(e=>M(e,t)):l.d.num(e)?e===t:parseFloat(e)===t;class I extends c.b{constructor(e){let{x:t,y:n,z:o}=e,i=Object(r.a)(e,["x","y","z"]);const a=[],s=[];(t||n||o)&&(a.push([t||0,n||0,o||0]),s.push(e=>["translate3d("+e.map(e=>b(e,"px")).join(",")+")",M(e,0)])),Object(l.b)(i,(e,t)=>{if("transform"===t)a.push([e||""]),s.push(e=>[e,""===e]);else if(v.test(t)){if(delete i[t],l.d.und(e))return;const n=g.test(t)?"px":y.test(t)?"deg":"";a.push(Object(l.h)(e)),s.push("rotate3d"===t?([e,t,r,o])=>["rotate3d("+e+","+t+","+r+","+b(o,n)+")",M(o,0)]:e=>[t+"("+e.map(e=>b(e,n)).join(",")+")",M(e,t.startsWith("scale")?1:0)])}}),a.length&&(i.transform=new A(a,s)),super(i)}}class A extends u.a{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null,this._children=new Set}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Object(l.b)(this.inputs,(n,r)=>{const o=Object(u.c)(n[0]),[i,a]=this.transforms[r](l.d.arr(o)?o:n.map(u.c));e+=" "+i,t=t&&a}),t?"none":e}addChild(e){this._children.size||Object(l.b)(this.inputs,e=>Object(l.b)(e,e=>{const t=Object(u.b)(e);t&&t.addChild(this)})),this._children.add(e)}removeChild(e){this._children.delete(e),this._children.size||Object(l.b)(this.inputs,e=>Object(l.b)(e,e=>{const t=Object(u.b)(e);t&&t.removeChild(this)}))}onParentChange(e){"change"==e.type&&(this._value=null),Object(l.b)(this._children,t=>{t.onParentChange(e)})}}o.Globals.assign({colorNames:s.a,createStringInterpolator:a.a,batchedUpdates:i.unstable_batchedUpdates});const D=Object(c.e)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,i=t,{style:a,children:s,scrollTop:c,scrollLeft:l}=i,u=Object(r.a)(i,["style","children","scrollTop","scrollLeft"]),f=Object.values(u),m=Object.keys(u).map(t=>n||e.hasAttribute(t)?t:p[t]||(p[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));o.Globals.frameLoop.onWrite(()=>{void 0!==s&&(e.textContent=s);for(let t in a)if(a.hasOwnProperty(t)){const n=h(t,a[t]);"float"===t?t="cssFloat":d.test(t)?e.style.setProperty(t,n):e.style[t]=n}m.forEach((t,n)=>{e.setAttribute(t,f[n])}),void 0!==c&&(e.scrollTop=c),void 0!==l&&(e.scrollLeft=l)})},createAnimatedStyle:e=>new I(e),getComponentProps:e=>Object(r.a)(e,["scrollTop","scrollLeft"])}).animated},ITJM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Womt"),o=function(e){r.DataTextureLoader.call(this,e),this.type=r.UnsignedByteType};o.prototype=Object.assign(Object.create(r.DataTextureLoader.prototype),{constructor:o,parse:function(e){var t=function(e,t){switch(e){case 1:console.error("RGBELoader Read Error: "+(t||""));break;case 2:console.error("RGBELoader Write Error: "+(t||""));break;case 3:console.error("RGBELoader Bad File Format: "+(t||""));break;default:case 4:console.error("RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,o=-1,i=0,a="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(o=s.indexOf("\n"))&&i<t&&r<e.byteLength;)a+=s,i+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<o&&(!1!==n&&(e.pos+=i+o+1),a+s.slice(0,o))},o=function(e,t,n,r){var o=e[t+3],i=Math.pow(2,o-128)/255;n[r+0]=e[t+0]*i,n[r+1]=e[t+1]*i,n[r+2]=e[t+2]*i},i=function(){var e=new Float32Array(1),t=new Int32Array(e.buffer);function n(n){e[0]=n;var r=t[0],o=r>>16&32768,i=r>>12&2047,a=r>>23&255;return a<103?o:a>142?(o|=31744,o|=(255==a?0:1)&&8388607&r):a<113?o|=((i|=2048)>>114-a)+(i>>113-a&1):(o|=a-112<<10|i>>1,o+=1&i)}return function(e,t,r,o){var i=e[t+3],a=Math.pow(2,i-128)/255;r[o+0]=n(e[t+0]*a),r[o+1]=n(e[t+1]*a),r[o+2]=n(e[t+2]*a)}}(),a=new Uint8Array(e);a.pos=0;var s=function(e){var r,o,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,c=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,l={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(o=r.match(/^#\?(\S+)$/)))return t(3,"bad initial token");for(l.valid|=1,l.programtype=o[1],l.string+=r+"\n";!1!==(r=n(e));)if(l.string+=r+"\n","#"!==r.charAt(0)){if((o=r.match(i))&&(l.gamma=parseFloat(o[1],10)),(o=r.match(a))&&(l.exposure=parseFloat(o[1],10)),(o=r.match(s))&&(l.valid|=2,l.format=o[1]),(o=r.match(c))&&(l.valid|=4,l.height=parseInt(o[1],10),l.width=parseInt(o[2],10)),2&l.valid&&4&l.valid)break}else l.comments+=r+"\n";return 2&l.valid?4&l.valid?l:t(3,"missing image size specifier"):t(3,"missing format specifier")}(a);if(-1!==s){var c=s.width,l=s.height,u=function(e,n,r){var o,i,a,s,c,l,u,d,h,p,f,m,v,g=n,y=r;if(g<8||g>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(g!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");if(!(o=new Uint8Array(4*n*r)).length)return t(4,"unable to allocate buffer space");for(i=0,a=0,d=4*g,v=new Uint8Array(4),l=new Uint8Array(d);y>0&&a<e.byteLength;){if(a+4>e.byteLength)return t(1);if(v[0]=e[a++],v[1]=e[a++],v[2]=e[a++],v[3]=e[a++],2!=v[0]||2!=v[1]||(v[2]<<8|v[3])!=g)return t(3,"bad rgbe scanline format");for(u=0;u<d&&a<e.byteLength;){if((m=(s=e[a++])>128)&&(s-=128),0===s||u+s>d)return t(3,"bad scanline data");if(m)for(c=e[a++],h=0;h<s;h++)l[u++]=c;else l.set(e.subarray(a,a+s),u),u+=s,a+=s}for(p=g,h=0;h<p;h++)f=0,o[i]=l[h+f],f+=g,o[i+1]=l[h+f],f+=g,o[i+2]=l[h+f],f+=g,o[i+3]=l[h+f],i+=4;y--}return o}(a.subarray(a.pos),c,l);if(-1!==u){switch(this.type){case r.UnsignedByteType:var d=u,h=r.RGBEFormat,p=r.UnsignedByteType;break;case r.FloatType:for(var f=u.length/4*3,m=new Float32Array(f),v=0;v<f;v++)o(u,4*v,m,3*v);d=m,h=r.RGBFormat,p=r.FloatType;break;case r.HalfFloatType:f=u.length/4*3;var g=new Uint16Array(f);for(v=0;v<f;v++)i(u,4*v,g,3*v);d=g,h=r.RGBFormat,p=r.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:c,height:l,data:d,header:s.string,gamma:s.gamma,exposure:s.exposure,format:h,type:p}}}return null},setDataType:function(e){return this.type=e,this},load:function(e,t,n,o){return r.DataTextureLoader.prototype.load.call(this,e,(function(e,n){switch(e.type){case r.UnsignedByteType:e.encoding=r.RGBEEncoding,e.minFilter=r.NearestFilter,e.magFilter=r.NearestFilter,e.generateMipmaps=!1,e.flipY=!0;break;case r.FloatType:case r.HalfFloatType:e.encoding=r.LinearEncoding,e.minFilter=r.LinearFilter,e.magFilter=r.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),n,o)}})},Lplo:function(e,t,n){"use strict";(function(e){function r(){var e,t=0,n=[],o=0,i=0;var a=p((function(e){i||c(1,e)})),s=p((function(e){i||c(-1,e)}));function c(n,r){i++;var o=0;try{r===v&&f();var a=n>0&&h(r);a?a.call(r,p((function(e){o++,c(1,e)})),p((function(e){o++,c(-1,e)}))):(t=n,e=r,l())}catch(s){t||o||c(-1,s)}}function l(){o||(setTimeout(u,0),o=1)}function u(){var e=n;o=0,n=[],e.forEach(d)}function d(e){e()}function h(e){var t=e&&(m(e)||"object"===typeof e)&&e.then;return m(t)&&t}function p(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function f(){throw new TypeError("Chaining cycle detected")}var m=function(e){return"function"===typeof e},v={then:function(o,i){var a=r();return n.push((function(){var n=t>0?o:i;if(m(n))try{var r=n(e);r===a&&f();var s=h(r);s?s.call(r,a.resolve,a.reject):a.resolve(r)}catch(c){a.reject(c)}else a[t>0?"resolve":"reject"](e)})),t&&l(),a},resolve:a,reject:s};return v}function o(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),resolve:e,reject:t}}n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return p})),r.all=o.all=function(e){var t=0,n=[],r=i();return 0===e.length?r.resolve([]):e.forEach((function(o,a){var s=i();s.resolve(o),s.then((function(o){t++,n[a]=o,t===e.length&&r.resolve(n)}),r.reject)})),r};var i="function"===typeof Promise?o:r;function a(){var e=Object.create(null);function t(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(o){console.error(o)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,o=r.messageId,i=r.action,a=r.data;try{"registerModule"===i&&function n(r,o){var i=r.id,a=r.name,s=r.dependencies;void 0===s&&(s=[]);var c=r.init;void 0===c&&(c=function(){});var l=r.getTransferables;if(void 0===l&&(l=null),!e[i])try{s=s.map((function(t){return t&&t.isWorkerModule&&(n(t,(function(e){if(e instanceof Error)throw e})),t=e[t.id].value),t})),c=t("<"+a+">.init",c),l&&(l=t("<"+a+">.getTransferables",l));var u=null;"function"===typeof c?u=c.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[i]={id:i,value:u,getTransferables:l},o(u)}catch(d){d&&d.noLog||console.error(d),o(d)}}(a,(function(e){e instanceof Error?postMessage({messageId:o,success:!1,error:e.message}):postMessage({messageId:o,success:!0,result:{isCallable:"function"===typeof e}})})),"callModule"===i&&function(t,n){var r,o=t.id,i=t.args;e[o]&&"function"===typeof e[o].value||n(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var a=(r=e[o]).value.apply(r,i);a&&"function"===typeof a.then?a.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(a)}catch(c){n(c)}function s(t){try{var r=e[o].getTransferables&&e[o].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(c){console.error(c),n(c)}}}(a,(function(e,t){e instanceof Error?postMessage({messageId:o,success:!1,error:e.message}):postMessage({messageId:o,success:!0,result:e},t||void 0)}))}catch(s){postMessage({messageId:o,success:!1,error:s.stack})}}))}var s=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return s=function(){return e},e},c=0,l=0,u=!1,d=Object.create(null),h=function(){var e=Object.create(null);return e._count=0,e}();function p(e){if((!e||"function"!==typeof e.init)&&!u)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,o=e.workerId;if(!s())return function(e){var t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then((function(t){if("function"===typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var o=i.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return o},o},t}(e);null==o&&(o="#default");var a="workerModule"+ ++c,l=e.name||a,d=null;function h(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return d||(d=m(o,"registerModule",h.workerModuleData)),d.then((function(t){if(t.isCallable)return m(o,"callModule",{id:a,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!==typeof e||e.workerModuleData||(u=!0,e=p({workerId:o,name:"<"+l+"> function dependency: "+e.name,init:"function(){return (\n"+f(e)+"\n)}"}),u=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),h.workerModuleData={isWorkerModule:!0,id:a,name:l,dependencies:t,init:f(n),getTransferables:r&&f(r)},h}function f(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function m(e,t,n){var r=i(),o=++l;return h[o]=function(e){e.success?r.resolve(e.result):r.reject(new Error("Error in worker "+t+" call: "+e.error))},h._count++,h.count>1e3&&console.warn("Large number of open WorkerModule requests, some may not be returning"),function(e){var t=d[e];if(!t){var n=f(a);(t=d[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=h[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete h[n],h.count--,r(t)}}return t}(e).postMessage({messageId:o,action:t,data:n}),r}var v=p({name:"Thenable",dependencies:[i],init:function(e){return e}})}).call(this,n("8oxB"))},NkP5:function(e,t,n){var r=function e(){function t(e){return o.appendChild(e.dom),e}function n(e){for(var t=0;t<o.children.length;t++)o.children[t].style.display=t===e?"block":"none";r=e}var r=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",(function(e){e.preventDefault(),n(++r%o.children.length)}),!1);var i=(performance||Date).now(),a=i,s=0,c=t(new e.Panel("FPS","#0ff","#002")),l=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:o,addPanel:t,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(l.update(e-i,200),e>a+1e3&&(c.update(1e3*s/(e-a),100),a=e,s=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:o,setMode:n}};r.Panel=function(e,t,n){var r=1/0,o=0,i=Math.round,a=i(window.devicePixelRatio||1),s=80*a,c=48*a,l=3*a,u=2*a,d=3*a,h=15*a,p=74*a,f=30*a,m=document.createElement("canvas");m.width=s,m.height=c,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*a+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,s,c),v.fillStyle=t,v.fillText(e,l,u),v.fillRect(d,h,p,f),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(d,h,p,f),{dom:m,update:function(c,g){r=Math.min(r,c),o=Math.max(o,c),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,s,h),v.fillStyle=t,v.fillText(i(c)+" "+e+" ("+i(r)+"-"+i(o)+")",l,u),v.drawImage(m,d+a,h,p-a,f,d,h,p-a,f),v.fillRect(d+p-a,h,a,f),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(d+p-a,h,a,i((1-c/g)*f))}}},e.exports=r},"QA/Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Womt"),o=n("ITJM"),i=function(e){r.Loader.call(this,e),this.hdrLoader=new o.a,this.type=r.UnsignedByteType};i.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:i,load:function(e,t,n,o){Array.isArray(e)||(console.warn("THREE.HDRCubeTextureLoader signature has changed. Use .setDataType() instead."),this.setDataType(e),e=t,t=n,n=o,o=arguments[4]);var i=new r.CubeTexture;switch(i.type=this.type,i.type){case r.UnsignedByteType:i.encoding=r.RGBEEncoding,i.format=r.RGBAFormat,i.minFilter=r.NearestFilter,i.magFilter=r.NearestFilter,i.generateMipmaps=!1;break;case r.FloatType:case r.HalfFloatType:i.encoding=r.LinearEncoding,i.format=r.RGBFormat,i.minFilter=r.LinearFilter,i.magFilter=r.LinearFilter,i.generateMipmaps=!1}var a=this,s=0;function c(t,n,o,c){new r.FileLoader(a.manager).setPath(a.path).setResponseType("arraybuffer").setWithCredentials(a.withCredentials).load(e[t],(function(e){s++;var o=a.hdrLoader.parse(e);if(o){if(void 0!==o.data){var c=new r.DataTexture(o.data,o.width,o.height);c.type=i.type,c.encoding=i.encoding,c.format=i.format,c.minFilter=i.minFilter,c.magFilter=i.magFilter,c.generateMipmaps=i.generateMipmaps,i.images[t]=c}6===s&&(i.needsUpdate=!0,n&&n(i))}}),o,c)}for(var l=0;l<e.length;l++)c(l,t,n,o);return i},setDataType:function(e){return this.type=e,this.hdrLoader.setDataType(e),this}})},"W+P2":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("wx14"),o=n("q1tI"),i=n.n(o),a=n("fxWw"),s=n("MHn+"),c=n("m0my"),l=n.n(c),u=i.a.createElement;function d(e){var t=Object(o.useRef)(),n=Object(a.a)("/model/driftwell.glb"),i=n.nodes,c=n.materials;return c.CAN_METAL_TOP.roughness=.6,c.CAN_METAL_OTHER.roughness=.6,c.CAN_LABEL.roughness=.6,Object(o.useEffect)((function(){var n,r;t.current.rotation.y=(null===(n=e.initRotation)||void 0===n?void 0:n.y)||0,t.current.rotation.z=(null===(r=e.initRotation)||void 0===r?void 0:r.z)||0}),[]),Object(s.f)((function(){var n=t.current.rotation.y,r=t.current.rotation.z;t.current.rotation.y=l()(n,.85*Math.PI+e.scrollPercentage,.05),t.current.rotation.z=l()(r,.5*e.scrollPercentage,.05)})),u("group",Object(r.a)({ref:t},e),u("mesh",{material:c.CAN_METAL_TOP,geometry:i.CAN_METAL_TOP.geometry,position:[0,1.76,0],rotation:[Math.PI/2,0,0]}),u("mesh",{material:c.CAN_LABEL,geometry:i.NEW_CAN_LABEL.geometry,position:[0,-1.98,0],rotation:[Math.PI/2,0,-Math.PI],scale:[.39,.39,.39]}),u("mesh",{material:c.CAN_METAL_OTHER,geometry:i.CAN_TAB.geometry,position:[0,1.92,0],rotation:[Math.PI/2,0,0]}),u("mesh",{material:c.CAN_METAL_OTHER,geometry:i.CAN_TAB_RIVET.geometry,position:[0,1.86,0],rotation:[Math.PI/2,0,0]}),u("mesh",{material:c.CAN_METAL_OTHER,geometry:i.NEW_CAN_METAL_BOTTOM.geometry,position:[0,-1.98,0],rotation:[Math.PI/2,0,-Math.PI],scale:[.39,.39,.39]}))}Math.radians=function(e){return e*Math.PI/180},a.a.preload("/model/driftwell.glb")},Y86C:function(e,t,n){"use strict";var r=n("71bl");n.d(t,"Globals",(function(){return r}));n("BAiv")},YWRd:function(e,t,n){!function(e){"use strict";const t=["992 - Silicon Motion SM502","991 - ATI Mobility 128 M3","990 - VIA S3 Graphics ProSavage8","989 - SIS Mirage M661FX ","988 - SIS Mirage 2 M760","987 - VIA Castle Rock","986 - VIA S3G UniChrome Pro","985 - VIA S3G UniChrome Pro II","984 - ATI Radeon IGP 320M","983 - ATI Radeon IGP 340M","982 - ATI Mobility Radeon 7000 IGP","981 - Intel Extreme Graphics 2","980 - VIA Chrome9 HC","979 - ATI Mobility Radeon M6","978 - ATI Mobility Radeon M7","977 - ATI Mobility Radeon 9000 IGP","976 - ATI Mobility Radeon 9100 IGP","975 - NVIDIA GeForce 2 Go (200 / 100)","974 - NVIDIA GeForce 3 Go","965 - Intel Graphics Media Accelerator (GMA) 500","963 - Intel Graphics Media Accelerator (GMA) 600","952 - SIS Mirage 3 671MX","951 - SIS Mirage 3+ 672MX","950 - ATI Radeon Xpress 1100","949 - ATI Radeon Xpress 200M","948 - Intel Graphics Media Accelerator (GMA) 900","947 - ATI Mobility FireGL 7800","946 - ATI Mobility Radeon 7500","934 - Intel Graphics Media Accelerator (GMA) 950","933 - Intel Graphics Media Accelerator (GMA) 3150","931 - NVIDIA GeForce 4 420 Go","930 - NVIDIA GeForce 4 440 Go","929 - NVIDIA GeForce 4 460 Go","928 - NVIDIA GeForce 4 488 Go","927 - ATI Mobility Radeon 9000","926 - NVIDIA GeForce FX Go 5200","925 - ATI Mobility FireGL 9000","924 - ATI Mobility Radeon 9200","923 - Intel Graphics Media Accelerator (GMA) 3600","921 - NVIDIA GeForce 7000M","920 - NVIDIA GeForce Go 6100","919 - NVIDIA GeForce Go 6150","918 - ATI Radeon Xpress 1150","917 - NVIDIA GeForce 7150M","916 - NVIDIA GeForce 7190M","915 - Intel Graphics Media Accelerator (GMA) 3650","904 - Intel Graphics Media Accelerator (GMA) X3100","903 - ATI Radeon Xpress X1200","902 - ATI Radeon Xpress 1250","901 - ATI Radeon Xpress X1250","900 - ATI Radeon Xpress X1270","899 - NVIDIA GeForce FX Go 5600 / 5650","898 - NVIDIA Quadro FX Go 1000","897 - NVIDIA GeForce FX Go 5700","896 - NVIDIA GeForce Go 6200","895 - NVIDIA GeForce Go 6250","894 - ATI Mobility Radeon X300","893 - NVIDIA GeForce Go 6400","892 - NVIDIA GeForce Go 7200","891 - ATI Mobility Radeon 9550","890 - ATI Mobility FireGL T2","889 - ATI Mobility Radeon 9600","888 - NVIDIA GeForce4 4200 Go","887 - ATI Mobility Radeon X1300","886 - ATI Mobility FireGL T2e","885 - ATI Mobility Radeon 9700","884 - ATI Mobility Radeon HD 2300","883 - ATI Mobility Radeon X2300","882 - ATI Mobility FireGL V3100","881 - ATI Mobility FireGL V3200","880 - ATI Mobility Radeon X600","879 - NVIDIA Quadro NVS 110M","874 - NVIDIA GeForce Go 7300","873 - NVIDIA Quadro NVS 120M","872 - NVIDIA Quadro FX 350M","871 - NVIDIA GeForce Go 7400","869 - Intel Graphics Media Accelerator (GMA) 4500M","868 - Intel Graphics Media Accelerator (GMA) 4500MHD","867 - Intel Graphics Media Accelerator (GMA) 4700MHD","866 - NVIDIA GeForce 8200M G","865 - NVIDIA Quadro NVS 130M","862 - NVIDIA GeForce 8400M G","861 - ATI Radeon HD 3100","860 - ATI Mobility Radeon HD 3400","851 - ATI Radeon HD 4100","850 - ATI Radeon HD 4225","849 - ATI Radeon HD 3200","848 - ATI Mobility Radeon HD 2400","847 - NVIDIA Quadro NVS 135M","846 - NVIDIA GeForce 8400M GS","845 - NVIDIA GeForce 9100M G","844 - ATI Mobility Radeon X1400","843 - ATI Mobility Radeon X1350","842 - NVIDIA Quadro FX 360M","841 - NVIDIA Quadro NVS 150M","840 - AMD Radeon HD 6250","839 - Intel Graphics Media Accelerator (GMA) HD Graphics","838 - ATI Radeon HD 4200","837 - ATI Radeon HD 4250","836 - ATI Radeon HD 4270","835 - ATI Mobility Radeon HD 2400 XT","834 - ATI Mobility Radeon HD 3410","833 - ATI Mobility Radeon HD 3430","832 - ATI Mobility Radeon HD 3450","831 - AMD Radeon HD 6290","830 - AMD Radeon HD 7290","829 - NVIDIA GeForce 9200M GS","828 - NVIDIA Quadro NVS 160M","827 - NVIDIA Quadro FX 370M","826 - NVIDIA GeForce 9300M GS","825 - NVIDIA ION 2","824 - NVIDIA GeForce 9300M G","823 - ATI Mobility Radeon HD 3470","822 - NVIDIA GeForce 9400M GeForceBoost","821 - ATI Mobility Radeon HD 3470 Hybrid X2","820 - AMD Radeon HD 8180","819 - AMD Radeon HD 6310","818 - AMD Radeon HD 7310","817 - AMD Radeon HD 6320","816 - AMD Radeon HD 7340","812 - Intel HD Graphics (Bay Trail)","803 - Intel HD Graphics (Sandy Bridge)","802 - NVIDIA GeForce 9400M (G) / ION (LE)","801 - NVIDIA GeForce G 205M","800 - NVIDIA GeForce G 102M","799 - NVIDIA GeForce 9500M GE","798 - NVIDIA GeForce G 103M","797 - NVIDIA GeForce G 105M","795 - Intel HD Graphics 2000","794 - NVIDIA Quadro NVS 140M","793 - NVIDIA GeForce 8400M GT","792 - ATI Mobility Radeon HD 4330","791 - AMD Radeon HD 6330M","790 - NVIDIA GeForce G 110M","789 - ATI Mobility FireGL V5000","788 - ATI Mobility Radeon X700","787 - ATI Mobility Radeon X1450","786 - NVIDIA GeForce Go 6600","785 - ATI Mobility Radeon 9800","784 - ATI Mobility FireGL V5200","783 - ATI Mobility Radeon X1600","782 - ATI Mobility Radeon X800","781 - NVIDIA Quadro NVS 300M","780 - NVIDIA GeForce Go 7600","779 - ATI Mobility Radeon X2500","778 - ATI Mobility FireGL V5250","777 - ATI Mobility Radeon X1700","776 - NVIDIA GeForce 305M","775 - ATI Mobility Radeon HD 530v","774 - ATI Radeon HD 4350","773 - ATI Mobility Radeon HD 4350","772 - ATI Mobility Radeon HD 4530","771 - AMD Radeon HD 6350M","770 - AMD Radeon HD 7350M","769 - Intel HD Graphics (Ivy Bridge)","768 - Intel HD Graphics 2500","767 - ATI Mobility Radeon HD 4550","766 - ATI Mobility Radeon HD 540v","765 - AMD Radeon HD 8210","764 - ATI Mobility Radeon HD 5430","763 - AMD Radeon HD 6380G","762 - AMD Radeon HD 6430M","761 - ATI Mobility Radeon X800XT","760 - NVIDIA Quadro FX Go 1400","759 - NVIDIA GeForce Go 6800","758 - NVIDIA GeForce Go 7700","757 - NVIDIA NVS 2100M","756 - NVIDIA GeForce 8600M GS","755 - NVIDIA GeForce 9500M G","754 - NVIDIA GeForce Go 7600 GT","753 - NVIDIA GeForce 315M","752 - NVIDIA GeForce 405M","751 - NVIDIA NVS 3100M","750 - NVIDIA GeForce G210M","749 - NVIDIA GeForce 310M","748 - NVIDIA Quadro FX 380M","747 - Intel HD Graphics 3000","746 - ATI Mobility Radeon HD 2600","745 - NVIDIA GeForce 8600M GT","744 - ATI Mobility Radeon HD 5450","743 - NVIDIA Quadro FX 570M","742 - ATI Mobility Radeon HD 4570","741 - Intel HD Graphics (Cherry Trail)","740 - AMD Radeon HD 8250","739 - AMD Radeon R6 (Mullins)","738 - AMD Radeon HD 8240","737 - ATI Mobility Radeon HD 545v","736 - ATI Mobility Radeon HD 5145","735 - ATI Mobility FireGL V5700","734 - ATI Mobility Radeon HD 3650","733 - AMD Radeon HD 7430M","732 - AMD Radeon HD 6450M","731 - ATI Mobility Radeon HD 5470","730 - AMD Radeon HD 8280","729 - AMD Radeon HD 6370M","727 - AMD Radeon R2 (Mullins/Beema/Carrizo-L)","723 - AMD Radeon HD 7370M","722 - NVIDIA GeForce 410M","721 - NVIDIA GeForce GT 415M","720 - ATI Mobility Radeon HD 2700","719 - AMD Radeon HD 6480G","718 - AMD Radeon HD 7400G","717 - NVIDIA GeForce 9500M GS","716 - NVIDIA GeForce 9600M GS","715 - NVIDIA GeForce Go 7800","714 - NVIDIA GeForce Go 6800 Ultra","713 - ATI Mobility Radeon X1800","712 - ATI Mobility Radeon X1800XT","711 - ATI Mobility Radeon X1900","710 - ATI Mobility Radeon HD 2600 XT","709 - NVIDIA GeForce GT 320M","708 - NVIDIA GeForce 320M","707 - AMD Radeon HD 8310G","706 - AMD Radeon HD 6520G","705 - Intel HD Graphics (Haswell)","701 - ATI Mobility FireGL V5725","700 - ATI Mobility Radeon HD 3670","699 - AMD Radeon HD 7420G","698 - NVIDIA GeForce GT 520M","697 - AMD FirePro M3900","696 - AMD Radeon HD 6470M","695 - Intel HD Graphics 400 (Braswell)","694 - Intel HD Graphics (Braswell)","693 - Intel HD Graphics 405 (Braswell)","690 - NVIDIA GeForce 705M","689 - NVIDIA GeForce 610M","688 - AMD Radeon HD 7450M","687 - AMD Radeon HD 6510G2","686 - NVIDIA GeForce GT 120M","685 - NVIDIA Quadro FX 770M","684 - NVIDIA GeForce GT 220M","683 - NVIDIA GeForce 9600M GT","682 - NVIDIA Quadro FX 1500M","681 - NVIDIA Quadro NVS 320M","680 - NVIDIA GeForce Go 7900 GS","679 - NVIDIA GeForce Go 7800 GTX","678 - NVIDIA Quadro FX 1600M","677 - NVIDIA Quadro FX 1700M","676 - NVIDIA GeForce 8700M GT","675 - NVIDIA GeForce 9650M GT","674 - NVIDIA GeForce 9650M GS","673 - Intel HD Graphics 500","672 - Intel UHD Graphics 600","671 - AMD Radeon HD 8330","670 - AMD Radeon HD 8350G","669 - NVIDIA Quadro FX 2500M","668 - NVIDIA GeForce Go 7900 GTX","667 - NVIDIA NVS 4200M","666 - NVIDIA GeForce GT 130M","665 - NVIDIA GeForce Go 7900 GS SLI","664 - NVIDIA GeForce 8600M GT SLI","663 - NVIDIA GeForce Go 7800 GTX SLI","662 - NVIDIA GeForce GT 325M","661 - AMD Radeon HD 7520G","660 - NVIDIA GeForce GT 520MX","654 - AMD Radeon HD 8400","653 - AMD Radeon HD 8410G","652 - AMD Radeon HD 6490M","651 - AMD Radeon HD 7470M","650 - AMD Radeon HD 8450G","649 - AMD Radeon HD 6515G2","648 - AMD Radeon HD 6480G + HD 7450M Dual Graphics","647 - AMD Radeon HD 7500G","646 - AMD Radeon HD 6540G2","645 - AMD Radeon HD 6520G + HD 7450M Dual Graphics","644 - AMD Radeon HD 6545G2","643 - AMD Radeon HD 6450 GDDR5","642 - Intel HD Graphics (Skylake)","641 - Intel HD Graphics 4200","640 - Intel HD Graphics (Broadwell)","639 - AMD Radeon R2 (Stoney Ridge)","638 - AMD Radeon R3 (Mullins/Beema)","637 - AMD Radeon R4 (Kaveri)","636 - AMD Radeon R4 (Beema)","635 - AMD Radeon R5 (Beema/Carrizo-L)","633 - AMD Radeon R4 (Stoney Ridge)","632 - AMD Radeon HD 6620G","629 - Intel HD Graphics 4000","628 - AMD Radeon HD 7480D","627 - ATI Mobility Radeon HD 550v","626 - NVIDIA GeForce GT 230M","625 - NVIDIA GeForce 9700M GT","624 - NVIDIA GeForce 8700M GT SLI","623 - NVIDIA Quadro FX 3500M","622 - NVIDIA GeForce Go 7950 GTX","621 - AMD Radeon HD 7510M","620 - Intel HD Graphics 5300","619 - Intel HD Graphics 505","618 - Intel UHD Graphics 605","617 - AMD Radeon HD 7490M","616 - NVIDIA GeForce GT 240M","615 - NVIDIA Quadro NVS 5100M","614 - NVIDIA Quadro FX 880M","613 - NVIDIA GeForce GT 330M","612 - ATI Mobility Radeon HD 3850","611 - AMD Radeon HD 7530M","610 - NVIDIA GeForce GT 420M","609 - NVIDIA GeForce Go 7900 GTX SLI","608 - NVIDIA GeForce GT 220","607 - NVIDIA GeForce Go 7950 GTX SLI","606 - ATI Mobility Radeon HD 4650","605 - ATI Mobility Radeon HD 560v","604 - ATI Mobility Radeon HD 5165","603 - AMD Radeon HD 6640G2","602 - AMD Radeon HD 6620G + HD 7450M Dual Graphics","601 - ATI Mobility Radeon HD 3870","600 - AMD Radeon HD 7600G","599 - AMD Radeon HD 7500G + HD 7550M Dual Graphics","598 - NVIDIA GeForce GT 335M","597 - NVIDIA Quadro FX 2700M","596 - AMD Radeon HD 6645G2","595 - NVIDIA GeForce 9700M GTS","594 - NVIDIA GeForce GT 425M","593 - ATI Mobility Radeon HD 4670","592 - AMD Radeon HD 7550M","591 - ATI Mobility Radeon HD 565v","590 - NVIDIA NVS 5200M","589 - Intel HD Graphics 510","588 - AMD Radeon HD 8610G","587 - Intel HD Graphics 4400","586 - Intel HD Graphics 610","585 - Intel UHD Graphics 610","584 - Intel HD Graphics 515","576 - AMD Radeon HD 7640G","575 - AMD Radeon HD 8470D","574 - AMD Radeon HD 7620G","573 - AMD Radeon HD 7610M","572 - AMD Radeon HD 7640G + HD 7610M Dual Graphics","571 - AMD Radeon HD 6550D","570 - NVIDIA GeForce GT 525M","569 - NVIDIA GeForce GT 620M","568 - NVIDIA GeForce GT 625M","567 - NVIDIA Quadro K500M","566 - AMD Radeon HD 8550G","565 - AMD Radeon HD 6530M","564 - AMD Radeon HD 8510G","563 - ATI Mobility Radeon HD 5650","562 - NVIDIA Quadro FX 1800M","561 - AMD Radeon HD 7630M","560 - AMD Radeon HD 7570M","559 - AMD FirePro M2000","558 - AMD Radeon HD 7650M","557 - AMD Radeon HD 6630M","556 - NVIDIA GeForce GTS 250M","555 - NVIDIA GeForce GTS 350M","554 - AMD Radeon HD 7590M","553 - AMD Radeon HD 6550M","552 - ATI Radeon HD 5570","551 - NVIDIA Quadro K510M","550 - Intel HD Graphics 5000","549 - AMD Radeon HD 6680G2","548 - NVIDIA GeForce GT 435M","547 - AMD Radeon HD 7660G","546 - NVIDIA GeForce 710M","545 - NVIDIA NVS 5400M","544 - ATI FirePro M5800","543 - AMD Radeon R5 (Kaveri)","542 - AMD Radeon R5 (Carrizo)","541 - Intel HD Graphics 615","540 - Intel UHD Graphics 615","539 - Intel UHD Graphics 617","530 - Qualcomm Adreno 630","526 - Intel HD Graphics 5500","525 - ATI Mobility Radeon HD 5730","524 - Intel HD Graphics 4600","523 - AMD Radeon HD 6650M","522 - AMD Radeon HD 6690G2","521 - NVIDIA GeForce GT 540M","520 - Intel Iris Graphics 5100","519 - AMD Radeon HD 8550M","518 - NVIDIA Quadro K610M","517 - Intel HD Graphics 6000","516 - AMD Radeon HD 8570M","515 - AMD Radeon HD 8450G + Radeon HD 8570M Dual Graphics","514 - AMD Radeon HD 6720G2","513 - ATI Mobility Radeon HD 5750","511 - AMD Radeon R5 (Stoney Ridge)","510 - AMD Radeon RX Vega 2","509 - AMD Radeon R5 M420","508 - AMD Radeon R5 M315","507 - AMD Radeon R5 M230","506 - AMD Radeon R5 M320","505 - AMD Radeon R5 M240","504 - NVIDIA GeForce 8800M GTS","503 - NVIDIA GeForce GT 720M","502 - Intel UHD Graphics G4 (Lakefield GT1 48 EU)","501 - Intel Iris Graphics 6100","500 - Intel HD Graphics 520","499 - NVIDIA GeForce 820M","498 - NVIDIA GeForce 910M","497 - NVIDIA Quadro 1000M","496 - AMD Radeon RX Vega 3","495 - AMD Radeon R5 M255","494 - AMD Radeon R5 M430","493 - AMD Radeon R5 M330","492 - AMD Radeon R5 M335","491 - NVIDIA GeForce GTS 150M","490 - AMD Radeon HD 7560D","489 - NVIDIA GeForce GT 630M","488 - AMD Radeon HD 7670M","487 - AMD Radeon HD 7520G + HD 7670M Dual Graphics","486 - AMD Radeon HD 6620G + HD 7670M Dual Graphics","485 - AMD Radeon HD 7640G + HD 7670M Dual Graphics","484 - AMD Radeon HD 8650G","483 - AMD Radeon HD 6570M","482 - ATI Mobility Radeon HD 5770","481 - ATI Mobility Radeon HD 4830","480 - NVIDIA GeForce 9800M GS","479 - AMD Radeon HD 6730M","478 - AMD Radeon HD 6740G2","477 - AMD Radeon HD 6760G2","476 - ATI Mobility Radeon HD 5830","475 - AMD Radeon HD 6830M","474 - NVIDIA GeForce GT 430","473 - NVIDIA GeForce 9800M GTS","472 - NVIDIA GeForce GTS 160M","471 - NVIDIA GeForce GTS 260M","470 - AMD Radeon HD 8590M","469 - NVIDIA GeForce GT 550M","468 - NVIDIA Quadro K1000M","467 - AMD Radeon HD 6750M","466 - AMD Radeon HD 7660D","465 - AMD Radeon R6 M255DX","464 - AMD Radeon HD 8670M","463 - AMD Radeon HD 8550G + HD 8670M Dual Graphics","462 - AMD Radeon HD 7660G + HD 7670M Dual Graphics","461 - AMD Radeon HD 8650G + HD 8570M Dual Graphics","460 - AMD Radeon HD 8650G + HD 8670M Dual Graphics","459 - AMD Radeon HD 8570D","458 - Intel HD Graphics 5600","457 - AMD Radeon HD 7690M","456 - AMD Radeon HD 6755G2","455 - NVIDIA GeForce GT 240 GDDR5","454 - NVIDIA GeForce GTS 360M","453 - NVIDIA GeForce GT 445M","452 - NVIDIA Quadro FX 3600M","451 - NVIDIA GeForce 8800M GTX","450 - NVIDIA GeForce 9800M GT","449 - NVIDIA Quadro 2000M","448 - AMD FirePro W2100","447 - AMD Radeon HD 6850M","446 - ATI Mobility Radeon HD 5850","445 - ATI Radeon HD 5670","444 - NVIDIA GeForce GT 555M","443 - NVIDIA GeForce GT 635M","442 - AMD Radeon HD 6770M","441 - AMD Radeon HD 8730M","440 - AMD Radeon HD 8650M","439 - AMD Radeon R6 (Kaveri)","438 - NVIDIA GeForce GT 640M LE","437 - AMD FirePro M5950","436 - AMD Radeon HD 7690M XT","435 - AMD Radeon HD 8670D","434 - AMD Radeon HD 6775G2","433 - NVIDIA Quadro FX 2800M","432 - NVIDIA GeForce 9800M GTX","431 - NVIDIA GeForce GTX 260M","430 - ATI Mobility Radeon HD 4850","429 - ATI FirePro M7740","428 - ATI Mobility Radeon HD 4860","427 - Qualcomm Adreno 680","426 - Qualcomm Adreno 685","425 - AMD Radeon R6 (Carrizo)","424 - Intel HD Graphics 620","423 - Intel UHD Graphics 620","422 - AMD Radeon R5 (Bristol Ridge)","420 - Intel HD Graphics P530","419 - Intel HD Graphics 530","418 - Intel UHD Graphics G7 (Lakefield GT2 64 EU)","417 - Intel HD Graphics P630","416 - Intel HD Graphics 630","415 - Intel UHD Graphics P630","414 - Intel UHD Graphics 630","413 - Intel UHD Graphics G1 (Ice Lake 32 EU)","412 - AMD Radeon RX Vega 5","411 - AMD Radeon RX Vega 6 (Ryzen 2000/3000)","410 - AMD Radeon R6 M340DX","409 - AMD Radeon 610","408 - AMD Radeon 520","407 - AMD Radeon R7 M340","406 - AMD Radeon R7 M260","405 - NVIDIA Quadro FX 3700M","404 - ATI Mobility Radeon HD 3850 X2","403 - NVIDIA GeForce 8800M GTX SLI","402 - ATI Mobility Radeon HD 3870 X2","401 - NVIDIA GeForce 9800M GTS SLI","400 - AMD Radeon R7 M440","399 - AMD Radeon 620","398 - AMD Radeon R8 M445DX","397 - AMD Radeon HD 8690M","396 - NVIDIA GeForce 9800M GT SLI","395 - NVIDIA GeForce 920M","394 - NVIDIA GeForce GTX 280M","393 - AMD Radeon R7 M360","391 - AMD Radeon HD 7730M","390 - AMD Radeon R7 M460","389 - AMD Radeon R8 M365DX","388 - AMD Radeon R7 (Kaveri)","387 - AMD Radeon R7 (Carrizo)","386 - NVIDIA GeForce GT 640M","385 - AMD Radeon R7 (Bristol Ridge)","384 - ATI Mobility Radeon HD 4870","383 - NVIDIA GeForce GTX 285M","382 - NVIDIA Quadro FX 3800M","381 - AMD Radeon R7 M265","380 - AMD Radeon R7 M270","379 - NVIDIA Quadro 3000M","378 - AMD Radeon HD 8750M","377 - AMD FirePro M4100","376 - AMD Radeon HD 7750M","375 - NVIDIA GeForce GT 645M","374 - NVIDIA GeForce GT 730M","373 - AMD Radeon HD 8550G + HD 8750M Dual Graphics","372 - NVIDIA GeForce GTX 460M","371 - AMD Radeon R7 M260X","370 - AMD Radeon HD 8770M","369 - AMD Radeon HD 8830M","368 - NVIDIA GeForce 9800M GTX SLI","367 - ATI Radeon HD 4850","366 - AMD Radeon HD 6870M","365 - ATI FirePro M7820","364 - AMD FirePro M4000","363 - NVIDIA Quadro 5000M","362 - NVIDIA GeForce 825M","361 - ATI Mobility Radeon HD 5870","360 - NVIDIA GeForce GT 735M","359 - NVIDIA GeForce GTX 260M SLI","358 - NVIDIA GeForce GTS 450","357 - NVIDIA Quadro K2000M","352 - Intel Iris Graphics 540","351 - NVIDIA GeForce 920MX","350 - Intel Iris Plus Graphics 640","349 - NVIDIA GeForce MX110","348 - NVIDIA GeForce 830M","346 - Intel Iris Plus Graphics 645","345 - AMD Radeon RX Vega 6 (Ryzen 4000)","344 - AMD Radeon 625","343 - AMD Radeon 530","342 - Intel Iris Graphics 550","341 - NVIDIA GeForce 930M","340 - Intel Iris Plus Graphics 650","339 - NVIDIA GeForce GT 740M","338 - AMD Radeon R7 384 Cores (Kaveri Desktop)","337 - Intel Iris Pro Graphics 5200","336 - AMD Radeon R7 512 Cores (Kaveri Desktop)","335 - NVIDIA GeForce GTX 560M","334 - AMD Radeon HD 7770M","333 - NVIDIA GeForce GT 745M","332 - AMD Radeon R7 M275DX","331 - NVIDIA GeForce 840M","330 - NVIDIA Quadro M500M","329 - NVIDIA Quadro K620M","328 - NVIDIA GeForce GT 650M","327 - AMD Radeon R7 M370","326 - AMD Radeon R7 M380","325 - AMD Radeon R7 M445","324 - Intel Iris Plus Graphics 655","323 - AMD Radeon R9 M375","322 - AMD FirePro W4190M","321 - NVIDIA Quadro M600M","318 - NVIDIA GeForce 930MX","317 - Intel Iris Plus Graphics G4 (Ice Lake 48 EU)","316 - NVIDIA GeForce 940M","315 - AMD Radeon RX Vega 7","314 - AMD Radeon RX Vega 8 (Ryzen 2000/3000)","313 - NVIDIA Quadro K1100M","312 - NVIDIA Quadro M520","311 - NVIDIA GeForce 940MX","310 - NVIDIA GeForce MX130","309 - Intel Iris Pro Graphics 6200","308 - NVIDIA GeForce GT 750M","307 - NVIDIA GeForce GTX 480M","306 - NVIDIA GeForce GTX 470M","305 - NVIDIA Quadro 4000M","304 - ATI Mobility Radeon HD 4870 X2","303 - AMD FirePro W4100","302 - AMD FirePro W4170M","301 - AMD Radeon HD 8790M","300 - AMD Radeon R7 M465","299 - AMD Radeon HD 7850M","298 - AMD Radeon R9 M265X","297 - AMD Radeon R9 M365X","296 - AMD Radeon HD 8850M","295 - NVIDIA GeForce 845M","294 - NVIDIA GeForce GTX 660M","293 - NVIDIA GeForce GT 755M","292 - AMD Radeon R7 250","291 - AMD Radeon HD 6950M","290 - NVIDIA GeForce GTX 280M SLI","289 - NVIDIA GeForce GTX 550 Ti","288 - ATI Radeon HD 5770","287 - NVIDIA Quadro K2100M","286 - AMD Radeon RX Vega 8 (Ryzen 4000)","285 - NVIDIA GeForce MX230","284 - AMD FirePro M5100","283 - AMD FirePro M6000","282 - Intel UHD Graphics Xe G4 48EUs","281 - NVIDIA GeForce GTX 570M","280 - NVIDIA Quadro K3000M","279 - AMD Radeon HD 7870M","278 - AMD Radeon HD 8870M","277 - AMD Radeon R9 M270","276 - AMD Radeon HD 6970M","275 - AMD FirePro M8900","274 - AMD FirePro W5130M","273 - NVIDIA Maxwell GPU Surface Book","272 - AMD Radeon RX Vega 9","271 - NVIDIA GeForce GTX 670M","270 - AMD Radeon R9 M275","269 - NVIDIA GeForce GTX 760M","268 - NVIDIA Quadro 5010M","267 - NVIDIA GeForce GTX 670MX","266 - AMD Radeon R9 M370X","265 - AMD FirePro W5170M","264 - NVIDIA Quadro K3100M","263 - NVIDIA GeForce GTX 285M SLI","262 - AMD Radeon HD 6790","261 - NVIDIA GeForce GTX 460 768MB","260 - NVIDIA GeForce GTX 485M","259 - ATI Mobility Radeon HD 5870 Crossfire","258 - NVIDIA GeForce GTX 460M SLI","257 - NVIDIA GeForce GT 650M SLI","256 - AMD Radeon HD 7770","255 - AMD Radeon R9 M380","254 - AMD Radeon R9 M385","253 - AMD Radeon R9 M470","252 - AMD Radeon HD 6990M","251 - NVIDIA GeForce GTX 580M","250 - NVIDIA GeForce GTX 675M","249 - ATI Radeon HD 5850","248 - Intel Iris Pro Graphics 580","247 - Intel Iris Pro Graphics P580","246 - AMD Radeon RX Vega 10","245 - Intel Iris Plus Graphics G7 (Ice Lake 64 EU)","244 - NVIDIA Quadro P500","243 - NVIDIA Quadro K4000M","242 - NVIDIA GeForce GTX 560M SLI","241 - NVIDIA GeForce GTX 480M SLI","240 - NVIDIA GeForce GTX 470M SLI","239 - NVIDIA GeForce GTX 765M","238 - NVIDIA GeForce 945M","237 - NVIDIA GeForce GTX 470","236 - AMD Radeon HD 6870","235 - NVIDIA GeForce GTX 560 Ti","234 - AMD Radeon HD 7950M","233 - AMD Radeon R9 M280X","232 - AMD Radeon RX Vega 11","231 - NVIDIA Quadro M620","230 - NVIDIA Quadro M1000M","229 - NVIDIA GeForce GTX 850M","228 - NVIDIA Quadro P520","227 - AMD Radeon R9 M385X","226 - AMD Radeon R9 M470X","225 - AMD Radeon 540X","224 - AMD Radeon 630","223 - AMD Radeon Pro 450","222 - NVIDIA GeForce GTX 950M","221 - NVIDIA GeForce GT 750M SLI","220 - NVIDIA GeForce GTX 675MX","219 - AMD Radeon HD 6970M Crossfire","218 - NVIDIA GeForce GTX 485M SLI","217 - NVIDIA GeForce GT 755M SLI","216 - AMD Radeon HD 6990M Crossfire","215 - NVIDIA GeForce GTX 580M SLI","214 - NVIDIA GeForce GTX 860M","213 - AMD Radeon Pro WX 3100","212 - AMD Radeon RX 540","211 - AMD Radeon Pro WX 2100","210 - AMD Radeon RX 540X","209 - NVIDIA GeForce GTX 770M","208 - Intel Iris Xe Graphics G7 80EUs","207 - NVIDIA Quadro K4100M","206 - NVIDIA Quadro K5000M","205 - NVIDIA Quadro M2000M","204 - NVIDIA GeForce MX330","203 - NVIDIA GeForce MX150","202 - NVIDIA GeForce MX250","201 - NVIDIA Quadro P600","200 - NVIDIA GeForce GT 1030","199 - AMD Radeon Pro 455","198 - AMD Radeon Pro 555","197 - AMD Radeon Pro 555X","196 - AMD Radeon Pro WX 3200","195 - AMD Radeon RX 640","194 - AMD Radeon RX 550","193 - AMD Radeon RX 550X","192 - NVIDIA Quadro P620","191 - NVIDIA Quadro M1200","190 - NVIDIA GeForce GTX 480","189 - NVIDIA GeForce GTX 570","188 - NVIDIA GeForce GTX 670MX SLI","187 - NVIDIA GeForce GTX 750 Ti","186 - NVIDIA GeForce GTX 960M","185 - AMD Radeon Pro WX 4130","184 - AMD Radeon Pro 460","183 - AMD Radeon Pro 560","182 - AMD Radeon Pro 560X","181 - AMD Radeon HD 7970M","180 - AMD FirePro M6100","179 - AMD Radeon R9 M390","178 - NVIDIA GeForce GTX 775M","177 - NVIDIA GeForce GTX 680M","176 - AMD Radeon RX 460","175 - NVIDIA GeForce GTX 765M SLI","174 - NVIDIA GeForce GTX 675M SLI","173 - AMD Radeon HD 6970","172 - NVIDIA GeForce GTX 580","171 - AMD Radeon HD 8970M","170 - AMD Radeon R9 M290X","169 - NVIDIA GeForce GTX 870M","168 - NVIDIA Quadro M2200","167 - AMD Radeon RX 560","166 - AMD Radeon RX 560X","165 - NVIDIA GeForce GTX 965M","164 - AMD Radeon HD 7870","163 - AMD Radeon Pro WX 4150","162 - AMD Radeon RX 460","161 - NVIDIA GeForce GTX 680MX","160 - NVIDIA GeForce MX350","159 - NVIDIA Quadro P1000","158 - NVIDIA Quadro K5100M","157 - NVIDIA GeForce GTX 780M","156 - NVIDIA GeForce GTX 760","155 - NVIDIA GeForce GTX 660 Ti","154 - AMD Radeon R9 270X","153 - NVIDIA GeForce GTX 950","152 - NVIDIA GeForce GTX 1050 Max-Q","151 - NVIDIA GeForce GTX 880M","150 - NVIDIA GeForce GTX 590","149 - Intel Iris Xe Graphics G7 96EUs","148 - AMD Radeon R7 370","147 - AMD Radeon R9 M395","146 - AMD FirePro W7170M","145 - Intel Xe DG1 LP (iDG1LP) Mobile","144 - NVIDIA GeForce GTX 1050 Mobile","143 - NVIDIA GeForce GTX 1050","142 - NVIDIA Quadro M3000M","141 - AMD Radeon R9 M390X","140 - AMD Radeon R9 M295X","139 - AMD Radeon R9 M485X","138 - AMD Radeon Pro Vega 16","137 - AMD Radeon Pro WX Vega M GL","136 - AMD Radeon RX Vega M GL / 870","135 - NVIDIA GeForce GTX 1050 Ti Max-Q","134 - AMD Radeon R9 M395X","133 - NVIDIA GeForce GTX 770M SLI","132 - AMD Radeon HD 7970","131 - NVIDIA GeForce GTX 680","130 - NVIDIA GeForce GTX 860M SLI","129 - NVIDIA GeForce GTX 970M","128 - NVIDIA Quadro M4000M","127 - NVIDIA Quadro P2000 Max-Q","126 - NVIDIA Quadro P2000","125 - NVIDIA GeForce GTX 1050 Ti","124 - NVIDIA GeForce GTX 1050 Ti Mobile","123 - NVIDIA GeForce GTX 960","122 - AMD Radeon R9 380","121 - AMD Radeon R9 280X","120 - NVIDIA Quadro M5000M","119 - AMD Radeon Pro Vega 20","118 - AMD Radeon RX Vega M GH","117 - NVIDIA GeForce GTX 980M","116 - AMD Radeon HD 7970M Crossfire","115 - NVIDIA GeForce GTX 680M SLI","114 - AMD Radeon HD 8970M Crossfire","113 - AMD Radeon R9 M290X Crossfire","112 - NVIDIA GeForce GTX 965M SLI","111 - AMD Radeon RX 490M","110 - AMD Radeon R9 290X","109 - NVIDIA GeForce GTX 780M SLI","108 - NVIDIA GeForce GTX 880M SLI","107 - NVIDIA GeForce MX450","106 - NVIDIA Quadro T1000 Max-Q","105 - NVIDIA Quadro T1000","104 - NVIDIA GeForce GTX 1650 Max-Q","103 - AMD Radeon RX 470","102 - AMD Radeon RX 570","101 - AMD Radeon RX 570X","100 - AMD Radeon RX 470","99 - AMD Radeon Pro WX 7100","98 - AMD Radeon RX 480","97 - NVIDIA Quadro P3000 Max-Q","96 - NVIDIA GeForce GTX 1060 Max-Q","95 - NVIDIA GeForce GTX 1650 Ti Max-Q","94 - NVIDIA GeForce GTX 1650","93 - NVIDIA GeForce GTX 1650 Mobile","92 - NVIDIA GeForce GTX 970","91 - NVIDIA Quadro P3000","90 - AMD Radeon RX 5300M","89 - AMD Radeon Pro 5300M","88 - AMD Radeon RX Vega Mobile","87 - NVIDIA GeForce GTX 780 Ti","86 - AMD Radeon RX 580","85 - AMD Radeon RX 580X","84 - NVIDIA Quadro P3200","83 - NVIDIA Quadro P4000 Max-Q","82 - AMD Radeon Pro 5500M","81 - AMD Radeon RX 5500M","80 - NVIDIA GeForce GTX 1060 Mobile","79 - AMD Radeon RX 480","78 - NVIDIA GeForce GTX 1650 Ti Mobile","76 - NVIDIA Quadro T2000 Max-Q","75 - NVIDIA Quadro T2000","74 - NVIDIA Quadro P4000","73 - AMD Radeon RX 570","72 - NVIDIA GeForce GTX 1060","71 - NVIDIA GeForce GTX 970M SLI","70 - AMD Radeon R9 390X","69 - NVIDIA Quadro M5500","68 - NVIDIA GeForce GTX 980","67 - AMD Radeon RX 580","66 - AMD Radeon RX 590","65 - NVIDIA GeForce GTX 980","64 - AMD Radeon R9 Nano","63 - AMD Radeon R9 Fury","62 - NVIDIA GeForce GTX 980M SLI","61 - NVIDIA Quadro P5000 Max-Q","60 - NVIDIA GeForce GTX 1660 Ti Max-Q","59 - AMD Radeon Pro 5600M","58 - NVIDIA GeForce GTX 1070 Max-Q","57 - NVIDIA GeForce GTX 1660","56 - NVIDIA GeForce GTX 980 Ti","55 - AMD Radeon RX 5600M","54 - NVIDIA GeForce GTX 1660 Ti Mobile","53 - NVIDIA Quadro P5000","52 - NVIDIA GeForce GTX 1660 Super","51 - NVIDIA GeForce GTX 1660 Ti","50 - NVIDIA Quadro P4200","49 - NVIDIA GeForce GTX 1070 Mobile","48 - NVIDIA GeForce RTX 2060 Max-Q","47 - AMD Radeon Pro Vega 56","46 - NVIDIA GeForce GTX 1080 Max-Q","45 - AMD Radeon RX 5600 XT","44 - NVIDIA GeForce GTX 1070","43 - NVIDIA Quadro P5200","42 - NVIDIA GeForce GTX 980 SLI","41 - NVIDIA GeForce RTX 2060 Mobile","40 - AMD Radeon RX Vega 56","39 - NVIDIA Quadro RTX 3000 Max-Q","38 - NVIDIA Quadro RTX 3000","37 - NVIDIA GeForce RTX 2070 Max-Q","36 - NVIDIA GeForce GTX 1070 Ti","35 - NVIDIA GeForce RTX 2070 Super Max-Q","34 - NVIDIA GeForce RTX 2060","33 - NVIDIA Quadro RTX 4000 Max-Q","32 - NVIDIA Quadro RTX 4000","31 - NVIDIA GeForce GTX 1080 Mobile","30 - AMD Radeon RX Vega 64","29 - AMD Radeon RX 5700M","28 - AMD Radeon RX 5700","27 - NVIDIA GeForce RTX 2060 Super","26 - NVIDIA GeForce RTX 2070 Mobile","25 - NVIDIA GeForce RTX 2070 Super Mobile","24 - NVIDIA GeForce GTX 1080","22 - NVIDIA GeForce RTX 2070","21 - AMD Radeon RX 5700 XT","20 - AMD Radeon VII","19 - NVIDIA GeForce RTX 2070 Super","18 - NVIDIA GeForce RTX 2080 Max-Q","17 - NVIDIA GeForce RTX 2080 Super Max-Q","16 - NVIDIA GeForce GTX 1070 SLI","15 - NVIDIA GeForce GTX 1070 SLI","14 - NVIDIA GeForce GTX 1080 SLI","13 - NVIDIA Titan X Pascal","12 - NVIDIA GeForce GTX 1080 Ti","11 - NVIDIA GeForce RTX 2080 Mobile","10 - NVIDIA GeForce RTX 2080 Super Mobile","9 - NVIDIA Quadro RTX 5000 Max-Q","8 - NVIDIA Quadro RTX 5000","6 - NVIDIA GeForce RTX 2080","5 - NVIDIA GeForce RTX 2080 Super","4 - NVIDIA Quadro RTX 6000","2 - NVIDIA GeForce RTX 2080 Ti","1 - NVIDIA Titan RTX"],n=["973 - ARM Mali-200","972 - Qualcomm Adreno 200","971 - PowerVR SGX530","970 - PowerVR SGX531","969 - PowerVR SGX535","968 - Vivante GC800","967 - Qualcomm Adreno 203","966 - Qualcomm Adreno 205","964 - PowerVR SGX540","962 - NVIDIA GeForce ULP (Tegra 2)","961 - ARM Mali-400 MP","960 - ARM Mali-400 MP2","959 - Vivante GC1000+ Dual-Core","958 - Qualcomm Adreno 220","957 - Broadcom VideoCore-IV","956 - NVIDIA GeForce ULP (Tegra 3)","955 - ARM Mali-400 MP4","954 - Vivante GC4000","953 - Qualcomm Adreno 225","945 - Qualcomm Adreno 302","944 - Vivante GC7000UL","943 - ARM Mali-T720","942 - Qualcomm Adreno 304","941 - Qualcomm Adreno 305","940 - Qualcomm Adreno 306","939 - Qualcomm Adreno 308","938 - PowerVR SGX544","937 - ARM Mali-T720 MP2","936 - PowerVR SGX544MP2","935 - PowerVR SGX545","932 - PowerVR SGX543MP2","922 - PowerVR SGX543MP3","914 - ARM Mali-T830 MP1","913 - ARM Mali-450 MP4","912 - ARM Mali-T720 MP4","911 - PowerVR GE8100","910 - PowerVR GE8300","909 - PowerVR GE8320","908 - ARM Mali-T760 MP2","907 - Qualcomm Adreno 320","906 - ARM Mali-T624","905 - PowerVR SGX543MP4","878 - ARM Mali-T830 MP2","877 - Qualcomm Adreno 405","876 - PowerVR G6200","875 - NVIDIA GeForce Tegra 4","870 - ARM Mali-T604 MP4","864 - ARM Mali-T830 MP3","863 - ARM Mali-T860 MP2","859 - Qualcomm Adreno 504","858 - Qualcomm Adreno 505","857 - PowerVR GE8322 / IMG8322","856 - Qualcomm Adreno 506","855 - Qualcomm Adreno 508","854 - Qualcomm Adreno 509","853 - ARM Mali-T628 MP4","852 - PowerVR SGX554MP4","814 - ARM Mali-T760 MP4","813 - ARM Mali-T628 MP6","812 - Intel HD Graphics (Bay Trail)","811 - PowerVR G6400","810 - PowerVR GX6250","809 - PowerVR G6430","808 - Qualcomm Adreno 330","807 - Qualcomm Adreno 510","806 - Qualcomm Adreno 512","805 - Qualcomm Adreno 610","804 - Qualcomm Adreno 612","741 - Intel HD Graphics (Cherry Trail)","728 - ARM Mali-G51 MP4","726 - Qualcomm Adreno 616","725 - Qualcomm Adreno 618","724 - Qualcomm Adreno 418","704 - Qualcomm Adreno 620","703 - Qualcomm Adreno 420","702 - PowerVR GX6450","692 - ARM Mali-T880 MP2","691 - ARM Mali-T760 MP6","659 - ARM Mali-G52 MP1","658 - ARM Mali-G52 MP2","657 - ARM Mali-G52 MP6","656 - ARM Mali-T880 MP4","655 - ARM Mali-G72 MP3","634 - Qualcomm Adreno 430","631 - ARM Mali-G71 MP2","630 - ARM Mali-T760 MP8","583 - ARM Mali-G76 MP4","582 - ARM Mali-T880 MP12","581 - Apple A9 / PowerVR GT7600","580 - NVIDIA Tegra K1 Kepler GPU","579 - PowerVR GXA6850","578 - Qualcomm Adreno 530","577 - PowerVR GM9446","538 - ARM Mali-G71 MP8","537 - ARM Mali-G72 MP12","536 - ARM Mali-G71 MP20","535 - ARM Mali-G72 MP18","534 - ARM Mali-G57 MP6","533 - Qualcomm Adreno 540","532 - ARM Mali-G76 MP10","531 - ARM Mali-G76 MP12","530 - Qualcomm Adreno 630","529 - Qualcomm Adreno 640","528 - ARM Mali-G76 MP16","527 - ARM Mali-G77 MP11","512 - Apple A10 Fusion GPU / PowerVR","421 - NVIDIA Tegra X1 Maxwell GPU","392 - Apple A9X / PowerVR Series 7XT","356 - Apple A10X Fusion GPU / PowerVR","355 - Apple A11 Bionic GPU","354 - Qualcomm Adreno 650","353 - Apple A12 Bionic GPU","347 - Apple A13 Bionic GPU","320 - Apple A12X Bionic GPU","319 - Apple A12Z Bionic GPU"],r=e=>e.toLowerCase().split("- ")[1].split(" /")[0];var o="undefined"==typeof window;const i=new(function(){function e(e){this.userAgent=e||(!o&&window.navigator?window.navigator.userAgent:""),this.isAndroidDevice=!/like android/i.test(this.userAgent)&&/android/i.test(this.userAgent),this.iOSDevice=this.match(1,/(iphone|ipod|ipad)/i).toLowerCase(),!o&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>2&&!window.MSStream&&(this.iOSDevice="ipad")}return e.prototype.match=function(e,t){var n=this.userAgent.match(t);return n&&n.length>1&&n[e]||""},Object.defineProperty(e.prototype,"isMobile",{get:function(){return!this.isTablet&&(/[^-]mobi/i.test(this.userAgent)||"iphone"===this.iOSDevice||"ipod"===this.iOSDevice||this.isAndroidDevice||/nexus\s*[0-6]\s*/i.test(this.userAgent))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTablet",{get:function(){return/tablet/i.test(this.userAgent)&&!/tablet pc/i.test(this.userAgent)||"ipad"===this.iOSDevice||this.isAndroidDevice&&!/[^-]mobi/i.test(this.userAgent)||!/nexus\s*[0-6]\s*/i.test(this.userAgent)&&/nexus\s*[0-9]+/i.test(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesktop",{get:function(){return!this.isMobile&&!this.isTablet},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMacOS",{get:function(){return/macintosh/i.test(this.userAgent)&&{version:this.match(1,/mac os x (\d+(\.?_?\d+)+)/i).replace(/[_\s]/g,".").split(".").map((function(e){return e}))[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWindows",{get:function(){return/windows /i.test(this.userAgent)&&{version:this.match(1,/Windows ((NT|XP)( \d\d?.\d)?)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isiOS",{get:function(){return!!this.iOSDevice&&{version:this.match(1,/os (\d+([_\s]\d+)*) like mac os x/i).replace(/[_\s]/g,".")||this.match(1,/version\/(\d+(\.\d+)?)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroid",{get:function(){return this.isAndroidDevice&&{version:this.match(1,/android[ \/-](\d+(\.\d+)*)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"browser",{get:function(){var e=this.match(1,/version\/(\d+(\.\d+)?)/i);return/opera/i.test(this.userAgent)?{name:"Opera",version:e||this.match(1,/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(this.userAgent)?{name:"Opera",version:this.match(1,/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||e}:/SamsungBrowser/i.test(this.userAgent)?{name:"Samsung Internet for Android",version:e||this.match(1,/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(this.userAgent)?{name:"Yandex Browser",version:e||this.match(1,/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(this.userAgent)?{name:"UC Browser",version:this.match(1,/(?:ucbrowser)[\s\/](\d+(\.\d+)?)/i)}:/msie|trident/i.test(this.userAgent)?{name:"Internet Explorer",version:this.match(1,/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/(edge|edgios|edga|edg)/i.test(this.userAgent)?{name:"Microsoft Edge",version:this.match(2,/(edge|edgios|edga|edg)\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(this.userAgent)?{name:"Firefox",version:this.match(1,/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)}:/chromium/i.test(this.userAgent)?{name:"Chromium",version:this.match(1,/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||e}:/chrome|crios|crmo/i.test(this.userAgent)?{name:"Chrome",version:this.match(1,/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/safari|applewebkit/i.test(this.userAgent)?{name:"Safari",version:e}:{name:this.match(1,/^(.*)\/(.*) /),version:this.match(2,/^(.*)\/(.*) /)}},enumerable:!1,configurable:!0}),e}()),{browser:a,isMobile:s,isTablet:c}=i,l=e=>e.replace(/[\D]/g,""),u=(e,t)=>{const n=e?e.length:0,r=t?t.length:0;if(0===n)return r;if(0===r)return n;const o=new Array(r+1);for(let a=0;a<=r;++a)(o[a]=new Array(n+1))[0]=a;const i=o[0];for(let a=1;a<=n;++a)i[a]=a;for(let a=1;a<=r;++a)for(let r=1;r<=n;++r)t.charAt(a-1)===e.charAt(r-1)?o[a][r]=o[a-1][r-1]:o[a][r]=Math.min(o[a-1][r-1],o[a][r-1],o[a-1][r])+1;return o[r][n]},d=(e,t,n)=>{const o=["adreno","apple","mali-t","mali","nvidia","powervr"].find(e=>t.includes(e)),i=[];if(o)for(let s=0;s<e.length;s++){const a=e[s];for(let e=0;e<a.length;e++){const c=r(a[e]);!c.includes(o)||"mali"===c&&c.includes("mali-t")||!l(c).includes(n)||i.push({rank:[s,"BENCHMARK - "+c],distance:u(t,c)})}}const a=h(i);return a.length>0?a[0].rank:[void 0,void 0]},h=e=>e.sort((e,t)=>e.distance-t.distance),p=(e,t,n)=>{const o=["intel","amd","nvidia"].find(e=>t.includes(e)),i=[];if(o)for(let s=0;s<e.length;s++){const a=e[s];for(let e=0;e<a.length;e++){const c=r(a[e]);c.includes(o)&&l(c).includes(n)&&i.push({rank:[s,"BENCHMARK - "+c],distance:u(t,c)})}}const a=h(i);return a.length>0?a[0].rank:[void 0,void 0]};e.getGPUTier=({mobileBenchmarkPercentages:e=[0,50,30,20],desktopBenchmarkPercentages:r=[0,50,30,20],forceRendererString:o="",forceMobile:i=!1,glContext:u,failIfMajorPerformanceCaveat:h=!0}={})=>{let f;const m=s||c||i,v=(e=1,t="FALLBACK")=>({tier:`GPU_${m?"MOBILE":"DESKTOP"}_TIER_${e}`,type:t});if(o)f=o;else{const e=u||((e,t=!0)=>{const n={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:t,powerPreference:"high-performance",stencil:!1};"boolean"!=typeof e&&"Safari"===e.name&&e.version.includes("12")&&delete n.powerPreference;const r=document.createElement("canvas"),o=r.getContext("webgl",n)||r.getContext("experimental-webgl",n);if(o&&o instanceof WebGLRenderingContext)return o})(a,h);if(!e)return v(0,"WEBGL_UNSUPPORTED");f=(e=>{const t=e.getExtension("WEBGL_debug_renderer_info");return t&&e.getParameter(t.UNMASKED_RENDERER_WEBGL)})(e)}if(f=(e=>{let t=e.toLowerCase();return t.includes("angle (")&&t.includes("direct3d")&&(t=t.replace("angle (","").split(" direct3d")[0]),t.includes("nvidia")&&t.includes("gb")&&(t=t.split(/\dgb/)[0]),t})(f),/(radeon hd 6970m|radeon hd 6770m|radeon hd 6490m|radeon hd 6630m|radeon hd 6750m|radeon hd 5750|radeon hd 5670|radeon hd 4850|radeon hd 4870|radeon hd 4670|geforce 9400m|geforce 320m|geforce 330m|geforce gt 130|geforce gt 120|geforce gtx 285|geforce 8600|geforce 9600m|geforce 9400m|geforce 8800 gs|geforce 8800 gt|quadro fx 5|quadro fx 4|radeon hd 2600|radeon hd 2400|radeon r9 200|mali-4|mali-3|mali-2|google swiftshader|sgx543|legacy|sgx 543)/.test(f))return v(0,"BLACKLISTED");const[g,y]=(m?d:p)(((e,t)=>{let n=0;return t.map(t=>{const r=Math.round(e.length/100*t),o=e.slice(n,n+r);return n+=r,o})})(m?n:t,m?e:r),f,l(f));return v(g,y)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},bTn1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=!1;function o(){r||(r=!0,console.warn('react-spring: The "interpolate" function is deprecated in v10 (use "to" instead)'))}},ckQ7:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return o}));var r=n("Womt");const o=/\bvoid\s+main\s*\(\s*\)\s*{/g;function i(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){let n=r.ShaderChunk[t];return n?i(n):e}))}const a=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}return e},s=Date.now(),c=new WeakMap,l=new Map;let u=1e10;function d(e,t){const n=function(e){const t=JSON.stringify(e,p);let n=m.get(t);null==n&&m.set(t,n=++f);return n}(t);let o=c.get(e);if(o||c.set(e,o=Object.create(null)),o[n])return new o[n];const v="_onBeforeCompile"+n,g=function(r){e.onBeforeCompile.call(this,r);const o=n+"|||"+r.vertexShader+"|||"+r.fragmentShader;let c=l[o];if(!c){const e=function({vertexShader:e,fragmentShader:t},n,r){let{vertexDefs:o,vertexMainIntro:a,vertexMainOutro:s,vertexTransform:c,fragmentDefs:l,fragmentMainIntro:u,fragmentMainOutro:d,fragmentColorTransform:p,customRewriter:f,timeUniform:m}=n;o=o||"",a=a||"",s=s||"",l=l||"",u=u||"",d=d||"",(c||f)&&(e=i(e));(p||f)&&(t=i(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(f){let n=f({vertexShader:e,fragmentShader:t});e=n.vertexShader,t=n.fragmentShader}if(p){let e=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),"")),d=`${p}\n${e.join("\n")}\n${d}`}if(m){const e=`\nuniform float ${m};\n`;o=e+o,l=e+l}c&&(o=`${o}\nvec3 troika_position_${r};\nvec3 troika_normal_${r};\nvec2 troika_uv_${r};\nvoid troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${c}\n}\n`,a=`\ntroika_position_${r} = vec3(position);\ntroika_normal_${r} = vec3(normal);\ntroika_uv_${r} = vec2(uv);\ntroikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});\n${a}\n`,e=e.replace(/\b(position|normal|uv)\b/g,(e,t,n,o)=>/\battribute\s+vec[23]\s+$/.test(o.substr(0,n))?t:`troika_${t}_${r}`));return e=h(e,r,o,a,s),t=h(t,r,l,u,d),{vertexShader:e,fragmentShader:t}}(r,t,n);c=l[o]=e}r.vertexShader=c.vertexShader,r.fragmentShader=c.fragmentShader,a(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-s}}),this[v]&&this[v](r)},y=function(){return b(t.chained?e:e.clone())},b=function(o){const i=Object.create(o,M);return Object.defineProperty(i,"baseMaterial",{value:e}),Object.defineProperty(i,"id",{value:u++}),i.uuid=r.MathUtils.generateUUID(),i.uniforms=a({},o.uniforms,t.uniforms),i.defines=a({},o.defines,t.defines),i.defines["TROIKA_DERIVED_MATERIAL_"+n]="",i.extensions=a({},o.extensions,t.extensions),i._listeners=void 0,i},M={constructor:{value:y},isDerivedMaterial:{value:!0},customProgramCacheKey:{value:function(){return n}},onBeforeCompile:{get:()=>g,set(e){this[v]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(a(this.extensions,t.extensions),a(this.defines,t.defines),a(this.uniforms,r.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return b(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||(n=this._depthMaterial=d(e.isDerivedMaterial?e.getDepthMaterial():new r.MeshDepthMaterial({depthPacking:r.RGBADepthPacking}),t),n.defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||(n=this._distanceMaterial=d(e.isDerivedMaterial?e.getDistanceMaterial():new r.MeshDistanceMaterial,t),n.defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return o[n]=y,new y}function h(e,t,n,r,i){return(r||i||n)&&(e=e.replace(o,`\n${n}\nvoid troikaOrigMain${t}() {`),e+=`\nvoid main() {\n  ${r}\n  troikaOrigMain${t}();\n  ${i}\n}`),e}function p(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}let f=0;const m=new Map;r.DoubleSide;r.Mesh},d11Q:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var r=n("q1tI"),o=function(e){return Object(r.useEffect)(e,[])},i=function(){var e=Object(r.useState)(0)[1],t=Object(r.useRef)(!1);return o((function(){return function(){t.current=!0}})),function(){t.current||e({})}};function a(e){var t=Object(r.useRef)(void 0);return Object(r.useEffect)((function(){t.current=e})),t.current}},dr3n:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n("71bl"),o=function(e){return(0,r.requestAnimationFrame)(e)},i=function(e){void 0===e&&(e=o);var t=!0,n=!1,i=0,s=[],c=0,l=new Set,u=new Set,d=new Set,h=function(e){var t=s.indexOf(e);t<0&&(t=s.findIndex((function(t){return t.priority>e.priority})),s.splice(~t?t:s.length,0,e))},p=function(){if(!t)try{v(),e(p)}catch(n){console.error(n)}},f=function(){t&&(t=!1,0==i&&(i=r.now(),e(p)))},m=[];this.setTimeout=function(e,t){var n=r.now()+t,o=function(){var e=m.findIndex((function(e){return e.cancel==o}));e>=0&&m.splice(e,1)},i=a(m,(function(e){return e.time>n})),s={time:n,handler:e,cancel:o};return m.splice(i,0,s),f(),s};var v=this.advance=function(){var e=r.now();if(l.size&&(l.forEach(h),l.clear()),m.length&&r.batchedUpdates((function(){var t=a(m,(function(t){return t.time>e}));m.splice(0,t).forEach((function(e){return e.handler()}))})),e>i){var t=Math.min(64,e-i);i=e,r.batchedUpdates((function(){s.length&&(r.willAdvance(s),s=s.filter((function(e){return c=e.priority,e.idle||e.advance(t),!e.idle})),c=0),u.size&&(u.forEach((function(t){return t(e)})),u.clear()),d.size&&(n=!0,d.forEach((function(t){return t(e)})),d.clear(),n=!1)}))}};this.start=function(e){c>e.priority?l.add(e):(h(e),f())},this.onFrame=function(e){u.add(e),f()},this.onWrite=function(e){n?e(i):d.add(e)}};function a(e,t){var n=e.findIndex(t);return n<0?e.length:n}}).call(this,n("8oxB"))},iLw5:function(e,t,n){(function(t){var n="[object GeneratorFunction]",r="object"==typeof t&&t&&t.Object===Object&&t,o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var c=Object.prototype,l=c.hasOwnProperty,u=c.toString,d=i.Symbol,h=c.propertyIsEnumerable,p=d?d.isConcatSpreadable:void 0,f=Math.max;function m(e){return g(e)||function(e){return function(e){return y(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?u.call(e):"";return"[object Function]"==t||t==n}(e)}(e)}(e)&&l.call(e,"callee")&&(!h.call(e,"callee")||"[object Arguments]"==u.call(e))}(e)||!!(p&&e&&e[p])}function v(e){if("string"==typeof e||function(e){return"symbol"==typeof e||y(e)&&"[object Symbol]"==u.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var g=Array.isArray;function y(e){return!!e&&"object"==typeof e}var b,M,I=(b=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=e[a];n(s,a)&&(i[a]=s)}return i}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(function e(t,n,r,o,i){var a=-1,c=t.length;for(r||(r=m),i||(i=[]);++a<c;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,o,i):s(i,l):o||(i[i.length]=l)}return i}(t,1),v))},M=f(void 0===M?b.length-1:M,0),function(){for(var e=arguments,t=-1,n=f(e.length-M,0),r=Array(n);++t<n;)r[t]=e[M+t];t=-1;for(var o=Array(M+1);++t<M;)o[t]=e[t];return o[M]=r,a(b,this,o)});e.exports=I}).call(this,n("yLpj"))},it5r:function(e,t,n){"use strict";t.a={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}},k9Bh:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("mrSG"),o=n("BAiv"),i=n("3aMv"),a="[-+]?\\d*\\.?\\d+";function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var c=new RegExp("rgb"+s(a,a,a)),l=new RegExp("rgba"+s(a,a,a,a)),u=new RegExp("hsl"+s(a,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%")),d=new RegExp("hsla"+s(a,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%",a)),h=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,p=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,f=/^#([0-9a-fA-F]{6})$/,m=/^#([0-9a-fA-F]{8})$/,v=n("71bl");function g(e,t,n){var r=(1-Math.abs(2*n-1))*t,o=n-r/2,i=function(e,t,n){return e<60?[t,n,0]:e<120?[n,t,0]:e<180?[0,t,n]:e<240?[0,n,t]:e<300?[n,0,t]:[t,0,n]}(e,r,r*(1-Math.abs(e/60%2-1))),a=i[0],s=i[1],c=i[2];return Math.round(255*(a+o))<<24|Math.round(255*(s+o))<<16|Math.round(255*(c+o))<<8}function y(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function b(e){return(parseFloat(e)%360+360)%360/360}function M(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function I(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function A(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=f.exec(e))?parseInt(t[1]+"ff",16)>>>0:v.colorNames&&void 0!==v.colorNames[e]?v.colorNames[e]:(t=c.exec(e))?(y(t[1])<<24|y(t[2])<<16|y(t[3])<<8|255)>>>0:(t=l.exec(e))?(y(t[1])<<24|y(t[2])<<16|y(t[3])<<8|M(t[4]))>>>0:(t=h.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=m.exec(e))?parseInt(t[1],16)>>>0:(t=p.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=u.exec(e))?(255|g(b(t[1]),I(t[2]),I(t[3])))>>>0:(t=d.exec(e))?(g(b(t[1]),I(t[2]),I(t[3]))|M(t[4]))>>>0:null}(e);return null===t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var D,w=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,R=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,G=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,T=function(e,t,n,r,o){return"rgba("+Math.round(t)+", "+Math.round(n)+", "+Math.round(r)+", "+o+")"},x=function(e){D||(D=v.colorNames?new RegExp("("+Object.keys(v.colorNames).join("|")+")","g"):/^\b$/);var t=e.output.map((function(e){return Object(o.c)(e).replace(R,A).replace(D,A)})),n=t.map((function(e){return e.match(w).map(Number)})),a=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return Object(i.a)(Object(r.a)(Object(r.a)({},e),{output:t}))}));return function(e){var n=0;return t[0].replace(w,(function(){return String(a[n++](e))})).replace(G,T)}}},m0my:function(e,t){e.exports=function(e,t,n){return e*(1-n)+t*n}},mHlH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("q1tI");function o(e,t){var n=Object(r.useState)((function(){return{inputs:t,result:e()}}))[0],o=Object(r.useRef)(n),i=Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return Object(r.useEffect)((function(){o.current=i}),[i]),i.result}function i(e,t){return o((function(){return e}),t)}}}]);